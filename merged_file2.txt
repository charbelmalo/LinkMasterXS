./models.py # models.py from flask_login import UserMixin from werkzeug.security import generate_password_hash, check_password_hash from extensions import db # Import db from extensions.py from datetime import datetime class User(db.Model, UserMixin): __tablename__ = 'user' # Explicitly name the table (optional) id = db.Column(db.Integer, primary_key=True) username = db.Column(db.String(150), unique=True, nullable=False) email = db.Column(db.String(150), unique=True, nullable=False) password_hash = db.Column(db.String(128), nullable=False) shortcuts = db.relationship('Shortcut', backref='user', lazy=True) def set_password(self, password): self.password_hash = generate_password_hash(password) def check_password(self, password): return check_password_hash(self.password_hash, password) class Shortcut(db.Model): __tablename__ = 'shortcut' id = db.Column(db.String(36), primary_key=True) user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False) name = db.Column(db.String(150), nullable=False) link = db.Column(db.String(500), nullable=False) emojis = db.Column(db.String(50)) color_from = db.Column(db.String(50)) color_to = db.Column(db.String(50)) short_description = db.Column(db.String(500)) pinned = db.Column(db.Boolean, default=False) favorited = db.Column(db.Boolean, default=False) score = db.Column(db.Float, default=0.0) date_added = db.Column(db.DateTime, default=datetime.utcnow) date_updated = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow) # Relationships tags = db.relationship('Tag', secondary='shortcut_tag', backref=db.backref('shortcuts', lazy='dynamic')) class Tag(db.Model): __tablename__ = 'tag' id = db.Column(db.Integer, primary_key=True) name = db.Column(db.String(100), nullable=False) parent_id = db.Column(db.Integer, db.ForeignKey('tag.id'), nullable=True) children = db.relationship('Tag', backref=db.backref('parent', remote_side=[id]), lazy='dynamic') # Association Table for Many-to-Many Relationship shortcut_tag = db.Table('shortcut_tag', db.Column('shortcut_id', db.String(36), db.ForeignKey('shortcut.id'), primary_key=True), db.Column('tag_id', db.Integer, db.ForeignKey('tag.id'), primary_key=True) ) # FILE: ./ignore/barba.min.js /** * Skipped minification because the original files appears to be already minified. * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files */ !function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).barba=n()}(this,(function(){function t(t,n){for(var r=0;r-1)&&(l=g,u=u.slice(0,b))}u&&(e.push(u),u="",c=!1);var E=m||p,x=l||f;e.push({name:d||i++,prefix:l,delimiter:x,optional:"?"===w||"*"===w,repeat:"+"===w||"*"===w,pattern:E?A(E):"[^"+k(x===f?x:x+f)+"]+?"})}}return(u||o1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},n(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),L=function(t,n){try{var r=function(){if(!n.next.html)return Promise.resolve(t).then((function(t){var r=n.next;if(t){var e=j.toElement(t);r.namespace=j.getNamespace(e),r.container=j.getContainer(e),r.html=t,M.update({ns:r.namespace});var i=j.toDocument(t);document.title=i.title}}))}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},$=d,_={__proto__:null,update:L,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:$},q=function(){return window.location.origin},B=function(t){return void 0===t&&(t=window.location.href),U(t).port},U=function(t){var n,r=t.match(/:\d+/);if(null===r)/^http/.test(t)&&(n=80),/^https/.test(t)&&(n=443);else{var e=r[0].substring(1);n=parseInt(e,10)}var i,o=t.replace(q(),""),u={},f=o.indexOf("#");f>=0&&(i=o.slice(f+1),o=o.slice(0,f));var s=o.indexOf("?");return s>=0&&(u=D(o.slice(s+1)),o=o.slice(0,s)),{hash:i,path:o,port:n,query:u}},D=function(t){return t.split("&").reduce((function(t,n){var r=n.split("=");return t[r[0]]=r[1],t}),{})},F=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},H={__proto__:null,getHref:function(){return window.location.href},getOrigin:q,getPort:B,getPath:function(t){return void 0===t&&(t=window.location.href),U(t).path},parse:U,parseQuery:D,clean:F};function I(t,n,r){return void 0===n&&(n=2e3),new Promise((function(e,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)e(o.responseText);else if(o.status){var n={status:o.status,statusText:o.statusText};r(t,n),i(n)}},o.ontimeout=function(){var e=new Error("Timeout error ["+n+"]");r(t,e),i(e)},o.onerror=function(){var n=new Error("Fetch error");r(t,n),i(n)},o.open("GET",t),o.timeout=n,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var C=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};function N(t,n){return void 0===n&&(n={}),function(){for(var r=arguments.length,e=new Array(r),i=0;i1?r-1:0),i=1;i1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey},K=function(t){var n=t.el;return n.hasAttribute("target")&&"_blank"===n.target},V=function(t){var n=t.el;return void 0!==n.protocol&&window.location.protocol!==n.protocol||void 0!==n.hostname&&window.location.hostname!==n.hostname},Y=function(t){var n=t.el;return void 0!==n.port&&B()!==B(n.href)},Z=function(t){var n=t.el;return n.getAttribute&&"string"==typeof n.getAttribute("download")},tt=function(t){return t.el.hasAttribute(S.prefix+"-"+S.prevent)},nt=function(t){return Boolean(t.el.closest("["+S.prefix+"-"+S.prevent+'="all"]'))},rt=function(t){var n=t.href;return F(n)===F()&&B(n)===B()},et=function(t){function n(n){var r;return(r=t.call(this,n)||this).suite=[],r.tests=new Map,r.init(),r}e(n,t);var r=n.prototype;return r.init=function(){this.add("pushState",Q),this.add("exists",W),this.add("newTab",J),this.add("blank",K),this.add("corsDomain",V),this.add("corsPort",Y),this.add("download",Z),this.add("preventSelf",tt),this.add("preventAll",nt),this.add("sameUrl",rt,!1)},r.add=function(t,n,r){void 0===r&&(r=!0),this.tests.set(t,n),r&&this.suite.push(t)},r.run=function(t,n,r,e){return this.tests.get(t)({el:n,event:r,href:e})},r.checkLink=function(t,n,r){var e=this;return this.suite.some((function(i){return e.run(i,t,n,r)}))},n}(z),it=function(t){function n(r,e){var i;void 0===e&&(e="Barba error");for(var o=arguments.length,u=new Array(o>2?o-2:0),f=2;f0&&c.push(u),(s=this.logger).info.apply(s,["Transition found ["+f.join(",")+"]"].concat(c))}else this.logger.info("No transition found ["+f.join(",")+"]");return o},n.update=function(){var t=this;this.all=this.all.map((function(n){return t.T(n)})).sort((function(t,n){return t.priority-n.priority})).reverse().map((function(t){return delete t.priority,t})),this.page=this.all.filter((function(t){return void 0!==t.leave||void 0!==t.enter})),this.once=this.all.filter((function(t){return void 0!==t.once}))},n.R=function(t,n,r,e,i){var o=!0,u=!1,f=t,s=n.name,c=s,a=s,h=s,v=i?f[i]:f,l="to"===i?r.next:r.current;if(i?v&&v[s]:v[s]){switch(n.type){case"strings":default:var d=Array.isArray(v[c])?v[c]:[v[c]];l[c]&&-1!==d.indexOf(l[c])&&(u=!0),-1===d.indexOf(l[c])&&(o=!1);break;case"object":var m=Array.isArray(v[a])?v[a]:[v[a]];l[a]?(l[a].name&&-1!==m.indexOf(l[a].name)&&(u=!0),-1===m.indexOf(l[a].name)&&(o=!1)):o=!1;break;case"function":v[h](r)?u=!0:o=!1}u&&(i?(e[i]=e[i]||{},e[i][s]=f[i][s]):e[s]=f[s])}return o},n.O=function(t,n,r){var e=0;return(t[n]||t.from&&t.from[n]||t.to&&t.to[n])&&(e+=Math.pow(10,r),t.from&&t.from[n]&&(e+=1),t.to&&t.to[n]&&(e+=2)),e},n.T=function(t){var n=this;t.priority=0;var r=0;return this.A.forEach((function(e,i){r+=n.O(t,e.name,i+1)})),t.priority=r,t},t}(),ut=function(){function t(t){void 0===t&&(t=[]),this.logger=new l("@barba/core"),this.S=!1,this.store=new ot(t)}var r=t.prototype;return r.get=function(t,n){return this.store.resolve(t,n)},r.doOnce=function(t){var n=t.data,r=t.transition;try{var e=function(){i.S=!1},i=this,o=r||{};i.S=!0;var u=s((function(){return Promise.resolve(i.j("beforeOnce",n,o)).then((function(){return Promise.resolve(i.once(n,o)).then((function(){return Promise.resolve(i.j("afterOnce",n,o)).then((function(){}))}))}))}),(function(t){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(t)}));return Promise.resolve(u&&u.then?u.then(e):e())}catch(t){return Promise.reject(t)}},r.doPage=function(t){var n=t.data,r=t.transition,e=t.page,i=t.wrapper;try{var o=function(t){if(u)return t;f.S=!1},u=!1,f=this,c=r||{},a=!0===c.sync||!1;f.S=!0;var h=s((function(){function t(){return Promise.resolve(f.j("before",n,c)).then((function(){var t=!1;function r(r){return t?r:Promise.resolve(f.remove(n)).then((function(){return Promise.resolve(f.j("after",n,c)).then((function(){}))}))}var o=function(){if(a)return s((function(){return Promise.resolve(f.add(n,i)).then((function(){return Promise.resolve(f.j("beforeLeave",n,c)).then((function(){return Promise.resolve(f.j("beforeEnter",n,c)).then((function(){return Promise.resolve(Promise.all([f.leave(n,c),f.enter(n,c)])).then((function(){return Promise.resolve(f.j("afterLeave",n,c)).then((function(){return Promise.resolve(f.j("afterEnter",n,c)).then((function(){}))}))}))}))}))}))}),(function(t){if(f.M(t))throw new it(t,"Transition error [sync]")}));var r=function(r){return t?r:s((function(){var t=function(){if(!1!==o)return Promise.resolve(f.add(n,i)).then((function(){return Promise.resolve(f.j("beforeEnter",n,c)).then((function(){return Promise.resolve(f.enter(n,c,o)).then((function(){return Promise.resolve(f.j("afterEnter",n,c)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(t){if(f.M(t))throw new it(t,"Transition error [before/after/enter]")}))},o=!1,u=s((function(){return Promise.resolve(f.j("beforeLeave",n,c)).then((function(){return Promise.resolve(Promise.all([f.leave(n,c),L(e,n)]).then((function(t){return t[0]}))).then((function(t){return o=t,Promise.resolve(f.j("afterLeave",n,c)).then((function(){}))}))}))}),(function(t){if(f.M(t))throw new it(t,"Transition error [before/after/leave]")}));return u&&u.then?u.then(r):r(u)}();return o&&o.then?o.then(r):r(o)}))}var r=function(){if(a)return Promise.resolve(L(e,n)).then((function(){}))}();return r&&r.then?r.then(t):t()}),(function(t){if(f.S=!1,t.name&&"BarbaError"===t.name)throw f.logger.debug(t.label),f.logger.error(t.error),t;throw f.logger.debug("Transition error [page]"),f.logger.error(t),t}));return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(t){return Promise.reject(t)}},r.once=function(t,n){try{return Promise.resolve(X.do("once",t,n)).then((function(){return n.once?N(n.once,n)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.leave=function(t,n){try{return Promise.resolve(X.do("leave",t,n)).then((function(){return n.leave?N(n.leave,n)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.enter=function(t,n,r){try{return Promise.resolve(X.do("enter",t,n)).then((function(){return n.enter?N(n.enter,n)(t,r):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.add=function(t,n){try{return j.addContainer(t.next.container,n),X.do("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return j.removeContainer(t.current.container),X.do("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},r.j=function(t,n,r){try{return Promise.resolve(X.do(t,n,r)).then((function(){return r[t]?N(r[t],r)(n):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n(t,[{key:"isRunning",get:function(){return this.S},set:function(t){this.S=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(t){return"self"===t.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))}}]),t}(),ft=function(){function t(t){var n=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){n.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){X[t](n.L(t))})))}return t.prototype.L=function(t){var n=this;return function(r){var e=t.match(/enter/i)?r.next:r.current,i=n.byNamespace.get(e.namespace);return i&&i[t]?N(i[t],i)(r):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var n=this;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});var st={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function t(){this.version=a,this.schemaPage=st,this.Logger=l,this.logger=new l("@barba/core"),this.plugins=[],this.hooks=X,this.dom=j,this.helpers=_,this.history=M,this.request=I,this.url=H}var e=t.prototype;return e.use=function(t,n){var r=this.plugins;r.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,n),r.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},e.init=function(t){var n=void 0===t?{}:t,e=n.transitions,i=void 0===e?[]:e,o=n.views,u=void 0===o?[]:o,f=n.schema,s=void 0===f?S:f,c=n.requestError,a=n.timeout,h=void 0===a?2e3:a,v=n.cacheIgnore,d=void 0!==v&&v,m=n.prefetchIgnore,p=void 0!==m&&m,w=n.preventRunning,b=void 0!==w&&w,y=n.prevent,P=void 0===y?null:y,g=n.debug,E=n.logLevel;if(l.setLevel(!0===(void 0!==g&&g)?"debug":void 0===E?"off":E),this.logger.info(this.version),Object.keys(s).forEach((function(t){S[t]&&(S[t]=s[t])})),this.$=c,this.timeout=h,this.cacheIgnore=d,this.prefetchIgnore=p,this.preventRunning=b,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var x=this.data.current;if(!x.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new G(d),this.prevent=new et(p),this.transitions=new ut(i),this.views=new ft(u),null!==P){if("function"!=typeof P)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",P)}this.history.init(x.url.href,x.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(t){return t.init()}));var k=this.data;k.trigger="barba",k.next=k.current,k.current=r({},this.schemaPage),this.hooks.do("ready",k),this.once(k),this.q()},e.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},e.force=function(t){window.location.assign(t)},e.go=function(t,n,r){var e;if(void 0===n&&(n="barba"),this.transitions.isRunning)this.force(t);else if(!(e="popstate"===n?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return n=this.history.change(t,n,r),r&&(r.stopPropagation(),r.preventDefault()),this.page(t,n,e)},e.once=function(t){try{var n=this;return Promise.resolve(n.hooks.do("beforeEnter",t)).then((function(){function r(){return Promise.resolve(n.hooks.do("afterEnter",t)).then((function(){}))}var e=function(){if(n.transitions.hasOnce){var r=n.transitions.get(t,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:r,data:t})).then((function(){}))}}();return e&&e.then?e.then(r):r()}))}catch(t){return Promise.reject(t)}},e.page=function(t,n,e){try{var i=function(){var t=o.data;return Promise.resolve(o.hooks.do("page",t)).then((function(){var n=s((function(){var n=o.transitions.get(t,{once:!1,self:e});return Promise.resolve(o.transitions.doPage({data:t,page:u,transition:n,wrapper:o._})).then((function(){o.q()}))}),(function(){0===l.getLevel()&&o.force(t.current.url.href)}));if(n&&n.then)return n.then((function(){}))}))},o=this;o.data.next.url=r({href:t},o.url.parse(t)),o.data.trigger=n;var u=o.cache.has(t)?o.cache.update(t,{action:"click"}).request:o.cache.set(t,o.request(t,o.timeout,o.onRequestError.bind(o,n)),"click").request,f=function(){if(o.transitions.shouldWait)return Promise.resolve(L(u,o.data)).then((function(){}))}();return Promise.resolve(f&&f.then?f.then(i):i())}catch(t){return Promise.reject(t)}},e.onRequestError=function(t){this.transitions.isRunning=!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;et){prev=prev._prev;}} if(prev){child._next=prev._next;prev._next=child;}else{child._next=parent[firstProp];parent[firstProp]=child;} if(child._next){child._next._prev=child;}else{parent[lastProp]=child;} child._prev=prev;child.parent=child._dp=parent;return child;},_removeLinkedListItem=function _removeLinkedListItem(parent,child,firstProp,lastProp){if(firstProp===void 0){firstProp="_first";} if(lastProp===void 0){lastProp="_last";} var prev=child._prev,next=child._next;if(prev){prev._next=next;}else if(parent[firstProp]===child){parent[firstProp]=next;} if(next){next._prev=prev;}else if(parent[lastProp]===child){parent[lastProp]=prev;} child._next=child._prev=child.parent=null;},_removeFromParent=function _removeFromParent(child,onlyIfParentHasAutoRemove){child.parent&&(!onlyIfParentHasAutoRemove||child.parent.autoRemoveChildren)&&child.parent.remove(child);child._act=0;},_uncache=function _uncache(animation,child){if(animation&&(!child||child._end>animation._dur||child._start<0)){var a=animation;while(a){a._dirty=1;a=a.parent;}} return animation;},_recacheAncestors=function _recacheAncestors(animation){var parent=animation.parent;while(parent&&parent.parent){parent._dirty=1;parent.totalDuration();parent=parent.parent;} return animation;},_rewindStartAt=function _rewindStartAt(tween,totalTime,suppressEvents,force){return tween._startAt&&(_reverting?tween._startAt.revert(_revertConfigNoKill):tween.vars.immediateRender&&!tween.vars.autoRevert||tween._startAt.render(totalTime,true,force));},_hasNoPausedAncestors=function _hasNoPausedAncestors(animation){return!animation||animation._ts&&_hasNoPausedAncestors(animation.parent);},_elapsedCycleDuration=function _elapsedCycleDuration(animation){return animation._repeat?_animationCycle(animation._tTime,animation=animation.duration()+animation._rDelay)*animation:0;},_animationCycle=function _animationCycle(tTime,cycleDuration){var whole=Math.floor(tTime/=cycleDuration);return tTime&&whole===tTime?whole-1:whole;},_parentToChildTotalTime=function _parentToChildTotalTime(parentTime,child){return(parentTime-child._start)*child._ts+(child._ts>=0?0:child._dirty?child.totalDuration():child._tDur);},_setEnd=function _setEnd(animation){return animation._end=_roundPrecise(animation._start+(animation._tDur/Math.abs(animation._ts||animation._rts||_tinyNum)||0));},_alignPlayhead=function _alignPlayhead(animation,totalTime){var parent=animation._dp;if(parent&&parent.smoothChildTiming&&animation._ts){animation._start=_roundPrecise(parent._time-(animation._ts>0?totalTime/animation._ts:((animation._dirty?animation.totalDuration():animation._tDur)-totalTime)/-animation._ts));_setEnd(animation);parent._dirty||_uncache(parent,animation);} return animation;},_postAddChecks=function _postAddChecks(timeline,child){var t;if(child._time||child._initted&&!child._dur){t=_parentToChildTotalTime(timeline.rawTime(),child);if(!child._dur||_clamp(0,child.totalDuration(),t)-child._tTime>_tinyNum){child.render(t,true);}} if(_uncache(timeline,child)._dp&&timeline._initted&&timeline._time>=timeline._dur&&timeline._ts){if(timeline._dur=0&&t.totalTime(t._tTime);t=t._dp;}} timeline._zTime=-_tinyNum;}},_addToTimeline=function _addToTimeline(timeline,child,position,skipChecks){child.parent&&_removeFromParent(child);child._start=_roundPrecise((_isNumber(position)?position:position||timeline!==_globalTimeline?_parsePosition(timeline,position,child):timeline._time)+child._delay);child._end=_roundPrecise(child._start+(child.totalDuration()/Math.abs(child.timeScale())||0));_addLinkedListItem(timeline,child,"_first","_last",timeline._sort?"_start":0);_isFromOrFromStart(child)||(timeline._recent=child);skipChecks||_postAddChecks(timeline,child);timeline._ts<0&&_alignPlayhead(timeline,timeline._tTime);return timeline;},_scrollTrigger=function _scrollTrigger(animation,trigger){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",trigger))&&_globals.ScrollTrigger.create(trigger,animation);},_attemptInitTween=function _attemptInitTween(tween,time,force,suppressEvents,tTime){_initTween(tween,time,tTime);if(!tween._initted){return 1;} if(!force&&tween._pt&&!_reverting&&(tween._dur&&tween.vars.lazy!==false||!tween._dur&&tween.vars.lazy)&&_lastRenderedFrame!==_ticker.frame){_lazyTweens.push(tween);tween._lazy=[tTime,suppressEvents];return 1;}},_parentPlayheadIsBeforeStart=function _parentPlayheadIsBeforeStart(_ref){var parent=_ref.parent;return parent&&parent._ts&&parent._initted&&!parent._lock&&(parent.rawTime()<0||_parentPlayheadIsBeforeStart(parent));},_isFromOrFromStart=function _isFromOrFromStart(_ref2){var data=_ref2.data;return data==="isFromStart"||data==="isStart";},_renderZeroDurationTween=function _renderZeroDurationTween(tween,totalTime,suppressEvents,force){var prevRatio=tween.ratio,ratio=totalTime<0||!totalTime&&(!tween._start&&_parentPlayheadIsBeforeStart(tween)&&!(!tween._initted&&_isFromOrFromStart(tween))||(tween._ts<0||tween._dp._ts<0)&&!_isFromOrFromStart(tween))?0:1,repeatDelay=tween._rDelay,tTime=0,pt,iteration,prevIteration;if(repeatDelay&&tween._repeat){tTime=_clamp(0,tween._tDur,totalTime);iteration=_animationCycle(tTime,repeatDelay);tween._yoyo&&iteration&1&&(ratio=1-ratio);if(iteration!==_animationCycle(tween._tTime,repeatDelay)){prevRatio=1-ratio;tween.vars.repeatRefresh&&tween._initted&&tween.invalidate();}} if(ratio!==prevRatio||_reverting||force||tween._zTime===_tinyNum||!totalTime&&tween._zTime){if(!tween._initted&&_attemptInitTween(tween,totalTime,force,suppressEvents,tTime)){return;} prevIteration=tween._zTime;tween._zTime=totalTime||(suppressEvents?_tinyNum:0);suppressEvents||(suppressEvents=totalTime&&!prevIteration);tween.ratio=ratio;tween._from&&(ratio=1-ratio);tween._time=0;tween._tTime=tTime;pt=tween._pt;while(pt){pt.r(ratio,pt.d);pt=pt._next;} totalTime<0&&_rewindStartAt(tween,totalTime,suppressEvents,true);tween._onUpdate&&!suppressEvents&&_callback(tween,"onUpdate");tTime&&tween._repeat&&!suppressEvents&&tween.parent&&_callback(tween,"onRepeat");if((totalTime>=tween._tDur||totalTime<0)&&tween.ratio===ratio){ratio&&_removeFromParent(tween,1);if(!suppressEvents&&!_reverting){_callback(tween,ratio?"onComplete":"onReverseComplete",true);tween._prom&&tween._prom();}}}else if(!tween._zTime){tween._zTime=totalTime;}},_findNextPauseTween=function _findNextPauseTween(animation,prevTime,time){var child;if(time>prevTime){child=animation._first;while(child&&child._start<=time){if(child.data==="isPause"&&child._start>prevTime){return child;} child=child._next;}}else{child=animation._last;while(child&&child._start>=time){if(child.data==="isPause"&&child._start0&&!leavePlayhead&&_alignPlayhead(animation,animation._tTime=animation._tDur*totalProgress);animation.parent&&_setEnd(animation);skipUncache||_uncache(animation.parent,animation);return animation;},_onUpdateTotalDuration=function _onUpdateTotalDuration(animation){return animation instanceof Timeline?_uncache(animation):_setDuration(animation,animation._dur);},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition=function _parsePosition(animation,position,percentAnimation){var labels=animation.labels,recent=animation._recent||_zeroPosition,clippedDuration=animation.duration()>=_bigNum?recent.endTime(false):animation._dur,i,offset,isPercent;if(_isString(position)&&(isNaN(position)||position in labels)){offset=position.charAt(0);isPercent=position.substr(-1)==="%";i=position.indexOf("=");if(offset==="<"||offset===">"){i>=0&&(position=position.replace(/=/,""));return(offset==="<"?recent._start:recent.endTime(recent._repeat>=0))+(parseFloat(position.substr(1))||0)*(isPercent?(i<0?recent:percentAnimation).totalDuration()/100:1);} if(i<0){position in labels||(labels[position]=clippedDuration);return labels[position];} offset=parseFloat(position.charAt(i-1)+position.substr(i+1));if(isPercent&&percentAnimation){offset=offset/100*(_isArray(percentAnimation)?percentAnimation[0]:percentAnimation).totalDuration();} return i>1?_parsePosition(animation,position.substr(0,i-1),percentAnimation)+offset:clippedDuration+offset;} return position==null?clippedDuration:+position;},_createTweenType=function _createTweenType(type,params,timeline){var isLegacy=_isNumber(params[1]),varsIndex=(isLegacy?2:1)+(type<2?0:1),vars=params[varsIndex],irVars,parent;isLegacy&&(vars.duration=params[1]);vars.parent=timeline;if(type){irVars=vars;parent=timeline;while(parent&&!("immediateRender"in irVars)){irVars=parent.vars.defaults||{};parent=_isNotFalse(parent.vars.inherit)&&parent.parent;} vars.immediateRender=_isNotFalse(irVars.immediateRender);type<2?vars.runBackwards=1:vars.startAt=params[varsIndex-1];} return new Tween(params[0],vars,params[varsIndex+1]);},_conditionalReturn=function _conditionalReturn(value,func){return value||value===0?func(value):func;},_clamp=function _clamp(min,max,value){return valuemax?max:value;},getUnit=function getUnit(value,v){return!_isString(value)||!(v=_unitExp.exec(value))?"":v[1];},clamp=function clamp(min,max,value){return _conditionalReturn(value,function(v){return _clamp(min,max,v);});},_slice=[].slice,_isArrayLike=function _isArrayLike(value,nonEmpty){return value&&_isObject(value)&&"length"in value&&(!nonEmpty&&!value.length||value.length-1 in value&&_isObject(value[0]))&&!value.nodeType&&value!==_win;},_flatten=function _flatten(ar,leaveStrings,accumulator){if(accumulator===void 0){accumulator=[];} return ar.forEach(function(value){var _accumulator;return _isString(value)&&!leaveStrings||_isArrayLike(value,1)?(_accumulator=accumulator).push.apply(_accumulator,toArray(value)):accumulator.push(value);})||accumulator;},toArray=function toArray(value,scope,leaveStrings){return _context&&!scope&&_context.selector?_context.selector(value):_isString(value)&&!leaveStrings&&(_coreInitted||!_wake())?_slice.call((scope||_doc).querySelectorAll(value),0):_isArray(value)?_flatten(value,leaveStrings):_isArrayLike(value)?_slice.call(value,0):value?[value]:[];},selector=function selector(value){value=toArray(value)[0]||_warn("Invalid scope")||{};return function(v){var el=value.current||value.nativeElement||value;return toArray(v,el.querySelectorAll?el:el===value?_warn("Invalid scope")||_doc.createElement("div"):value);};},shuffle=function shuffle(a){return a.sort(function(){return .5-Math.random();});},distribute=function distribute(v){if(_isFunction(v)){return v;} var vars=_isObject(v)?v:{each:v},ease=_parseEase(vars.ease),from=vars.from||0,base=parseFloat(vars.base)||0,cache={},isDecimal=from>0&&from<1,ratios=isNaN(from)||isDecimal,axis=vars.axis,ratioX=from,ratioY=from;if(_isString(from)){ratioX=ratioY={center:.5,edges:.5,end:1}[from]||0;}else if(!isDecimal&&ratios){ratioX=from[0];ratioY=from[1];} return function(i,target,a){var l=(a||vars).length,distances=cache[l],originX,originY,x,y,d,j,max,min,wrapAt;if(!distances){wrapAt=vars.grid==="auto"?0:(vars.grid||[1,_bigNum])[1];if(!wrapAt){max=-_bigNum;while(max<(max=a[wrapAt++].getBoundingClientRect().left)&&wrapAtmax&&(max=d);dl?l-1:!axis?Math.max(wrapAt,l/wrapAt):axis==="y"?l/wrapAt:wrapAt)||0)*(from==="edges"?-1:1);distances.b=l<0?base-l:base;distances.u=getUnit(vars.amount||vars.each)||0;ease=ease&&l<0?_invertEase(ease):ease;} l=(distances[i]-distances.min)/distances.max||0;return _roundPrecise(distances.b+(ease?ease(l):l)*distances.v)+distances.u;};},_roundModifier=function _roundModifier(v){var p=Math.pow(10,((v+"").split(".")[1]||"").length);return function(raw){var n=_roundPrecise(Math.round(parseFloat(raw)/v)*v*p);return(n-n%1)/p+(_isNumber(raw)?0:getUnit(raw));};},snap=function snap(snapTo,value){var isArray=_isArray(snapTo),radius,is2D;if(!isArray&&_isObject(snapTo)){radius=isArray=snapTo.radius||_bigNum;if(snapTo.values){snapTo=toArray(snapTo.values);if(is2D=!_isNumber(snapTo[0])){radius*=radius;}}else{snapTo=_roundModifier(snapTo.increment);}} return _conditionalReturn(value,!isArray?_roundModifier(snapTo):_isFunction(snapTo)?function(raw){is2D=snapTo(raw);return Math.abs(is2D-raw)<=radius?is2D:raw;}:function(raw){var x=parseFloat(is2D?raw.x:raw),y=parseFloat(is2D?raw.y:0),min=_bigNum,closest=0,i=snapTo.length,dx,dy;while(i--){if(is2D){dx=snapTo[i].x-x;dy=snapTo[i].y-y;dx=dx*dx+dy*dy;}else{dx=Math.abs(snapTo[i]-x);} if(dxrange?total-value:value);});},_replaceRandom=function _replaceRandom(value){var prev=0,s="",i,nums,end,isArray;while(~(i=value.indexOf("random(",prev))){end=value.indexOf(")",i);isArray=value.charAt(i+7)==="[";nums=value.substr(i+7,end-i-7).match(isArray?_delimitedValueExp:_strictNumExp);s+=value.substr(prev,i-prev)+random(isArray?nums:+nums[0],isArray?0:+nums[1],+nums[2]||1e-5);prev=end+1;} return s+value.substr(prev,value.length-prev);},mapRange=function mapRange(inMin,inMax,outMin,outMax,value){var inRange=inMax-inMin,outRange=outMax-outMin;return _conditionalReturn(value,function(value){return outMin+((value-inMin)/inRange*outRange||0);});},interpolate=function interpolate(start,end,progress,mutate){var func=isNaN(start+end)?0:function(p){return(1-p)*start+p*end;};if(!func){var isString=_isString(start),master={},p,i,interpolators,l,il;progress===true&&(mutate=1)&&(progress=null);if(isString){start={p:start};end={p:end};}else if(_isArray(start)&&!_isArray(end)){interpolators=[];l=start.length;il=l-2;for(i=1;i(distance=Math.abs(distance))){label=p;min=distance;}} return label;},_callback=function _callback(animation,type,executeLazyFirst){var v=animation.vars,callback=v[type],prevContext=_context,context=animation._ctx,params,scope,result;if(!callback){return;} params=v[type+"Params"];scope=v.callbackScope||animation;executeLazyFirst&&_lazyTweens.length&&_lazyRender();context&&(_context=context);result=params?callback.apply(scope,params):callback.call(scope);_context=prevContext;return result;},_interrupt=function _interrupt(animation){_removeFromParent(animation);animation.scrollTrigger&&animation.scrollTrigger.kill(!!_reverting);animation.progress()<1&&_callback(animation,"onInterrupt");return animation;},_quickTween,_createPlugin=function _createPlugin(config){config=!config.name&&config["default"]||config;var name=config.name,isFunc=_isFunction(config),Plugin=name&&!isFunc&&config.init?function(){this._props=[];}:config,instanceDefaults={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},statics={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};_wake();if(config!==Plugin){if(_plugins[name]){return;} _setDefaults(Plugin,_setDefaults(_copyExcluding(config,instanceDefaults),statics));_merge(Plugin.prototype,_merge(instanceDefaults,_copyExcluding(config,statics)));_plugins[Plugin.prop=name]=Plugin;if(config.targetTest){_harnessPlugins.push(Plugin);_reservedProps[name]=1;} name=(name==="css"?"CSS":name.charAt(0).toUpperCase()+name.substr(1))+"Plugin";} _addGlobal(name,Plugin);config.register&&config.register(gsap,Plugin,PropTween);},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function _hue(h,m1,m2){h+=h<0?1:h>1?-1:0;return(h*6<1?m1+(m2-m1)*h*6:h<.5?m2:h*3<2?m1+(m2-m1)*(2/3-h)*6:m1)*_255+.5|0;},splitColor=function splitColor(v,toHSL,forceAlpha){var a=!v?_colorLookup.black:_isNumber(v)?[v>>16,v>>8&_255,v&_255]:0,r,g,b,h,s,l,max,min,d,wasHSL;if(!a){if(v.substr(-1)===","){v=v.substr(0,v.length-1);} if(_colorLookup[v]){a=_colorLookup[v];}else if(v.charAt(0)==="#"){if(v.length<6){r=v.charAt(1);g=v.charAt(2);b=v.charAt(3);v="#"+r+r+g+g+b+b+(v.length===5?v.charAt(4)+v.charAt(4):"");} if(v.length===9){a=parseInt(v.substr(1,6),16);return[a>>16,a>>8&_255,a&_255,parseInt(v.substr(7),16)/255];} v=parseInt(v.substr(1),16);a=[v>>16,v>>8&_255,v&_255];}else if(v.substr(0,3)==="hsl"){a=wasHSL=v.match(_strictNumExp);if(!toHSL){h=+a[0]%360/360;s=+a[1]/100;l=+a[2]/100;g=l<=.5?l*(s+1):l+s-l*s;r=l*2-g;a.length>3&&(a[3]*=1);a[0]=_hue(h+1/3,r,g);a[1]=_hue(h,r,g);a[2]=_hue(h-1/3,r,g);}else if(~v.indexOf("=")){a=v.match(_numExp);forceAlpha&&a.length<4&&(a[3]=1);return a;}}else{a=v.match(_strictNumExp)||_colorLookup.transparent;} a=a.map(Number);} if(toHSL&&!wasHSL){r=a[0]/_255;g=a[1]/_255;b=a[2]/_255;max=Math.max(r,g,b);min=Math.min(r,g,b);l=(max+min)/2;if(max===min){h=s=0;}else{d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);h=max===r?(g-b)/d+(g_lagThreshold&&(_startTime+=elapsed-_adjustedLag);_lastUpdate+=elapsed;time=_lastUpdate-_startTime;overlap=time-_nextTime;if(overlap>0||manual){frame=++_self.frame;_delta=time-_self.time*1000;_self.time=time=time/1000;_nextTime+=overlap+(overlap>=_gap?4:_gap-overlap);dispatch=1;} manual||(_id=_req(_tick));if(dispatch){for(_i=0;_i<_listeners.length;_i++){_listeners[_i](time,_delta,frame,v);}}};_self={time:0,frame:0,tick:function tick(){_tick(true);},deltaRatio:function deltaRatio(fps){return _delta/(1000/(fps||60));},wake:function wake(){if(_coreReady){if(!_coreInitted&&_windowExists()){_win=_coreInitted=window;_doc=_win.document||{};_globals.gsap=gsap;(_win.gsapVersions||(_win.gsapVersions=[])).push(gsap.version);_install(_installScope||_win.GreenSockGlobals||!_win.gsap&&_win||{});_raf=_win.requestAnimationFrame;} _id&&_self.sleep();_req=_raf||function(f){return setTimeout(f,_nextTime-_self.time*1000+1|0);};_tickerActive=1;_tick(2);}},sleep:function sleep(){(_raf?_win.cancelAnimationFrame:clearTimeout)(_id);_tickerActive=0;_req=_emptyFunc;},lagSmoothing:function lagSmoothing(threshold,adjustedLag){_lagThreshold=threshold||Infinity;_adjustedLag=Math.min(adjustedLag||33,_lagThreshold);},fps:function fps(_fps){_gap=1000/(_fps||240);_nextTime=_self.time*1000+_gap;},add:function add(callback,once,prioritize){var func=once?function(t,d,f,v){callback(t,d,f,v);_self.remove(func);}:callback;_self.remove(callback);_listeners[prioritize?"unshift":"push"](func);_wake();return func;},remove:function remove(callback,i){~(i=_listeners.indexOf(callback))&&_listeners.splice(i,1)&&_i>=i&&_i--;},_listeners:_listeners};return _self;}(),_wake=function _wake(){return!_tickerActive&&_ticker.wake();},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function _parseObjectInString(value){var obj={},split=value.substr(1,value.length-3).split(":"),key=split[0],i=1,l=split.length,index,val,parsedVal;for(;i1&&ease.config?ease.config.apply(null,~name.indexOf("{")?[_parseObjectInString(split[1])]:_valueInParentheses(name).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(name)?_easeMap._CE("",name):ease;},_invertEase=function _invertEase(ease){return function(p){return 1-ease(1-p);};},_propagateYoyoEase=function _propagateYoyoEase(timeline,isYoyo){var child=timeline._first,ease;while(child){if(child instanceof Timeline){_propagateYoyoEase(child,isYoyo);}else if(child.vars.yoyoEase&&(!child._yoyo||!child._repeat)&&child._yoyo!==isYoyo){if(child.timeline){_propagateYoyoEase(child.timeline,isYoyo);}else{ease=child._ease;child._ease=child._yEase;child._yEase=ease;child._yoyo=isYoyo;}} child=child._next;}},_parseEase=function _parseEase(ease,defaultEase){return!ease?defaultEase:(_isFunction(ease)?ease:_easeMap[ease]||_configEaseFromString(ease))||defaultEase;},_insertEase=function _insertEase(names,easeIn,easeOut,easeInOut){if(easeOut===void 0){easeOut=function easeOut(p){return 1-easeIn(1-p);};} if(easeInOut===void 0){easeInOut=function easeInOut(p){return p<.5?easeIn(p*2)/2:1-easeIn((1-p)*2)/2;};} var ease={easeIn:easeIn,easeOut:easeOut,easeInOut:easeInOut},lowercaseName;_forEachName(names,function(name){_easeMap[name]=_globals[name]=ease;_easeMap[lowercaseName=name.toLowerCase()]=easeOut;for(var p in ease){_easeMap[lowercaseName+(p==="easeIn"?".in":p==="easeOut"?".out":".inOut")]=_easeMap[name+"."+p]=ease[p];}});return ease;},_easeInOutFromOut=function _easeInOutFromOut(easeOut){return function(p){return p<.5?(1-easeOut(1-p*2))/2:.5+easeOut((p-.5)*2)/2;};},_configElastic=function _configElastic(type,amplitude,period){var p1=amplitude>=1?amplitude:1,p2=(period||(type?.3:.45))/(amplitude<1?amplitude:1),p3=p2/_2PI*(Math.asin(1/p1)||0),easeOut=function easeOut(p){return p===1?1:p1*Math.pow(2,-10*p)*_sin((p-p3)*p2)+1;},ease=type==="out"?easeOut:type==="in"?function(p){return 1-easeOut(1-p);}:_easeInOutFromOut(easeOut);p2=_2PI/p2;ease.config=function(amplitude,period){return _configElastic(type,amplitude,period);};return ease;},_configBack=function _configBack(type,overshoot){if(overshoot===void 0){overshoot=1.70158;} var easeOut=function easeOut(p){return p?--p*p*((overshoot+1)*p+overshoot)+1:0;},ease=type==="out"?easeOut:type==="in"?function(p){return 1-easeOut(1-p);}:_easeInOutFromOut(easeOut);ease.config=function(overshoot){return _configBack(type,overshoot);};return ease;};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(name,i){var power=i<5?i+1:i;_insertEase(name+",Power"+(power-1),i?function(p){return Math.pow(p,power);}:function(p){return p;},function(p){return 1-Math.pow(1-p,power);},function(p){return p<.5?Math.pow(p*2,power)/2:1-Math.pow((1-p)*2,power)/2;});});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(n,c){var n1=1/c,n2=2*n1,n3=2.5*n1,easeOut=function easeOut(p){return p0?value+(value+this._rDelay)*this._repeat:value):this.totalDuration()&&this._dur;};_proto.totalDuration=function totalDuration(value){if(!arguments.length){return this._tDur;} this._dirty=0;return _setDuration(this,this._repeat<0?value:(value-this._repeat*this._rDelay)/(this._repeat+1));};_proto.totalTime=function totalTime(_totalTime,suppressEvents){_wake();if(!arguments.length){return this._tTime;} var parent=this._dp;if(parent&&parent.smoothChildTiming&&this._ts){_alignPlayhead(this,_totalTime);!parent._dp||parent.parent||_postAddChecks(parent,this);while(parent&&parent.parent){if(parent.parent._time!==parent._start+(parent._ts>=0?parent._tTime/parent._ts:(parent.totalDuration()-parent._tTime)/-parent._ts)){parent.totalTime(parent._tTime,true);} parent=parent.parent;} if(!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&_totalTime0||!this._tDur&&!_totalTime)){_addToTimeline(this._dp,this,this._start-this._delay);}} if(this._tTime!==_totalTime||!this._dur&&!suppressEvents||this._initted&&Math.abs(this._zTime)===_tinyNum||!_totalTime&&!this._initted&&(this.add||this._ptLookup)){this._ts||(this._pTime=_totalTime);_lazySafeRender(this,_totalTime,suppressEvents);} return this;};_proto.time=function time(value,suppressEvents){return arguments.length?this.totalTime(Math.min(this.totalDuration(),value+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(value?this._dur:0),suppressEvents):this._time;};_proto.totalProgress=function totalProgress(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio;};_proto.progress=function progress(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-value:value)+_elapsedCycleDuration(this),suppressEvents):this.duration()?Math.min(1,this._time/this._dur):this.ratio;};_proto.iteration=function iteration(value,suppressEvents){var cycleDuration=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(value-1)*cycleDuration,suppressEvents):this._repeat?_animationCycle(this._tTime,cycleDuration)+1:1;};_proto.timeScale=function timeScale(value){if(!arguments.length){return this._rts===-_tinyNum?0:this._rts;} if(this._rts===value){return this;} var tTime=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;this._rts=+value||0;this._ts=this._ps||value===-_tinyNum?0:this._rts;this.totalTime(_clamp(-this._delay,this._tDur,tTime),true);_setEnd(this);return _recacheAncestors(this);};_proto.paused=function paused(value){if(!arguments.length){return this._ps;} if(this._ps!==value){this._ps=value;if(value){this._pTime=this._tTime||Math.max(-this._delay,this.rawTime());this._ts=this._act=0;}else{_wake();this._ts=this._rts;this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum));}} return this;};_proto.startTime=function startTime(value){if(arguments.length){this._start=value;var parent=this.parent||this._dp;parent&&(parent._sort||!this.parent)&&_addToTimeline(parent,this,value-this._delay);return this;} return this._start;};_proto.endTime=function endTime(includeRepeats){return this._start+(_isNotFalse(includeRepeats)?this.totalDuration():this.duration())/Math.abs(this._ts||1);};_proto.rawTime=function rawTime(wrapRepeats){var parent=this.parent||this._dp;return!parent?this._tTime:wrapRepeats&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):!this._ts?this._tTime:_parentToChildTotalTime(parent.rawTime(wrapRepeats),this);};_proto.revert=function revert(config){if(config===void 0){config=_revertConfig;} var prevIsReverting=_reverting;_reverting=config;if(this._initted||this._startAt){this.timeline&&this.timeline.revert(config);this.totalTime(-0.01,config.suppressEvents);} this.data!=="nested"&&config.kill!==false&&this.kill();_reverting=prevIsReverting;return this;};_proto.globalTime=function globalTime(rawTime){var animation=this,time=arguments.length?rawTime:animation.rawTime();while(animation){time=animation._start+time/(animation._ts||1);animation=animation._dp;} return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(rawTime):time;};_proto.repeat=function repeat(value){if(arguments.length){this._repeat=value===Infinity?-2:value;return _onUpdateTotalDuration(this);} return this._repeat===-2?Infinity:this._repeat;};_proto.repeatDelay=function repeatDelay(value){if(arguments.length){var time=this._time;this._rDelay=value;_onUpdateTotalDuration(this);return time?this.time(time):this;} return this._rDelay;};_proto.yoyo=function yoyo(value){if(arguments.length){this._yoyo=value;return this;} return this._yoyo;};_proto.seek=function seek(position,suppressEvents){return this.totalTime(_parsePosition(this,position),_isNotFalse(suppressEvents));};_proto.restart=function restart(includeDelay,suppressEvents){return this.play().totalTime(includeDelay?-this._delay:0,_isNotFalse(suppressEvents));};_proto.play=function play(from,suppressEvents){from!=null&&this.seek(from,suppressEvents);return this.reversed(false).paused(false);};_proto.reverse=function reverse(from,suppressEvents){from!=null&&this.seek(from||this.totalDuration(),suppressEvents);return this.reversed(true).paused(false);};_proto.pause=function pause(atTime,suppressEvents){atTime!=null&&this.seek(atTime,suppressEvents);return this.paused(true);};_proto.resume=function resume(){return this.paused(false);};_proto.reversed=function reversed(value){if(arguments.length){!!value!==this.reversed()&&this.timeScale(-this._rts||(value?-_tinyNum:0));return this;} return this._rts<0;};_proto.invalidate=function invalidate(){this._initted=this._act=0;this._zTime=-_tinyNum;return this;};_proto.isActive=function isActive(){var parent=this.parent||this._dp,start=this._start,rawTime;return!!(!parent||this._ts&&this._initted&&parent.isActive()&&(rawTime=parent.rawTime(true))>=start&&rawTime1){if(!callback){delete vars[type];}else{vars[type]=callback;params&&(vars[type+"Params"]=params);type==="onUpdate"&&(this._onUpdate=callback);} return this;} return vars[type];};_proto.then=function then(onFulfilled){var self=this;return new Promise(function(resolve){var f=_isFunction(onFulfilled)?onFulfilled:_passThrough,_resolve=function _resolve(){var _then=self.then;self.then=null;_isFunction(f)&&(f=f(self))&&(f.then||f===self)&&(self.then=_then);resolve(f);self.then=_then;};if(self._initted&&self.totalProgress()===1&&self._ts>=0||!self._tTime&&self._ts<0){_resolve();}else{self._prom=_resolve;}});};_proto.kill=function kill(){_interrupt(this);};return Animation;}();_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:false,parent:null,_initted:false,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:false,_rts:1});var Timeline=function(_Animation){_inheritsLoose(Timeline,_Animation);function Timeline(vars,position){var _this;if(vars===void 0){vars={};} _this=_Animation.call(this,vars)||this;_this.labels={};_this.smoothChildTiming=!!vars.smoothChildTiming;_this.autoRemoveChildren=!!vars.autoRemoveChildren;_this._sort=_isNotFalse(vars.sortChildren);_globalTimeline&&_addToTimeline(vars.parent||_globalTimeline,_assertThisInitialized(_this),position);vars.reversed&&_this.reverse();vars.paused&&_this.paused(true);vars.scrollTrigger&&_scrollTrigger(_assertThisInitialized(_this),vars.scrollTrigger);return _this;} var _proto2=Timeline.prototype;_proto2.to=function to(targets,vars,position){_createTweenType(0,arguments,this);return this;};_proto2.from=function from(targets,vars,position){_createTweenType(1,arguments,this);return this;};_proto2.fromTo=function fromTo(targets,fromVars,toVars,position){_createTweenType(2,arguments,this);return this;};_proto2.set=function set(targets,vars,position){vars.duration=0;vars.parent=this;_inheritDefaults(vars).repeatDelay||(vars.repeat=0);vars.immediateRender=!!vars.immediateRender;new Tween(targets,vars,_parsePosition(this,position),1);return this;};_proto2.call=function call(callback,params,position){return _addToTimeline(this,Tween.delayedCall(0,callback,params),position);};_proto2.staggerTo=function staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams){vars.duration=duration;vars.stagger=vars.stagger||stagger;vars.onComplete=onCompleteAll;vars.onCompleteParams=onCompleteAllParams;vars.parent=this;new Tween(targets,vars,_parsePosition(this,position));return this;};_proto2.staggerFrom=function staggerFrom(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams){vars.runBackwards=1;_inheritDefaults(vars).immediateRender=_isNotFalse(vars.immediateRender);return this.staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams);};_proto2.staggerFromTo=function staggerFromTo(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams){toVars.startAt=fromVars;_inheritDefaults(toVars).immediateRender=_isNotFalse(toVars.immediateRender);return this.staggerTo(targets,duration,toVars,stagger,position,onCompleteAll,onCompleteAllParams);};_proto2.render=function render(totalTime,suppressEvents,force){var prevTime=this._time,tDur=this._dirty?this.totalDuration():this._tDur,dur=this._dur,tTime=totalTime<=0?0:_roundPrecise(totalTime),crossingStart=this._zTime<0!==totalTime<0&&(this._initted||!dur),time,child,next,iteration,cycleDuration,prevPaused,pauseTween,timeScale,prevStart,prevIteration,yoyo,isYoyo;this!==_globalTimeline&&tTime>tDur&&totalTime>=0&&(tTime=tDur);if(tTime!==this._tTime||force||crossingStart){if(prevTime!==this._time&&dur){tTime+=this._time-prevTime;totalTime+=this._time-prevTime;} time=tTime;prevStart=this._start;timeScale=this._ts;prevPaused=!timeScale;if(crossingStart){dur||(prevTime=this._zTime);(totalTime||!suppressEvents)&&(this._zTime=totalTime);} if(this._repeat){yoyo=this._yoyo;cycleDuration=dur+this._rDelay;if(this._repeat<-1&&totalTime<0){return this.totalTime(cycleDuration*100+totalTime,suppressEvents,force);} time=_roundPrecise(tTime%cycleDuration);if(tTime===tDur){iteration=this._repeat;time=dur;}else{iteration=~~(tTime/cycleDuration);if(iteration&&iteration===tTime/cycleDuration){time=dur;iteration--;} time>dur&&(time=dur);} prevIteration=_animationCycle(this._tTime,cycleDuration);!prevTime&&this._tTime&&prevIteration!==iteration&&(prevIteration=iteration);if(yoyo&&iteration&1){time=dur-time;isYoyo=1;} if(iteration!==prevIteration&&!this._lock){var rewinding=yoyo&&prevIteration&1,doesWrap=rewinding===(yoyo&&iteration&1);iteration=prevTime&&totalTime>=0){child=this._first;while(child){next=child._next;if((child._act||time>=child._start)&&child._ts&&pauseTween!==child){if(child.parent!==this){return this.render(totalTime,suppressEvents,force);} child.render(child._ts>0?(time-child._start)*child._ts:(child._dirty?child.totalDuration():child._tDur)+(time-child._start)*child._ts,suppressEvents,force);if(time!==this._time||!this._ts&&!prevPaused){pauseTween=0;next&&(tTime+=this._zTime=-_tinyNum);break;}} child=next;}}else{child=this._last;var adjustedTime=totalTime<0?totalTime:time;while(child){next=child._prev;if((child._act||adjustedTime<=child._end)&&child._ts&&pauseTween!==child){if(child.parent!==this){return this.render(totalTime,suppressEvents,force);} child.render(child._ts>0?(adjustedTime-child._start)*child._ts:(child._dirty?child.totalDuration():child._tDur)+(adjustedTime-child._start)*child._ts,suppressEvents,force||_reverting&&(child._initted||child._startAt));if(time!==this._time||!this._ts&&!prevPaused){pauseTween=0;next&&(tTime+=this._zTime=adjustedTime?-_tinyNum:_tinyNum);break;}} child=next;}} if(pauseTween&&!suppressEvents){this.pause();pauseTween.render(time>=prevTime?0:-_tinyNum)._zTime=time>=prevTime?1:-1;if(this._ts){this._start=prevStart;_setEnd(this);return this.render(totalTime,suppressEvents,force);}} this._onUpdate&&!suppressEvents&&_callback(this,"onUpdate",true);if(tTime===tDur&&this._tTime>=this.totalDuration()||!tTime&&prevTime)if(prevStart===this._start||Math.abs(timeScale)!==Math.abs(this._ts))if(!this._lock){(totalTime||!dur)&&(tTime===tDur&&this._ts>0||!tTime&&this._ts<0)&&_removeFromParent(this,1);if(!suppressEvents&&!(totalTime<0&&!prevTime)&&(tTime||prevTime||!tDur)){_callback(this,tTime===tDur&&totalTime>=0?"onComplete":"onReverseComplete",true);this._prom&&!(tTime0)&&this._prom();}}} return this;};_proto2.add=function add(child,position){var _this2=this;_isNumber(position)||(position=_parsePosition(this,position,child));if(!(child instanceof Animation)){if(_isArray(child)){child.forEach(function(obj){return _this2.add(obj,position);});return this;} if(_isString(child)){return this.addLabel(child,position);} if(_isFunction(child)){child=Tween.delayedCall(0,child);}else{return this;}} return this!==child?_addToTimeline(this,child,position):this;};_proto2.getChildren=function getChildren(nested,tweens,timelines,ignoreBeforeTime){if(nested===void 0){nested=true;} if(tweens===void 0){tweens=true;} if(timelines===void 0){timelines=true;} if(ignoreBeforeTime===void 0){ignoreBeforeTime=-_bigNum;} var a=[],child=this._first;while(child){if(child._start>=ignoreBeforeTime){if(child instanceof Tween){tweens&&a.push(child);}else{timelines&&a.push(child);nested&&a.push.apply(a,child.getChildren(true,tweens,timelines));}} child=child._next;} return a;};_proto2.getById=function getById(id){var animations=this.getChildren(1,1,1),i=animations.length;while(i--){if(animations[i].vars.id===id){return animations[i];}}};_proto2.remove=function remove(child){if(_isString(child)){return this.removeLabel(child);} if(_isFunction(child)){return this.killTweensOf(child);} _removeLinkedListItem(this,child);if(child===this._recent){this._recent=this._last;} return _uncache(this);};_proto2.totalTime=function totalTime(_totalTime2,suppressEvents){if(!arguments.length){return this._tTime;} this._forcing=1;if(!this._dp&&this._ts){this._start=_roundPrecise(_ticker.time-(this._ts>0?_totalTime2/this._ts:(this.totalDuration()-_totalTime2)/-this._ts));} _Animation.prototype.totalTime.call(this,_totalTime2,suppressEvents);this._forcing=0;return this;};_proto2.addLabel=function addLabel(label,position){this.labels[label]=_parsePosition(this,position);return this;};_proto2.removeLabel=function removeLabel(label){delete this.labels[label];return this;};_proto2.addPause=function addPause(position,callback,params){var t=Tween.delayedCall(0,callback||_emptyFunc,params);t.data="isPause";this._hasPause=1;return _addToTimeline(this,t,_parsePosition(this,position));};_proto2.removePause=function removePause(position){var child=this._first;position=_parsePosition(this,position);while(child){if(child._start===position&&child.data==="isPause"){_removeFromParent(child);} child=child._next;}};_proto2.killTweensOf=function killTweensOf(targets,props,onlyActive){var tweens=this.getTweensOf(targets,onlyActive),i=tweens.length;while(i--){_overwritingTween!==tweens[i]&&tweens[i].kill(targets,props);} return this;};_proto2.getTweensOf=function getTweensOf(targets,onlyActive){var a=[],parsedTargets=toArray(targets),child=this._first,isGlobalTime=_isNumber(onlyActive),children;while(child){if(child instanceof Tween){if(_arrayContainsAny(child._targets,parsedTargets)&&(isGlobalTime?(!_overwritingTween||child._initted&&child._ts)&&child.globalTime(0)<=onlyActive&&child.globalTime(child.totalDuration())>onlyActive:!onlyActive||child.isActive())){a.push(child);}}else if((children=child.getTweensOf(parsedTargets,onlyActive)).length){a.push.apply(a,children);} child=child._next;} return a;};_proto2.tweenTo=function tweenTo(position,vars){vars=vars||{};var tl=this,endTime=_parsePosition(tl,position),_vars=vars,startAt=_vars.startAt,_onStart=_vars.onStart,onStartParams=_vars.onStartParams,immediateRender=_vars.immediateRender,initted,tween=Tween.to(tl,_setDefaults({ease:vars.ease||"none",lazy:false,immediateRender:false,time:endTime,overwrite:"auto",duration:vars.duration||Math.abs((endTime-(startAt&&"time"in startAt?startAt.time:tl._time))/tl.timeScale())||_tinyNum,onStart:function onStart(){tl.pause();if(!initted){var duration=vars.duration||Math.abs((endTime-(startAt&&"time"in startAt?startAt.time:tl._time))/tl.timeScale());tween._dur!==duration&&_setDuration(tween,duration,0,1).render(tween._time,true,true);initted=1;} _onStart&&_onStart.apply(tween,onStartParams||[]);}},vars));return immediateRender?tween.render(0):tween;};_proto2.tweenFromTo=function tweenFromTo(fromPosition,toPosition,vars){return this.tweenTo(toPosition,_setDefaults({startAt:{time:_parsePosition(this,fromPosition)}},vars));};_proto2.recent=function recent(){return this._recent;};_proto2.nextLabel=function nextLabel(afterTime){if(afterTime===void 0){afterTime=this._time;} return _getLabelInDirection(this,_parsePosition(this,afterTime));};_proto2.previousLabel=function previousLabel(beforeTime){if(beforeTime===void 0){beforeTime=this._time;} return _getLabelInDirection(this,_parsePosition(this,beforeTime),1);};_proto2.currentLabel=function currentLabel(value){return arguments.length?this.seek(value,true):this.previousLabel(this._time+_tinyNum);};_proto2.shiftChildren=function shiftChildren(amount,adjustLabels,ignoreBeforeTime){if(ignoreBeforeTime===void 0){ignoreBeforeTime=0;} var child=this._first,labels=this.labels,p;while(child){if(child._start>=ignoreBeforeTime){child._start+=amount;child._end+=amount;} child=child._next;} if(adjustLabels){for(p in labels){if(labels[p]>=ignoreBeforeTime){labels[p]+=amount;}}} return _uncache(this);};_proto2.invalidate=function invalidate(soft){var child=this._first;this._lock=0;while(child){child.invalidate(soft);child=child._next;} return _Animation.prototype.invalidate.call(this,soft);};_proto2.clear=function clear(includeLabels){if(includeLabels===void 0){includeLabels=true;} var child=this._first,next;while(child){next=child._next;this.remove(child);child=next;} this._dp&&(this._time=this._tTime=this._pTime=0);includeLabels&&(this.labels={});return _uncache(this);};_proto2.totalDuration=function totalDuration(value){var max=0,self=this,child=self._last,prevStart=_bigNum,prev,start,parent;if(arguments.length){return self.timeScale((self._repeat<0?self.duration():self.totalDuration())/(self.reversed()?-value:value));} if(self._dirty){parent=self.parent;while(child){prev=child._prev;child._dirty&&child.totalDuration();start=child._start;if(start>prevStart&&self._sort&&child._ts&&!self._lock){self._lock=1;_addToTimeline(self,child,start-child._delay,1)._lock=0;}else{prevStart=start;} if(start<0&&child._ts){max-=start;if(!parent&&!self._dp||parent&&parent.smoothChildTiming){self._start+=start/self._ts;self._time-=start;self._tTime-=start;} self.shiftChildren(-start,false,-1e999);prevStart=0;} child._end>max&&child._ts&&(max=child._end);child=prev;} _setDuration(self,self===_globalTimeline&&self._time>max?self._time:max,1,1);self._dirty=0;} return self._tDur;};Timeline.updateRoot=function updateRoot(time){if(_globalTimeline._ts){_lazySafeRender(_globalTimeline,_parentToChildTotalTime(time,_globalTimeline));_lastRenderedFrame=_ticker.frame;} if(_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var child=_globalTimeline._first;if(!child||!child._ts)if(_config.autoSleep&&_ticker._listeners.length<2){while(child&&!child._ts){child=child._next;} child||_ticker.sleep();}}};return Timeline;}(Animation);_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function _addComplexStringPropTween(target,prop,start,end,setter,stringFilter,funcParam){var pt=new PropTween(this._pt,target,prop,0,1,_renderComplexString,null,setter),index=0,matchIndex=0,result,startNums,color,endNum,chunk,startNum,hasRandom,a;pt.b=start;pt.e=end;start+="";end+="";if(hasRandom=~end.indexOf("random(")){end=_replaceRandom(end);} if(stringFilter){a=[start,end];stringFilter(a,target,prop);start=a[0];end=a[1];} startNums=start.match(_complexStringNumExp)||[];while(result=_complexStringNumExp.exec(end)){endNum=result[0];chunk=end.substring(index,result.index);if(color){color=(color+1)%5;}else if(chunk.substr(-5)==="rgba("){color=1;} if(endNum!==startNums[matchIndex++]){startNum=parseFloat(startNums[matchIndex-1])||0;pt._pt={_next:pt._pt,p:chunk||matchIndex===1?chunk:",",s:startNum,c:endNum.charAt(1)==="="?_parseRelative(startNum,endNum)-startNum:parseFloat(endNum)-startNum,m:color&&color<4?Math.round:0};index=_complexStringNumExp.lastIndex;}} pt.c=index");});tl.duration();}else{copy={};for(p in keyframes){p==="ease"||p==="easeEach"||_parseKeyframe(p,keyframes[p],copy,keyframes.easeEach);} for(p in copy){a=copy[p].sort(function(a,b){return a.t-b.t;});time=0;for(i=0;itDur-_tinyNum&&!isNegative?tDur:totalTime<_tinyNum?0:totalTime,time,pt,iteration,cycleDuration,prevIteration,isYoyo,ratio,timeline,yoyoEase;if(!dur){_renderZeroDurationTween(this,totalTime,suppressEvents,force);}else if(tTime!==this._tTime||!totalTime||force||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==isNegative){time=tTime;timeline=this.timeline;if(this._repeat){cycleDuration=dur+this._rDelay;if(this._repeat<-1&&isNegative){return this.totalTime(cycleDuration*100+totalTime,suppressEvents,force);} time=_roundPrecise(tTime%cycleDuration);if(tTime===tDur){iteration=this._repeat;time=dur;}else{iteration=~~(tTime/cycleDuration);if(iteration&&iteration===tTime/cycleDuration){time=dur;iteration--;} time>dur&&(time=dur);} isYoyo=this._yoyo&&iteration&1;if(isYoyo){yoyoEase=this._yEase;time=dur-time;} prevIteration=_animationCycle(this._tTime,cycleDuration);if(time===prevTime&&!force&&this._initted){this._tTime=tTime;return this;} if(iteration!==prevIteration){timeline&&this._yEase&&_propagateYoyoEase(timeline,isYoyo);if(this.vars.repeatRefresh&&!isYoyo&&!this._lock){this._lock=force=1;this.render(_roundPrecise(cycleDuration*iteration),true).invalidate()._lock=0;}}} if(!this._initted){if(_attemptInitTween(this,isNegative?totalTime:time,force,suppressEvents,tTime)){this._tTime=0;return this;} if(prevTime!==this._time){return this;} if(dur!==this._dur){return this.render(totalTime,suppressEvents,force);}} this._tTime=tTime;this._time=time;if(!this._act&&this._ts){this._act=1;this._lazy=0;} this.ratio=ratio=(yoyoEase||this._ease)(time/dur);if(this._from){this.ratio=ratio=1-ratio;} if(time&&!prevTime&&!suppressEvents){_callback(this,"onStart");if(this._tTime!==tTime){return this;}} pt=this._pt;while(pt){pt.r(ratio,pt.d);pt=pt._next;} timeline&&timeline.render(totalTime<0?totalTime:!time&&isYoyo?-_tinyNum:timeline._dur*timeline._ease(time/this._dur),suppressEvents,force)||this._startAt&&(this._zTime=totalTime);if(this._onUpdate&&!suppressEvents){isNegative&&_rewindStartAt(this,totalTime,suppressEvents,force);_callback(this,"onUpdate");} this._repeat&&iteration!==prevIteration&&this.vars.onRepeat&&!suppressEvents&&this.parent&&_callback(this,"onRepeat");if((tTime===this._tDur||!tTime)&&this._tTime===tTime){isNegative&&!this._onUpdate&&_rewindStartAt(this,totalTime,true,true);(totalTime||!dur)&&(tTime===this._tDur&&this._ts>0||!tTime&&this._ts<0)&&_removeFromParent(this,1);if(!suppressEvents&&!(isNegative&&!prevTime)&&(tTime||prevTime||isYoyo)){_callback(this,tTime===tDur?"onComplete":"onReverseComplete",true);this._prom&&!(tTime0)&&this._prom();}}} return this;};_proto3.targets=function targets(){return this._targets;};_proto3.invalidate=function invalidate(soft){(!soft||!this.vars.runBackwards)&&(this._startAt=0);this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0;this._ptLookup=[];this.timeline&&this.timeline.invalidate(soft);return _Animation2.prototype.invalidate.call(this,soft);};_proto3.resetTo=function resetTo(property,value,start,startIsRelative){_tickerActive||_ticker.wake();this._ts||this.play();var time=Math.min(this._dur,(this._dp._time-this._start)*this._ts),ratio;this._initted||_initTween(this,time);ratio=this._ease(time/this._dur);if(_updatePropTweens(this,property,value,start,startIsRelative,ratio,time)){return this.resetTo(property,value,start,startIsRelative);} _alignPlayhead(this,0);this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0);return this.render(0);};_proto3.kill=function kill(targets,vars){if(vars===void 0){vars="all";} if(!targets&&(!vars||vars==="all")){this._lazy=this._pt=0;return this.parent?_interrupt(this):this;} if(this.timeline){var tDur=this.timeline.totalDuration();this.timeline.killTweensOf(targets,vars,_overwritingTween&&_overwritingTween.vars.overwrite!==true)._first||_interrupt(this);this.parent&&tDur!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/tDur,0,1);return this;} var parsedTargets=this._targets,killingTargets=targets?toArray(targets):parsedTargets,propTweenLookup=this._ptLookup,firstPT=this._pt,overwrittenProps,curLookup,curOverwriteProps,props,p,pt,i;if((!vars||vars==="all")&&_arraysMatch(parsedTargets,killingTargets)){vars==="all"&&(this._pt=0);return _interrupt(this);} overwrittenProps=this._op=this._op||[];if(vars!=="all"){if(_isString(vars)){p={};_forEachName(vars,function(name){return p[name]=1;});vars=p;} vars=_addAliasesToVars(parsedTargets,vars);} i=parsedTargets.length;while(i--){if(~killingTargets.indexOf(parsedTargets[i])){curLookup=propTweenLookup[i];if(vars==="all"){overwrittenProps[i]=vars;props=curLookup;curOverwriteProps={};}else{curOverwriteProps=overwrittenProps[i]=overwrittenProps[i]||{};props=vars;} for(p in props){pt=curLookup&&curLookup[p];if(pt){if(!("kill"in pt.d)||pt.d.kill(p)===true){_removeLinkedListItem(this,pt,"_pt");} delete curLookup[p];} if(curOverwriteProps!=="all"){curOverwriteProps[p]=1;}}}} this._initted&&!this._pt&&firstPT&&_interrupt(this);return this;};Tween.to=function to(targets,vars){return new Tween(targets,vars,arguments[2]);};Tween.from=function from(targets,vars){return _createTweenType(1,arguments);};Tween.delayedCall=function delayedCall(delay,callback,params,scope){return new Tween(callback,0,{immediateRender:false,lazy:false,overwrite:false,delay:delay,onComplete:callback,onReverseComplete:callback,onCompleteParams:params,onReverseCompleteParams:params,callbackScope:scope});};Tween.fromTo=function fromTo(targets,fromVars,toVars){return _createTweenType(2,arguments);};Tween.set=function set(targets,vars){vars.duration=0;vars.repeatDelay||(vars.repeat=0);return new Tween(targets,vars);};Tween.killTweensOf=function killTweensOf(targets,props,onlyActive){return _globalTimeline.killTweensOf(targets,props,onlyActive);};return Tween;}(Animation);_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(name){Tween[name]=function(){var tl=new Timeline(),params=_slice.call(arguments,0);params.splice(name==="staggerFromTo"?5:4,0,0);return tl[name].apply(tl,params);};});var _setterPlain=function _setterPlain(target,property,value){return target[property]=value;},_setterFunc=function _setterFunc(target,property,value){return target[property](value);},_setterFuncWithParam=function _setterFuncWithParam(target,property,value,data){return target[property](data.fp,value);},_setterAttribute=function _setterAttribute(target,property,value){return target.setAttribute(property,value);},_getSetter=function _getSetter(target,property){return _isFunction(target[property])?_setterFunc:_isUndefined(target[property])&&target.setAttribute?_setterAttribute:_setterPlain;},_renderPlain=function _renderPlain(ratio,data){return data.set(data.t,data.p,Math.round((data.s+data.c*ratio)*1000000)/1000000,data);},_renderBoolean=function _renderBoolean(ratio,data){return data.set(data.t,data.p,!!(data.s+data.c*ratio),data);},_renderComplexString=function _renderComplexString(ratio,data){var pt=data._pt,s="";if(!ratio&&data.b){s=data.b;}else if(ratio===1&&data.e){s=data.e;}else{while(pt){s=pt.p+(pt.m?pt.m(pt.s+pt.c*ratio):Math.round((pt.s+pt.c*ratio)*10000)/10000)+s;pt=pt._next;} s+=data.c;} data.set(data.t,data.p,s,data);},_renderPropTweens=function _renderPropTweens(ratio,data){var pt=data._pt;while(pt){pt.r(ratio,pt.d);pt=pt._next;}},_addPluginModifier=function _addPluginModifier(modifier,tween,target,property){var pt=this._pt,next;while(pt){next=pt._next;pt.p===property&&pt.modifier(modifier,tween,target);pt=next;}},_killPropTweensOf=function _killPropTweensOf(property){var pt=this._pt,hasNonDependentRemaining,next;while(pt){next=pt._next;if(pt.p===property&&!pt.op||pt.op===property){_removeLinkedListItem(this,pt,"_pt");}else if(!pt.dep){hasNonDependentRemaining=1;} pt=next;} return!hasNonDependentRemaining;},_setterWithModifier=function _setterWithModifier(target,property,value,data){data.mSet(target,property,data.m.call(data.tween,value,data.mt),data);},_sortPropTweensByPriority=function _sortPropTweensByPriority(parent){var pt=parent._pt,next,pt2,first,last;while(pt){next=pt._next;pt2=first;while(pt2&&pt2.pr>pt.pr){pt2=pt2._next;} if(pt._prev=pt2?pt2._prev:last){pt._prev._next=pt;}else{first=pt;} if(pt._next=pt2){pt2._prev=pt;}else{last=pt;} pt=next;} parent._pt=first;};var PropTween=function(){function PropTween(next,target,prop,start,change,renderer,data,setter,priority){this.t=target;this.s=start;this.c=change;this.p=prop;this.r=renderer||_renderPlain;this.d=data||this;this.set=setter||_setterPlain;this.pr=priority||0;this._next=next;if(next){next._prev=this;}} var _proto4=PropTween.prototype;_proto4.modifier=function modifier(func,tween,target){this.mSet=this.mSet||this.set;this.set=_setterWithModifier;this.m=func;this.mt=target;this.tween=tween;};return PropTween;}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(name){return _reservedProps[name]=1;});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:false,defaults:_defaults,autoRemoveChildren:true,id:"root",smoothChildTiming:true});_config.stringFilter=_colorStringFilter;var _media=[],_listeners={},_emptyArray=[],_lastMediaTime=0,_dispatch=function _dispatch(type){return(_listeners[type]||_emptyArray).map(function(f){return f();});},_onMediaChange=function _onMediaChange(){var time=Date.now(),matches=[];if(time-_lastMediaTime>2){_dispatch("matchMediaInit");_media.forEach(function(c){var queries=c.queries,conditions=c.conditions,match,p,anyMatch,toggled;for(p in queries){match=_win.matchMedia(queries[p]).matches;match&&(anyMatch=1);if(match!==conditions[p]){conditions[p]=match;toggled=1;}} if(toggled){c.revert();anyMatch&&matches.push(c);}});_dispatch("matchMediaRevert");matches.forEach(function(c){return c.onMatch(c);});_lastMediaTime=time;_dispatch("matchMedia");}};var Context=function(){function Context(func,scope){this.selector=scope&&selector(scope);this.data=[];this._r=[];this.isReverted=false;func&&this.add(func);} var _proto5=Context.prototype;_proto5.add=function add(name,func,scope){if(_isFunction(name)){scope=func;func=name;name=_isFunction;} var self=this,f=function f(){var prev=_context,prevSelector=self.selector,result;prev&&prev!==self&&prev.data.push(self);scope&&(self.selector=selector(scope));_context=self;result=func.apply(self,arguments);_isFunction(result)&&self._r.push(result);_context=prev;self.selector=prevSelector;self.isReverted=false;return result;};self.last=f;return name===_isFunction?f(self):name?self[name]=f:f;};_proto5.ignore=function ignore(func){var prev=_context;_context=null;func(this);_context=prev;};_proto5.getTweens=function getTweens(){var a=[];this.data.forEach(function(e){return e instanceof Context?a.push.apply(a,e.getTweens()):e instanceof Tween&&!(e.parent&&e.parent.data==="nested")&&a.push(e);});return a;};_proto5.clear=function clear(){this._r.length=this.data.length=0;};_proto5.kill=function kill(revert,matchMedia){var _this4=this;if(revert){var tweens=this.getTweens();this.data.forEach(function(t){if(t.data==="isFlip"){t.revert();t.getChildren(true,true,false).forEach(function(tween){return tweens.splice(tweens.indexOf(tween),1);});}});tweens.map(function(t){return{g:t.globalTime(0),t:t};}).sort(function(a,b){return b.g-a.g||-1;}).forEach(function(o){return o.t.revert(revert);});this.data.forEach(function(e){return!(e instanceof Animation)&&e.revert&&e.revert(revert);});this._r.forEach(function(f){return f(revert,_this4);});this.isReverted=true;}else{this.data.forEach(function(e){return e.kill&&e.kill();});} this.clear();if(matchMedia){var i=_media.indexOf(this);!!~i&&_media.splice(i,1);}};_proto5.revert=function revert(config){this.kill(config||{});};return Context;}();var MatchMedia=function(){function MatchMedia(scope){this.contexts=[];this.scope=scope;} var _proto6=MatchMedia.prototype;_proto6.add=function add(conditions,func,scope){_isObject(conditions)||(conditions={matches:conditions});var context=new Context(0,scope||this.scope),cond=context.conditions={},mq,p,active;this.contexts.push(context);func=context.add("onMatch",func);context.queries=conditions;for(p in conditions){if(p==="all"){active=1;}else{mq=_win.matchMedia(conditions[p]);if(mq){_media.indexOf(context)<0&&_media.push(context);(cond[p]=mq.matches)&&(active=1);mq.addListener?mq.addListener(_onMediaChange):mq.addEventListener("change",_onMediaChange);}}} active&&func(context);return this;};_proto6.revert=function revert(config){this.kill(config||{});};_proto6.kill=function kill(revert){this.contexts.forEach(function(c){return c.kill(revert,true);});};return MatchMedia;}();var _gsap={registerPlugin:function registerPlugin(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];} args.forEach(function(config){return _createPlugin(config);});},timeline:function timeline(vars){return new Timeline(vars);},getTweensOf:function getTweensOf(targets,onlyActive){return _globalTimeline.getTweensOf(targets,onlyActive);},getProperty:function getProperty(target,property,unit,uncache){_isString(target)&&(target=toArray(target)[0]);var getter=_getCache(target||{}).get,format=unit?_passThrough:_numericIfPossible;unit==="native"&&(unit="");return!target?target:!property?function(property,unit,uncache){return format((_plugins[property]&&_plugins[property].get||getter)(target,property,unit,uncache));}:format((_plugins[property]&&_plugins[property].get||getter)(target,property,unit,uncache));},quickSetter:function quickSetter(target,property,unit){target=toArray(target);if(target.length>1){var setters=target.map(function(t){return gsap.quickSetter(t,property,unit);}),l=setters.length;return function(value){var i=l;while(i--){setters[i](value);}};} target=target[0]||{};var Plugin=_plugins[property],cache=_getCache(target),p=cache.harness&&(cache.harness.aliases||{})[property]||property,setter=Plugin?function(value){var p=new Plugin();_quickTween._pt=0;p.init(target,unit?value+unit:value,_quickTween,0,[target]);p.render(1,p);_quickTween._pt&&_renderPropTweens(1,_quickTween);}:cache.set(target,p);return Plugin?setter:function(value){return setter(target,p,unit?value+unit:value,cache,1);};},quickTo:function quickTo(target,property,vars){var _merge2;var tween=gsap.to(target,_merge((_merge2={},_merge2[property]="+=0.1",_merge2.paused=true,_merge2),vars||{})),func=function func(value,start,startIsRelative){return tween.resetTo(property,value,start,startIsRelative);};func.tween=tween;return func;},isTweening:function isTweening(targets){return _globalTimeline.getTweensOf(targets,true).length>0;},defaults:function defaults(value){value&&value.ease&&(value.ease=_parseEase(value.ease,_defaults.ease));return _mergeDeep(_defaults,value||{});},config:function config(value){return _mergeDeep(_config,value||{});},registerEffect:function registerEffect(_ref3){var name=_ref3.name,effect=_ref3.effect,plugins=_ref3.plugins,defaults=_ref3.defaults,extendTimeline=_ref3.extendTimeline;(plugins||"").split(",").forEach(function(pluginName){return pluginName&&!_plugins[pluginName]&&!_globals[pluginName]&&_warn(name+" effect requires "+pluginName+" plugin.");});_effects[name]=function(targets,vars,tl){return effect(toArray(targets),_setDefaults(vars||{},defaults),tl);};if(extendTimeline){Timeline.prototype[name]=function(targets,vars,position){return this.add(_effects[name](targets,_isObject(vars)?vars:(position=vars)&&{},this),position);};}},registerEase:function registerEase(name,ease){_easeMap[name]=_parseEase(ease);},parseEase:function parseEase(ease,defaultEase){return arguments.length?_parseEase(ease,defaultEase):_easeMap;},getById:function getById(id){return _globalTimeline.getById(id);},exportRoot:function exportRoot(vars,includeDelayedCalls){if(vars===void 0){vars={};} var tl=new Timeline(vars),child,next;tl.smoothChildTiming=_isNotFalse(vars.smoothChildTiming);_globalTimeline.remove(tl);tl._dp=0;tl._time=tl._tTime=_globalTimeline._time;child=_globalTimeline._first;while(child){next=child._next;if(includeDelayedCalls||!(!child._dur&&child instanceof Tween&&child.vars.onComplete===child._targets[0])){_addToTimeline(tl,child,child._start-child._delay);} child=next;} _addToTimeline(_globalTimeline,tl,0);return tl;},context:function context(func,scope){return func?new Context(func,scope):_context;},matchMedia:function matchMedia(scope){return new MatchMedia(scope);},matchMediaRefresh:function matchMediaRefresh(){return _media.forEach(function(c){var cond=c.conditions,found,p;for(p in cond){if(cond[p]){cond[p]=false;found=1;}} found&&c.revert();})||_onMediaChange();},addEventListener:function addEventListener(type,callback){var a=_listeners[type]||(_listeners[type]=[]);~a.indexOf(callback)||a.push(callback);},removeEventListener:function removeEventListener(type,callback){var a=_listeners[type],i=a&&a.indexOf(callback);i>=0&&a.splice(i,1);},utils:{wrap:wrap,wrapYoyo:wrapYoyo,distribute:distribute,random:random,snap:snap,normalize:normalize,getUnit:getUnit,clamp:clamp,splitColor:splitColor,toArray:toArray,selector:selector,mapRange:mapRange,pipe:pipe,unitize:unitize,interpolate:interpolate,shuffle:shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween:PropTween,globals:_addGlobal,Tween:Tween,Timeline:Timeline,Animation:Animation,getCache:_getCache,_removeLinkedListItem:_removeLinkedListItem,reverting:function reverting(){return _reverting;},context:function context(toAdd){if(toAdd&&_context){_context.data.push(toAdd);toAdd._ctx=_context;} return _context;},suppressOverwrites:function suppressOverwrites(value){return _suppressOverwrites=value;}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(name){return _gsap[name]=Tween[name];});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function _getPluginPropTween(plugin,prop){var pt=plugin._pt;while(pt&&pt.p!==prop&&pt.op!==prop&&pt.fp!==prop){pt=pt._next;} return pt;},_addModifiers=function _addModifiers(tween,modifiers){var targets=tween._targets,p,i,pt;for(p in modifiers){i=targets.length;while(i--){pt=tween._ptLookup[i][p];if(pt&&(pt=pt.d)){if(pt._pt){pt=_getPluginPropTween(pt,p);} pt&&pt.modifier&&pt.modifier(modifiers[p],tween,targets[i],p);}}}},_buildModifierPlugin=function _buildModifierPlugin(name,modifier){return{name:name,rawVars:1,init:function init(target,vars,tween){tween._onInit=function(tween){var temp,p;if(_isString(vars)){temp={};_forEachName(vars,function(name){return temp[name]=1;});vars=temp;} if(modifier){temp={};for(p in vars){temp[p]=modifier(vars[p]);} vars=temp;} _addModifiers(tween,vars);};}};};var gsap=_gsap.registerPlugin({name:"attr",init:function init(target,vars,tween,index,targets){var p,pt,v;this.tween=tween;for(p in vars){v=target.getAttribute(p)||"";pt=this.add(target,"setAttribute",(v||0)+"",vars[p],index,targets,0,0,p);pt.op=p;pt.b=v;this._props.push(p);}},render:function render(ratio,data){var pt=data._pt;while(pt){_reverting?pt.set(pt.t,pt.p,pt.b,pt):pt.r(ratio,pt.d);pt=pt._next;}}},{name:"endArray",init:function init(target,value){var i=value.length;while(i--){this.add(target,i,target[i]||0,value[i],0,0,0,0,0,1);}}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap.version="3.11.4";_coreReady=1;_windowExists()&&_wake();var Power0=_easeMap.Power0,Power1=_easeMap.Power1,Power2=_easeMap.Power2,Power3=_easeMap.Power3,Power4=_easeMap.Power4,Linear=_easeMap.Linear,Quad=_easeMap.Quad,Cubic=_easeMap.Cubic,Quart=_easeMap.Quart,Quint=_easeMap.Quint,Strong=_easeMap.Strong,Elastic=_easeMap.Elastic,Back=_easeMap.Back,SteppedEase=_easeMap.SteppedEase,Bounce=_easeMap.Bounce,Sine=_easeMap.Sine,Expo=_easeMap.Expo,Circ=_easeMap.Circ;var _win$1,_doc$1,_docElement,_pluginInitted,_tempDiv,_tempDivStyler,_recentSetterPlugin,_reverting$1,_windowExists$1=function _windowExists(){return typeof window!=="undefined";},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum$1=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function _renderCSSProp(ratio,data){return data.set(data.t,data.p,Math.round((data.s+data.c*ratio)*10000)/10000+data.u,data);},_renderPropWithEnd=function _renderPropWithEnd(ratio,data){return data.set(data.t,data.p,ratio===1?data.e:Math.round((data.s+data.c*ratio)*10000)/10000+data.u,data);},_renderCSSPropWithBeginning=function _renderCSSPropWithBeginning(ratio,data){return data.set(data.t,data.p,ratio?Math.round((data.s+data.c*ratio)*10000)/10000+data.u:data.b,data);},_renderRoundedCSSProp=function _renderRoundedCSSProp(ratio,data){var value=data.s+data.c*ratio;data.set(data.t,data.p,~~(value+(value<0?-.5:.5))+data.u,data);},_renderNonTweeningValue=function _renderNonTweeningValue(ratio,data){return data.set(data.t,data.p,ratio?data.e:data.b,data);},_renderNonTweeningValueOnlyAtEnd=function _renderNonTweeningValueOnlyAtEnd(ratio,data){return data.set(data.t,data.p,ratio!==1?data.b:data.e,data);},_setterCSSStyle=function _setterCSSStyle(target,property,value){return target.style[property]=value;},_setterCSSProp=function _setterCSSProp(target,property,value){return target.style.setProperty(property,value);},_setterTransform=function _setterTransform(target,property,value){return target._gsap[property]=value;},_setterScale=function _setterScale(target,property,value){return target._gsap.scaleX=target._gsap.scaleY=value;},_setterScaleWithRender=function _setterScaleWithRender(target,property,value,data,ratio){var cache=target._gsap;cache.scaleX=cache.scaleY=value;cache.renderTransform(ratio,cache);},_setterTransformWithRender=function _setterTransformWithRender(target,property,value,data,ratio){var cache=target._gsap;cache[property]=value;cache.renderTransform(ratio,cache);},_transformProp="transform",_transformOriginProp=_transformProp+"Origin",_saveStyle=function _saveStyle(property,isNotCSS){var _this=this;var target=this.target,style=target.style;if(property in _transformProps){this.tfm=this.tfm||{};if(property!=="transform"){property=_propertyAliases[property]||property;~property.indexOf(",")?property.split(",").forEach(function(a){return _this.tfm[a]=_get(target,a);}):this.tfm[property]=target._gsap.x?target._gsap[property]:_get(target,property);} if(this.props.indexOf(_transformProp)>=0){return;} if(target._gsap.svg){this.svgo=target.getAttribute("data-svg-origin");this.props.push(_transformOriginProp,isNotCSS,"");} property=_transformProp;} (style||isNotCSS)&&this.props.push(property,isNotCSS,style[property]);},_removeIndependentTransforms=function _removeIndependentTransforms(style){if(style.translate){style.removeProperty("translate");style.removeProperty("scale");style.removeProperty("rotate");}},_revertStyle=function _revertStyle(){var props=this.props,target=this.target,style=target.style,cache=target._gsap,i,p;for(i=0;i=0?_prefixes[i]:"")+property;},_initCore=function _initCore(){if(_windowExists$1()&&window.document){_win$1=window;_doc$1=_win$1.document;_docElement=_doc$1.documentElement;_tempDiv=_createElement("div")||{style:{}};_tempDivStyler=_createElement("div");_transformProp=_checkPropPrefix(_transformProp);_transformOriginProp=_transformProp+"Origin";_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0";_supports3D=!!_checkPropPrefix("perspective");_reverting$1=gsap.core.reverting;_pluginInitted=1;}},_getBBoxHack=function _getBBoxHack(swapIfPossible){var svg=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),oldParent=this.parentNode,oldSibling=this.nextSibling,oldCSS=this.style.cssText,bbox;_docElement.appendChild(svg);svg.appendChild(this);this.style.display="block";if(swapIfPossible){try{bbox=this.getBBox();this._gsapBBox=this.getBBox;this.getBBox=_getBBoxHack;}catch(e){}}else if(this._gsapBBox){bbox=this._gsapBBox();} if(oldParent){if(oldSibling){oldParent.insertBefore(this,oldSibling);}else{oldParent.appendChild(this);}} _docElement.removeChild(svg);this.style.cssText=oldCSS;return bbox;},_getAttributeFallbacks=function _getAttributeFallbacks(target,attributesArray){var i=attributesArray.length;while(i--){if(target.hasAttribute(attributesArray[i])){return target.getAttribute(attributesArray[i]);}}},_getBBox=function _getBBox(target){var bounds;try{bounds=target.getBBox();}catch(error){bounds=_getBBoxHack.call(target,true);} bounds&&(bounds.width||bounds.height)||target.getBBox===_getBBoxHack||(bounds=_getBBoxHack.call(target,true));return bounds&&!bounds.width&&!bounds.x&&!bounds.y?{x:+_getAttributeFallbacks(target,["x","cx","x1"])||0,y:+_getAttributeFallbacks(target,["y","cy","y1"])||0,width:0,height:0}:bounds;},_isSVG=function _isSVG(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_getBBox(e));},_removeProperty=function _removeProperty(target,property){if(property){var style=target.style;if(property in _transformProps&&property!==_transformOriginProp){property=_transformProp;} if(style.removeProperty){if(property.substr(0,2)==="ms"||property.substr(0,6)==="webkit"){property="-"+property;} style.removeProperty(property.replace(_capsExp,"-$1").toLowerCase());}else{style.removeAttribute(property);}}},_addNonTweeningPT=function _addNonTweeningPT(plugin,target,property,beginning,end,onlySetAtEnd){var pt=new PropTween(plugin._pt,target,property,0,1,onlySetAtEnd?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);plugin._pt=pt;pt.b=beginning;pt.e=end;plugin._props.push(property);return pt;},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function _convertToUnit(target,property,value,unit){var curValue=parseFloat(value)||0,curUnit=(value+"").trim().substr((curValue+"").length)||"px",style=_tempDiv.style,horizontal=_horizontalExp.test(property),isRootSVG=target.tagName.toLowerCase()==="svg",measureProperty=(isRootSVG?"client":"offset")+(horizontal?"Width":"Height"),amount=100,toPixels=unit==="px",toPercent=unit==="%",px,parent,cache,isSVG;if(unit===curUnit||!curValue||_nonConvertibleUnits[unit]||_nonConvertibleUnits[curUnit]){return curValue;} curUnit!=="px"&&!toPixels&&(curValue=_convertToUnit(target,property,value,"px"));isSVG=target.getCTM&&_isSVG(target);if((toPercent||curUnit==="%")&&(_transformProps[property]||~property.indexOf("adius"))){px=isSVG?target.getBBox()[horizontal?"width":"height"]:target[measureProperty];return _round(toPercent?curValue/px*amount:curValue/100*px);} style[horizontal?"width":"height"]=amount+(toPixels?curUnit:unit);parent=~property.indexOf("adius")||unit==="em"&&target.appendChild&&!isRootSVG?target:target.parentNode;if(isSVG){parent=(target.ownerSVGElement||{}).parentNode;} if(!parent||parent===_doc$1||!parent.appendChild){parent=_doc$1.body;} cache=parent._gsap;if(cache&&toPercent&&cache.width&&horizontal&&cache.time===_ticker.time&&!cache.uncache){return _round(curValue/cache.width*amount);}else{(toPercent||curUnit==="%")&&!_nonStandardLayouts[_getComputedProperty(parent,"display")]&&(style.position=_getComputedProperty(target,"position"));parent===target&&(style.position="static");parent.appendChild(_tempDiv);px=_tempDiv[measureProperty];parent.removeChild(_tempDiv);style.position="absolute";if(horizontal&&toPercent){cache=_getCache(parent);cache.time=_ticker.time;cache.width=parent[measureProperty];}} return _round(toPixels?px*curValue/amount:px&&curValue?amount/px*curValue:0);},_get=function _get(target,property,unit,uncache){var value;_pluginInitted||_initCore();if(property in _propertyAliases&&property!=="transform"){property=_propertyAliases[property];if(~property.indexOf(",")){property=property.split(",")[0];}} if(_transformProps[property]&&property!=="transform"){value=_parseTransform(target,uncache);value=property!=="transformOrigin"?value[property]:value.svg?value.origin:_firstTwoOnly(_getComputedProperty(target,_transformOriginProp))+" "+value.zOrigin+"px";}else{value=target.style[property];if(!value||value==="auto"||uncache||~(value+"").indexOf("calc(")){value=_specialProps[property]&&_specialProps[property](target,property,unit)||_getComputedProperty(target,property)||_getProperty(target,property)||(property==="opacity"?1:0);}} return unit&&!~(value+"").trim().indexOf(" ")?_convertToUnit(target,property,value,unit)+unit:value;},_tweenComplexCSSString=function _tweenComplexCSSString(target,prop,start,end){if(!start||start==="none"){var p=_checkPropPrefix(prop,target,1),s=p&&_getComputedProperty(target,p,1);if(s&&s!==start){prop=p;start=s;}else if(prop==="borderColor"){start=_getComputedProperty(target,"borderTopColor");}} var pt=new PropTween(this._pt,target.style,prop,0,1,_renderComplexString),index=0,matchIndex=0,a,result,startValues,startNum,color,startValue,endValue,endNum,chunk,endUnit,startUnit,endValues;pt.b=start;pt.e=end;start+="";end+="";if(end==="auto"){target.style[prop]=end;end=_getComputedProperty(target,prop)||end;target.style[prop]=start;} a=[start,end];_colorStringFilter(a);start=a[0];end=a[1];startValues=start.match(_numWithUnitExp)||[];endValues=end.match(_numWithUnitExp)||[];if(endValues.length){while(result=_numWithUnitExp.exec(end)){endValue=result[0];chunk=end.substring(index,result.index);if(color){color=(color+1)%5;}else if(chunk.substr(-5)==="rgba("||chunk.substr(-5)==="hsla("){color=1;} if(endValue!==(startValue=startValues[matchIndex++]||"")){startNum=parseFloat(startValue)||0;startUnit=startValue.substr((startNum+"").length);endValue.charAt(1)==="="&&(endValue=_parseRelative(startNum,endValue)+startUnit);endNum=parseFloat(endValue);endUnit=endValue.substr((endNum+"").length);index=_numWithUnitExp.lastIndex-endUnit.length;if(!endUnit){endUnit=endUnit||_config.units[prop]||startUnit;if(index===end.length){end+=endUnit;pt.e+=endUnit;}} if(startUnit!==endUnit){startNum=_convertToUnit(target,prop,startValue,endUnit)||0;} pt._pt={_next:pt._pt,p:chunk||matchIndex===1?chunk:",",s:startNum,c:endNum-startNum,m:color&&color<4||prop==="zIndex"?Math.round:0};}} pt.c=index-1){prop=props[i];if(_transformProps[prop]){clearTransforms=1;prop=prop==="transformOrigin"?_transformOriginProp:_transformProp;} _removeProperty(target,prop);}} if(clearTransforms){_removeProperty(target,_transformProp);if(cache){cache.svg&&target.removeAttribute("transform");_parseTransform(target,1);cache.uncache=1;_removeIndependentTransforms(style);}}}},_specialProps={clearProps:function clearProps(plugin,target,property,endValue,tween){if(tween.data!=="isFromStart"){var pt=plugin._pt=new PropTween(plugin._pt,target,property,0,0,_renderClearProps);pt.u=endValue;pt.pr=-10;pt.tween=tween;plugin._props.push(property);return 1;}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function _isNullTransform(value){return value==="matrix(1, 0, 0, 1, 0, 0)"||value==="none"||!value;},_getComputedTransformMatrixAsArray=function _getComputedTransformMatrixAsArray(target){var matrixString=_getComputedProperty(target,_transformProp);return _isNullTransform(matrixString)?_identity2DMatrix:matrixString.substr(7).match(_numExp).map(_round);},_getMatrix=function _getMatrix(target,force2D){var cache=target._gsap||_getCache(target),style=target.style,matrix=_getComputedTransformMatrixAsArray(target),parent,nextSibling,temp,addedToDOM;if(cache.svg&&target.getAttribute("transform")){temp=target.transform.baseVal.consolidate().matrix;matrix=[temp.a,temp.b,temp.c,temp.d,temp.e,temp.f];return matrix.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:matrix;}else if(matrix===_identity2DMatrix&&!target.offsetParent&&target!==_docElement&&!cache.svg){temp=style.display;style.display="block";parent=target.parentNode;if(!parent||!target.offsetParent){addedToDOM=1;nextSibling=target.nextElementSibling;_docElement.appendChild(target);} matrix=_getComputedTransformMatrixAsArray(target);temp?style.display=temp:_removeProperty(target,"display");if(addedToDOM){nextSibling?parent.insertBefore(target,nextSibling):parent?parent.appendChild(target):_docElement.removeChild(target);}} return force2D&&matrix.length>6?[matrix[0],matrix[1],matrix[4],matrix[5],matrix[12],matrix[13]]:matrix;},_applySVGOrigin=function _applySVGOrigin(target,origin,originIsAbsolute,smooth,matrixArray,pluginToAddPropTweensTo){var cache=target._gsap,matrix=matrixArray||_getMatrix(target,true),xOriginOld=cache.xOrigin||0,yOriginOld=cache.yOrigin||0,xOffsetOld=cache.xOffset||0,yOffsetOld=cache.yOffset||0,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5],originSplit=origin.split(" "),xOrigin=parseFloat(originSplit[0])||0,yOrigin=parseFloat(originSplit[1])||0,bounds,determinant,x,y;if(!originIsAbsolute){bounds=_getBBox(target);xOrigin=bounds.x+(~originSplit[0].indexOf("%")?xOrigin/100*bounds.width:xOrigin);yOrigin=bounds.y+(~(originSplit[1]||originSplit[0]).indexOf("%")?yOrigin/100*bounds.height:yOrigin);}else if(matrix!==_identity2DMatrix&&(determinant=a*d-b*c)){x=xOrigin*(d/determinant)+yOrigin*(-c/determinant)+(c*ty-d*tx)/determinant;y=xOrigin*(-b/determinant)+yOrigin*(a/determinant)-(a*ty-b*tx)/determinant;xOrigin=x;yOrigin=y;} if(smooth||smooth!==false&&cache.smooth){tx=xOrigin-xOriginOld;ty=yOrigin-yOriginOld;cache.xOffset=xOffsetOld+(tx*a+ty*c)-tx;cache.yOffset=yOffsetOld+(tx*b+ty*d)-ty;}else{cache.xOffset=cache.yOffset=0;} cache.xOrigin=xOrigin;cache.yOrigin=yOrigin;cache.smooth=!!smooth;cache.origin=origin;cache.originIsAbsolute=!!originIsAbsolute;target.style[_transformOriginProp]="0px 0px";if(pluginToAddPropTweensTo){_addNonTweeningPT(pluginToAddPropTweensTo,cache,"xOrigin",xOriginOld,xOrigin);_addNonTweeningPT(pluginToAddPropTweensTo,cache,"yOrigin",yOriginOld,yOrigin);_addNonTweeningPT(pluginToAddPropTweensTo,cache,"xOffset",xOffsetOld,cache.xOffset);_addNonTweeningPT(pluginToAddPropTweensTo,cache,"yOffset",yOffsetOld,cache.yOffset);} target.setAttribute("data-svg-origin",xOrigin+" "+yOrigin);},_parseTransform=function _parseTransform(target,uncache){var cache=target._gsap||new GSCache(target);if("x"in cache&&!uncache&&!cache.uncache){return cache;} var style=target.style,invertedScaleX=cache.scaleX<0,px="px",deg="deg",cs=getComputedStyle(target),origin=_getComputedProperty(target,_transformOriginProp)||"0",x,y,z,scaleX,scaleY,rotation,rotationX,rotationY,skewX,skewY,perspective,xOrigin,yOrigin,matrix,angle,cos,sin,a,b,c,d,a12,a22,t1,t2,t3,a13,a23,a33,a42,a43,a32;x=y=z=rotation=rotationX=rotationY=skewX=skewY=perspective=0;scaleX=scaleY=1;cache.svg=!!(target.getCTM&&_isSVG(target));if(cs.translate){if(cs.translate!=="none"||cs.scale!=="none"||cs.rotate!=="none"){style[_transformProp]=(cs.translate!=="none"?"translate3d("+(cs.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(cs.rotate!=="none"?"rotate("+cs.rotate+") ":"")+(cs.scale!=="none"?"scale("+cs.scale.split(" ").join(",")+") ":"")+(cs[_transformProp]!=="none"?cs[_transformProp]:"");} style.scale=style.rotate=style.translate="none";} matrix=_getMatrix(target,cache.svg);if(cache.svg){if(cache.uncache){t2=target.getBBox();origin=cache.xOrigin-t2.x+"px "+(cache.yOrigin-t2.y)+"px";t1="";}else{t1=!uncache&&target.getAttribute("data-svg-origin");} _applySVGOrigin(target,t1||origin,!!t1||cache.originIsAbsolute,cache.smooth!==false,matrix);} xOrigin=cache.xOrigin||0;yOrigin=cache.yOrigin||0;if(matrix!==_identity2DMatrix){a=matrix[0];b=matrix[1];c=matrix[2];d=matrix[3];x=a12=matrix[4];y=a22=matrix[5];if(matrix.length===6){scaleX=Math.sqrt(a*a+b*b);scaleY=Math.sqrt(d*d+c*c);rotation=a||b?_atan2(b,a)*_RAD2DEG:0;skewX=c||d?_atan2(c,d)*_RAD2DEG+rotation:0;skewX&&(scaleY*=Math.abs(Math.cos(skewX*_DEG2RAD)));if(cache.svg){x-=xOrigin-(xOrigin*a+yOrigin*c);y-=yOrigin-(xOrigin*b+yOrigin*d);}}else{a32=matrix[6];a42=matrix[7];a13=matrix[8];a23=matrix[9];a33=matrix[10];a43=matrix[11];x=matrix[12];y=matrix[13];z=matrix[14];angle=_atan2(a32,a33);rotationX=angle*_RAD2DEG;if(angle){cos=Math.cos(-angle);sin=Math.sin(-angle);t1=a12*cos+a13*sin;t2=a22*cos+a23*sin;t3=a32*cos+a33*sin;a13=a12*-sin+a13*cos;a23=a22*-sin+a23*cos;a33=a32*-sin+a33*cos;a43=a42*-sin+a43*cos;a12=t1;a22=t2;a32=t3;} angle=_atan2(-c,a33);rotationY=angle*_RAD2DEG;if(angle){cos=Math.cos(-angle);sin=Math.sin(-angle);t1=a*cos-a13*sin;t2=b*cos-a23*sin;t3=c*cos-a33*sin;a43=d*sin+a43*cos;a=t1;b=t2;c=t3;} angle=_atan2(b,a);rotation=angle*_RAD2DEG;if(angle){cos=Math.cos(angle);sin=Math.sin(angle);t1=a*cos+b*sin;t2=a12*cos+a22*sin;b=b*cos-a*sin;a22=a22*cos-a12*sin;a=t1;a12=t2;} if(rotationX&&Math.abs(rotationX)+Math.abs(rotation)>359.9){rotationX=rotation=0;rotationY=180-rotationY;} scaleX=_round(Math.sqrt(a*a+b*b+c*c));scaleY=_round(Math.sqrt(a22*a22+a32*a32));angle=_atan2(a12,a22);skewX=Math.abs(angle)>0.0002?angle*_RAD2DEG:0;perspective=a43?1/(a43<0?-a43:a43):0;} if(cache.svg){t1=target.getAttribute("transform");cache.forceCSS=target.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(target,_transformProp));t1&&target.setAttribute("transform",t1);}} if(Math.abs(skewX)>90&&Math.abs(skewX)<270){if(invertedScaleX){scaleX*=-1;skewX+=rotation<=0?180:-180;rotation+=rotation<=0?180:-180;}else{scaleY*=-1;skewX+=skewX<=0?180:-180;}} uncache=uncache||cache.uncache;cache.x=x-((cache.xPercent=x&&(!uncache&&cache.xPercent||(Math.round(target.offsetWidth/2)===Math.round(-x)?-50:0)))?target.offsetWidth*cache.xPercent/100:0)+px;cache.y=y-((cache.yPercent=y&&(!uncache&&cache.yPercent||(Math.round(target.offsetHeight/2)===Math.round(-y)?-50:0)))?target.offsetHeight*cache.yPercent/100:0)+px;cache.z=z+px;cache.scaleX=_round(scaleX);cache.scaleY=_round(scaleY);cache.rotation=_round(rotation)+deg;cache.rotationX=_round(rotationX)+deg;cache.rotationY=_round(rotationY)+deg;cache.skewX=skewX+deg;cache.skewY=skewY+deg;cache.transformPerspective=perspective+px;if(cache.zOrigin=parseFloat(origin.split(" ")[2])||0){style[_transformOriginProp]=_firstTwoOnly(origin);} cache.xOffset=cache.yOffset=0;cache.force3D=_config.force3D;cache.renderTransform=cache.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms;cache.uncache=0;return cache;},_firstTwoOnly=function _firstTwoOnly(value){return(value=value.split(" "))[0]+" "+value[1];},_addPxTranslate=function _addPxTranslate(target,start,value){var unit=getUnit(start);return _round(parseFloat(start)+parseFloat(_convertToUnit(target,"x",value+"px",unit)))+unit;},_renderNon3DTransforms=function _renderNon3DTransforms(ratio,cache){cache.z="0px";cache.rotationY=cache.rotationX="0deg";cache.force3D=0;_renderCSSTransforms(ratio,cache);},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function _renderCSSTransforms(ratio,cache){var _ref=cache||this,xPercent=_ref.xPercent,yPercent=_ref.yPercent,x=_ref.x,y=_ref.y,z=_ref.z,rotation=_ref.rotation,rotationY=_ref.rotationY,rotationX=_ref.rotationX,skewX=_ref.skewX,skewY=_ref.skewY,scaleX=_ref.scaleX,scaleY=_ref.scaleY,transformPerspective=_ref.transformPerspective,force3D=_ref.force3D,target=_ref.target,zOrigin=_ref.zOrigin,transforms="",use3D=force3D==="auto"&&ratio&&ratio!==1||force3D===true;if(zOrigin&&(rotationX!==_zeroDeg||rotationY!==_zeroDeg)){var angle=parseFloat(rotationY)*_DEG2RAD,a13=Math.sin(angle),a33=Math.cos(angle),cos;angle=parseFloat(rotationX)*_DEG2RAD;cos=Math.cos(angle);x=_addPxTranslate(target,x,a13*cos*-zOrigin);y=_addPxTranslate(target,y,-Math.sin(angle)*-zOrigin);z=_addPxTranslate(target,z,a33*cos*-zOrigin+zOrigin);} if(transformPerspective!==_zeroPx){transforms+="perspective("+transformPerspective+_endParenthesis;} if(xPercent||yPercent){transforms+="translate("+xPercent+"%, "+yPercent+"%) ";} if(use3D||x!==_zeroPx||y!==_zeroPx||z!==_zeroPx){transforms+=z!==_zeroPx||use3D?"translate3d("+x+", "+y+", "+z+") ":"translate("+x+", "+y+_endParenthesis;} if(rotation!==_zeroDeg){transforms+="rotate("+rotation+_endParenthesis;} if(rotationY!==_zeroDeg){transforms+="rotateY("+rotationY+_endParenthesis;} if(rotationX!==_zeroDeg){transforms+="rotateX("+rotationX+_endParenthesis;} if(skewX!==_zeroDeg||skewY!==_zeroDeg){transforms+="skew("+skewX+", "+skewY+_endParenthesis;} if(scaleX!==1||scaleY!==1){transforms+="scale("+scaleX+", "+scaleY+_endParenthesis;} target.style[_transformProp]=transforms||"translate(0, 0)";},_renderSVGTransforms=function _renderSVGTransforms(ratio,cache){var _ref2=cache||this,xPercent=_ref2.xPercent,yPercent=_ref2.yPercent,x=_ref2.x,y=_ref2.y,rotation=_ref2.rotation,skewX=_ref2.skewX,skewY=_ref2.skewY,scaleX=_ref2.scaleX,scaleY=_ref2.scaleY,target=_ref2.target,xOrigin=_ref2.xOrigin,yOrigin=_ref2.yOrigin,xOffset=_ref2.xOffset,yOffset=_ref2.yOffset,forceCSS=_ref2.forceCSS,tx=parseFloat(x),ty=parseFloat(y),a11,a21,a12,a22,temp;rotation=parseFloat(rotation);skewX=parseFloat(skewX);skewY=parseFloat(skewY);if(skewY){skewY=parseFloat(skewY);skewX+=skewY;rotation+=skewY;} if(rotation||skewX){rotation*=_DEG2RAD;skewX*=_DEG2RAD;a11=Math.cos(rotation)*scaleX;a21=Math.sin(rotation)*scaleX;a12=Math.sin(rotation-skewX)*-scaleY;a22=Math.cos(rotation-skewX)*scaleY;if(skewX){skewY*=_DEG2RAD;temp=Math.tan(skewX-skewY);temp=Math.sqrt(1+temp*temp);a12*=temp;a22*=temp;if(skewY){temp=Math.tan(skewY);temp=Math.sqrt(1+temp*temp);a11*=temp;a21*=temp;}} a11=_round(a11);a21=_round(a21);a12=_round(a12);a22=_round(a22);}else{a11=scaleX;a22=scaleY;a21=a12=0;} if(tx&&!~(x+"").indexOf("px")||ty&&!~(y+"").indexOf("px")){tx=_convertToUnit(target,"x",x,"px");ty=_convertToUnit(target,"y",y,"px");} if(xOrigin||yOrigin||xOffset||yOffset){tx=_round(tx+xOrigin-(xOrigin*a11+yOrigin*a12)+xOffset);ty=_round(ty+yOrigin-(xOrigin*a21+yOrigin*a22)+yOffset);} if(xPercent||yPercent){temp=target.getBBox();tx=_round(tx+xPercent/100*temp.width);ty=_round(ty+yPercent/100*temp.height);} temp="matrix("+a11+","+a21+","+a12+","+a22+","+tx+","+ty+")";target.setAttribute("transform",temp);forceCSS&&(target.style[_transformProp]=temp);},_addRotationalPropTween=function _addRotationalPropTween(plugin,target,property,startNum,endValue){var cap=360,isString=_isString(endValue),endNum=parseFloat(endValue)*(isString&&~endValue.indexOf("rad")?_RAD2DEG:1),change=endNum-startNum,finalValue=startNum+change+"deg",direction,pt;if(isString){direction=endValue.split("_")[1];if(direction==="short"){change%=cap;if(change!==change%(cap/2)){change+=change<0?cap:-cap;}} if(direction==="cw"&&change<0){change=(change+cap*_bigNum$1)%cap-~~(change/cap)*cap;}else if(direction==="ccw"&&change>0){change=(change-cap*_bigNum$1)%cap-~~(change/cap)*cap;}} plugin._pt=pt=new PropTween(plugin._pt,target,property,startNum,change,_renderPropWithEnd);pt.e=finalValue;pt.u="deg";plugin._props.push(property);return pt;},_assign=function _assign(target,source){for(var p in source){target[p]=source[p];} return target;},_addRawTransformPTs=function _addRawTransformPTs(plugin,transforms,target){var startCache=_assign({},target._gsap),exclude="perspective,force3D,transformOrigin,svgOrigin",style=target.style,endCache,p,startValue,endValue,startNum,endNum,startUnit,endUnit;if(startCache.svg){startValue=target.getAttribute("transform");target.setAttribute("transform","");style[_transformProp]=transforms;endCache=_parseTransform(target,1);_removeProperty(target,_transformProp);target.setAttribute("transform",startValue);}else{startValue=getComputedStyle(target)[_transformProp];style[_transformProp]=transforms;endCache=_parseTransform(target,1);style[_transformProp]=startValue;} for(p in _transformProps){startValue=startCache[p];endValue=endCache[p];if(startValue!==endValue&&exclude.indexOf(p)<0){startUnit=getUnit(startValue);endUnit=getUnit(endValue);startNum=startUnit!==endUnit?_convertToUnit(target,p,startValue,endUnit):parseFloat(startValue);endNum=parseFloat(endValue);plugin._pt=new PropTween(plugin._pt,endCache,p,startNum,endNum-startNum,_renderCSSProp);plugin._pt.u=endUnit||0;plugin._props.push(p);}} _assign(endCache,startCache);};_forEachName("padding,margin,Width,Radius",function(name,index){var t="Top",r="Right",b="Bottom",l="Left",props=(index<3?[t,r,b,l]:[t+l,t+r,b+r,b+l]).map(function(side){return index<2?name+side:"border"+side+name;});_specialProps[index>1?"border"+name:name]=function(plugin,target,property,endValue,tween){var a,vars;if(arguments.length<4){a=props.map(function(prop){return _get(plugin,prop,property);});vars=a.join(" ");return vars.split(a[0]).length===5?a[0]:vars;} a=(endValue+"").split(" ");vars={};props.forEach(function(prop,i){return vars[prop]=a[i]=a[i]||a[(i-1)/2|0];});plugin.init(target,vars,tween);};});var CSSPlugin={name:"css",register:_initCore,targetTest:function targetTest(target){return target.style&&target.nodeType;},init:function init(target,vars,tween,index,targets){var props=this._props,style=target.style,startAt=tween.vars.startAt,startValue,endValue,endNum,startNum,type,specialProp,p,startUnit,endUnit,relative,isTransformRelated,transformPropTween,cache,smooth,hasPriority,inlineProps;_pluginInitted||_initCore();this.styles=this.styles||_getStyleSaver(target);inlineProps=this.styles.props;this.tween=tween;for(p in vars){if(p==="autoRound"){continue;} endValue=vars[p];if(_plugins[p]&&_checkPlugin(p,vars,tween,index,target,targets)){continue;} type=typeof endValue;specialProp=_specialProps[p];if(type==="function"){endValue=endValue.call(tween,index,target,targets);type=typeof endValue;} if(type==="string"&&~endValue.indexOf("random(")){endValue=_replaceRandom(endValue);} if(specialProp){specialProp(this,target,p,endValue,tween)&&(hasPriority=1);}else if(p.substr(0,2)==="--"){startValue=(getComputedStyle(target).getPropertyValue(p)+"").trim();endValue+="";_colorExp.lastIndex=0;if(!_colorExp.test(startValue)){startUnit=getUnit(startValue);endUnit=getUnit(endValue);} endUnit?startUnit!==endUnit&&(startValue=_convertToUnit(target,p,startValue,endUnit)+endUnit):startUnit&&(endValue+=startUnit);this.add(style,"setProperty",startValue,endValue,index,targets,0,0,p);props.push(p);inlineProps.push(p,0,style[p]);}else if(type!=="undefined"){if(startAt&&p in startAt){startValue=typeof startAt[p]==="function"?startAt[p].call(tween,index,target,targets):startAt[p];_isString(startValue)&&~startValue.indexOf("random(")&&(startValue=_replaceRandom(startValue));getUnit(startValue+"")||(startValue+=_config.units[p]||getUnit(_get(target,p))||"");(startValue+"").charAt(1)==="="&&(startValue=_get(target,p));}else{startValue=_get(target,p);} startNum=parseFloat(startValue);relative=type==="string"&&endValue.charAt(1)==="="&&endValue.substr(0,2);relative&&(endValue=endValue.substr(2));endNum=parseFloat(endValue);if(p in _propertyAliases){if(p==="autoAlpha"){if(startNum===1&&_get(target,"visibility")==="hidden"&&endNum){startNum=0;} inlineProps.push("visibility",0,style.visibility);_addNonTweeningPT(this,style,"visibility",startNum?"inherit":"hidden",endNum?"inherit":"hidden",!endNum);} if(p!=="scale"&&p!=="transform"){p=_propertyAliases[p];~p.indexOf(",")&&(p=p.split(",")[0]);}} isTransformRelated=p in _transformProps;if(isTransformRelated){this.styles.save(p);if(!transformPropTween){cache=target._gsap;cache.renderTransform&&!vars.parseTransform||_parseTransform(target,vars.parseTransform);smooth=vars.smoothOrigin!==false&&cache.smooth;transformPropTween=this._pt=new PropTween(this._pt,style,_transformProp,0,1,cache.renderTransform,cache,0,-1);transformPropTween.dep=1;} if(p==="scale"){this._pt=new PropTween(this._pt,cache,"scaleY",cache.scaleY,(relative?_parseRelative(cache.scaleY,relative+endNum):endNum)-cache.scaleY||0,_renderCSSProp);this._pt.u=0;props.push("scaleY",p);p+="X";}else if(p==="transformOrigin"){inlineProps.push(_transformOriginProp,0,style[_transformOriginProp]);endValue=_convertKeywordsToPercentages(endValue);if(cache.svg){_applySVGOrigin(target,endValue,0,smooth,0,this);}else{endUnit=parseFloat(endValue.split(" ")[2])||0;endUnit!==cache.zOrigin&&_addNonTweeningPT(this,cache,"zOrigin",cache.zOrigin,endUnit);_addNonTweeningPT(this,style,p,_firstTwoOnly(startValue),_firstTwoOnly(endValue));} continue;}else if(p==="svgOrigin"){_applySVGOrigin(target,endValue,1,smooth,0,this);continue;}else if(p in _rotationalProperties){_addRotationalPropTween(this,cache,p,startNum,relative?_parseRelative(startNum,relative+endValue):endValue);continue;}else if(p==="smoothOrigin"){_addNonTweeningPT(this,cache,"smooth",cache.smooth,endValue);continue;}else if(p==="force3D"){cache[p]=endValue;continue;}else if(p==="transform"){_addRawTransformPTs(this,endValue,target);continue;}}else if(!(p in style)){p=_checkPropPrefix(p)||p;} if(isTransformRelated||(endNum||endNum===0)&&(startNum||startNum===0)&&!_complexExp.test(endValue)&&p in style){startUnit=(startValue+"").substr((startNum+"").length);endNum||(endNum=0);endUnit=getUnit(endValue)||(p in _config.units?_config.units[p]:startUnit);startUnit!==endUnit&&(startNum=_convertToUnit(target,p,startValue,endUnit));this._pt=new PropTween(this._pt,isTransformRelated?cache:style,p,startNum,(relative?_parseRelative(startNum,relative+endNum):endNum)-startNum,!isTransformRelated&&(endUnit==="px"||p==="zIndex")&&vars.autoRound!==false?_renderRoundedCSSProp:_renderCSSProp);this._pt.u=endUnit||0;if(startUnit!==endUnit&&endUnit!=="%"){this._pt.b=startValue;this._pt.r=_renderCSSPropWithBeginning;}}else if(!(p in style)){if(p in target){this.add(target,p,startValue||target[p],relative?relative+endValue:endValue,index,targets);}else if(p!=="parseTransform"){_missingPlugin(p,endValue);continue;}}else{_tweenComplexCSSString.call(this,target,p,startValue,relative?relative+endValue:endValue);} isTransformRelated||(p in style?inlineProps.push(p,0,style[p]):inlineProps.push(p,1,startValue||target[p]));props.push(p);}} hasPriority&&_sortPropTweensByPriority(this);},render:function render(ratio,data){if(data.tween._time||!_reverting$1()){var pt=data._pt;while(pt){pt.r(ratio,pt.d);pt=pt._next;}}else{data.styles.revert();}},get:_get,aliases:_propertyAliases,getSetter:function getSetter(target,property,plugin){var p=_propertyAliases[property];p&&p.indexOf(",")<0&&(property=p);return property in _transformProps&&property!==_transformOriginProp&&(target._gsap.x||_get(target,"x"))?plugin&&_recentSetterPlugin===plugin?property==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=plugin||{})&&(property==="scale"?_setterScaleWithRender:_setterTransformWithRender):target.style&&!_isUndefined(target.style[property])?_setterCSSStyle:~property.indexOf("-")?_setterCSSProp:_getSetter(target,property);},core:{_removeProperty:_removeProperty,_getMatrix:_getMatrix}};gsap.utils.checkPrefix=_checkPropPrefix;gsap.core.getStyleSaver=_getStyleSaver;(function(positionAndScale,rotation,others,aliases){var all=_forEachName(positionAndScale+","+rotation+","+others,function(name){_transformProps[name]=1;});_forEachName(rotation,function(name){_config.units[name]="deg";_rotationalProperties[name]=1;});_propertyAliases[all[13]]=positionAndScale+","+rotation;_forEachName(aliases,function(name){var split=name.split(":");_propertyAliases[split[1]]=all[split[0]];});})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(name){_config.units[name]="px";});gsap.registerPlugin(CSSPlugin);var _svgPathExp=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_numbersExp=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,_scientific=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,_selectorExp=/(^[#\.][a-z]|[a-y][a-z])/i,_DEG2RAD$1=Math.PI/180,_RAD2DEG$1=180/Math.PI,_sin$1=Math.sin,_cos$1=Math.cos,_abs=Math.abs,_sqrt$1=Math.sqrt,_atan2$1=Math.atan2,_largeNum=1e8,_isString$1=function _isString(value){return typeof value==="string";},_isNumber$1=function _isNumber(value){return typeof value==="number";},_isUndefined$1=function _isUndefined(value){return typeof value==="undefined";},_temp={},_temp2={},_roundingNum=1e5,_wrapProgress=function _wrapProgress(progress){return Math.round((progress+_largeNum)%1*_roundingNum)/_roundingNum||(progress<0?0:1);},_round$1=function _round(value){return Math.round(value*_roundingNum)/_roundingNum||0;},_roundPrecise$1=function _roundPrecise(value){return Math.round(value*1e10)/1e10||0;},_splitSegment=function _splitSegment(rawPath,segIndex,i,t){var segment=rawPath[segIndex],shift=t===1?6:subdivideSegment(segment,i,t);if(shift&&shift+i+2length){while(--i&&samples[i]>length){} i<0&&(i=0);}else{while(samples[++i] element or an SVG path data string"):_isString$1(value)?stringToRawPath(value):_isNumber$1(value[0])?[value]:value;} function copyRawPath(rawPath){var a=[],i=0;for(;i-1){name=attr[i].nodeName.toLowerCase();if(ignore.indexOf(","+name+",")<0){path.setAttributeNS(null,name,attr[i].nodeValue);}} return path;},_typeAttrs={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"},_attrToObj=function _attrToObj(e,attrs){var props=attrs?attrs.split(","):[],obj={},i=props.length;while(--i>-1){obj[props[i]]=+e.getAttribute(props[i])||0;} return obj;};function convertToPath(element,swap){var type=element.tagName.toLowerCase(),circ=0.552284749831,data,x,y,r,ry,path,rcirc,rycirc,points,w,h,x2,x3,x4,x5,x6,y2,y3,y4,y5,y6,attr;if(type==="path"||!element.getBBox){return element;} path=_createPath(element,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points");attr=_attrToObj(element,_typeAttrs[type]);if(type==="rect"){r=attr.rx;ry=attr.ry||r;x=attr.x;y=attr.y;w=attr.width-r*2;h=attr.height-ry*2;if(r||ry){x2=x+r*(1-circ);x3=x+r;x4=x3+w;x5=x4+r*circ;x6=x4+r;y2=y+ry*(1-circ);y3=y+ry;y4=y3+h;y5=y4+ry*circ;y6=y4+ry;data="M"+x6+","+y3+" V"+y4+" C"+[x6,y5,x5,y6,x4,y6,x4-(x4-x3)/3,y6,x3+(x4-x3)/3,y6,x3,y6,x2,y6,x,y5,x,y4,x,y4-(y4-y3)/3,x,y3+(y4-y3)/3,x,y3,x,y2,x2,y,x3,y,x3+(x4-x3)/3,y,x4-(x4-x3)/3,y,x4,y,x5,y,x6,y2,x6,y3].join(",")+"z";}else{data="M"+(x+w)+","+y+" v"+h+" h"+-w+" v"+-h+" h"+w+"z";}}else if(type==="circle"||type==="ellipse"){if(type==="circle"){r=ry=attr.r;rycirc=r*circ;}else{r=attr.rx;ry=attr.ry;rycirc=ry*circ;} x=attr.cx;y=attr.cy;rcirc=r*circ;data="M"+(x+r)+","+y+" C"+[x+r,y+rycirc,x+rcirc,y+ry,x,y+ry,x-rcirc,y+ry,x-r,y+rycirc,x-r,y,x-r,y-rycirc,x-rcirc,y-ry,x,y-ry,x+rcirc,y-ry,x+r,y-rycirc,x+r,y].join(",")+"z";}else if(type==="line"){data="M"+attr.x1+","+attr.y1+" L"+attr.x2+","+attr.y2;}else if(type==="polyline"||type==="polygon"){points=(element.getAttribute("points")+"").match(_numbersExp)||[];x=points.shift();y=points.shift();data="M"+x+","+y+" L"+points.join(",");if(type==="polygon"){data+=","+x+","+y+"z";}} path.setAttribute("d",rawPathToString(path._gsRawPath=stringToRawPath(data)));if(swap&&element.parentNode){element.parentNode.insertBefore(path,element);element.parentNode.removeChild(element);} return path;} function getRotationAtBezierT(segment,i,t){var a=segment[i],b=segment[i+2],c=segment[i+4],x;a+=(b-a)*t;b+=(c-b)*t;a+=(b-a)*t;x=b+(c+(segment[i+6]-c)*t-b)*t-a;a=segment[i+1];b=segment[i+3];c=segment[i+5];a+=(b-a)*t;b+=(c-b)*t;a+=(b-a)*t;return _round$1(_atan2$1(b+(c+(segment[i+7]-c)*t-b)*t-a,x)*_RAD2DEG$1);} function sliceRawPath(rawPath,start,end){end=_isUndefined$1(end)?1:_roundPrecise$1(end)||0;start=_roundPrecise$1(start)||0;var loops=Math.max(0,~~(_abs(end-start)-1e-8)),path=copyRawPath(rawPath);if(start>end){start=1-start;end=1-end;_reverseRawPath(path);path.totalLength=0;} if(start<0||end<0){var offset=Math.abs(~~Math.min(start,end))+1;start+=offset;end+=offset;} path.totalLength||cacheRawPathMeasurements(path);var wrap=end>1,s=getProgressData(path,start,_temp,true),e=getProgressData(path,end,_temp2),eSeg=e.segment,sSeg=s.segment,eSegIndex=e.segIndex,sSegIndex=s.segIndex,ei=e.i,si=s.i,sameSegment=sSegIndex===eSegIndex,sameBezier=ei===si&&sameSegment,wrapsBehind,sShift,eShift,i,copy,totalSegments,l,j;if(wrap||loops){wrapsBehind=eSegIndexeSegIndex)&&path.splice(i,1);}}else{eSeg.angle=getRotationAtBezierT(eSeg,ei+eShift,0);ei+=eShift;s=eSeg[ei];e=eSeg[ei+1];eSeg.length=eSeg.totalLength=0;eSeg.totalPoints=path.totalPoints=8;eSeg.push(s,e,s,e,s,e,s,e);}} path.totalLength=0;return path;} function measureSegment(segment,startIndex,bezierQty){startIndex=startIndex||0;if(!segment.samples){segment.samples=[];segment.lookup=[];} var resolution=~~segment.resolution||12,inc=1/resolution,endIndex=bezierQty?startIndex+bezierQty*6+1:segment.length,x1=segment[startIndex],y1=segment[startIndex+1],samplesIndex=startIndex?startIndex/6*resolution:0,samples=segment.samples,lookup=segment.lookup,min=(startIndex?segment.minLength:_largeNum)||_largeNum,prevLength=samples[samplesIndex+bezierQty*resolution-1],length=startIndex?samples[samplesIndex-1]:0,i,j,x4,x3,x2,xd,xd1,y4,y3,y2,yd,yd1,inv,t,lengthIndex,l,segLength;samples.length=lookup.length=0;for(j=startIndex+2;j8){segment.splice(j,6);j-=6;endIndex-=6;}}else{for(i=1;i<=resolution;i++){t=inc*i;inv=1-t;xd=xd1-(xd1=(t*t*x4+3*inv*(t*x3+inv*x2))*t);yd=yd1-(yd1=(t*t*y4+3*inv*(t*y3+inv*y2))*t);l=_sqrt$1(yd*yd+xd*xd);if(l=1){return 0;} var ax=segment[i],ay=segment[i+1],cp1x=segment[i+2],cp1y=segment[i+3],cp2x=segment[i+4],cp2y=segment[i+5],bx=segment[i+6],by=segment[i+7],x1a=ax+(cp1x-ax)*t,x2=cp1x+(cp2x-cp1x)*t,y1a=ay+(cp1y-ay)*t,y2=cp1y+(cp2y-cp1y)*t,x1=x1a+(x2-x1a)*t,y1=y1a+(y2-y1a)*t,x2a=cp2x+(bx-cp2x)*t,y2a=cp2y+(by-cp2y)*t;x2+=(x2a-x2)*t;y2+=(y2a-y2)*t;segment.splice(i+2,4,_round$1(x1a),_round$1(y1a),_round$1(x1),_round$1(y1),_round$1(x1+(x2-x1)*t),_round$1(y1+(y2-y1)*t),_round$1(x2),_round$1(y2),_round$1(x2a),_round$1(y2a));segment.samples&&segment.samples.splice(i/6*segment.resolution|0,0,0,0,0,0,0,0);return 6;} function getProgressData(rawPath,progress,decoratee,pushToNextIfAtEnd){decoratee=decoratee||{};rawPath.totalLength||cacheRawPathMeasurements(rawPath);if(progress<0||progress>1){progress=_wrapProgress(progress);} var segIndex=0,segment=rawPath[0],samples,resolution,length,min,max,i,t;if(!progress){t=i=segIndex=0;segment=rawPath[0];}else if(progress===1){t=1;segIndex=rawPath.length-1;segment=rawPath[segIndex];i=segment.length-8;}else{if(rawPath.length>1){length=rawPath.totalLength*progress;max=i=0;while((max+=rawPath[i++].totalLength)1){progress=_wrapProgress(progress);} if(rawPath.length>1){length=rawPath.totalLength*progress;max=i=0;while((max+=rawPath[i++].totalLength)=1?1-1e-9:t?t:1e-9):segment.angle||0;} return result;} function transformRawPath(rawPath,a,b,c,d,tx,ty){var j=rawPath.length,segment,l,i,x,y;while(--j>-1){segment=rawPath[j];l=segment.length;for(i=0;i1){rx=_sqrt$1(radiiCheck)*rx;ry=_sqrt$1(radiiCheck)*ry;} var rx_sq=rx*rx,ry_sq=ry*ry,sq=(rx_sq*ry_sq-rx_sq*y1_sq-ry_sq*x1_sq)/(rx_sq*y1_sq+ry_sq*x1_sq);if(sq<0){sq=0;} var coef=(largeArcFlag===sweepFlag?-1:1)*_sqrt$1(sq),cx1=coef*(rx*y1/ry),cy1=coef*-(ry*x1/rx),sx2=(lastX+x)/2,sy2=(lastY+y)/2,cx=sx2+(cosAngle*cx1-sinAngle*cy1),cy=sy2+(sinAngle*cx1+cosAngle*cy1),ux=(x1-cx1)/rx,uy=(y1-cy1)/ry,vx=(-x1-cx1)/rx,vy=(-y1-cy1)/ry,temp=ux*ux+uy*uy,angleStart=(uy<0?-1:1)*Math.acos(ux/_sqrt$1(temp)),angleExtent=(ux*vy-uy*vx<0?-1:1)*Math.acos((ux*vx+uy*vy)/_sqrt$1(temp*(vx*vx+vy*vy)));isNaN(angleExtent)&&(angleExtent=PI);if(!sweepFlag&&angleExtent>0){angleExtent-=TWOPI;}else if(sweepFlag&&angleExtent<0){angleExtent+=TWOPI;} angleStart%=TWOPI;angleExtent%=TWOPI;var segments=Math.ceil(_abs(angleExtent)/(TWOPI/4)),rawPath=[],angleIncrement=angleExtent/segments,controlLength=4/3*_sin$1(angleIncrement/2)/(1+_cos$1(angleIncrement/2)),ma=cosAngle*rx,mb=sinAngle*rx,mc=sinAngle*-ry,md=cosAngle*ry,i;for(i=0;i-0.0001?0:n;}).match(_svgPathExp)||[],path=[],relativeX=0,relativeY=0,twoThirds=2/3,elements=a.length,points=0,errorMessage="ERROR: malformed path: "+d,i,j,x,y,command,isRelative,segment,startX,startY,difX,difY,beziers,prevCommand,flag1,flag2,line=function line(sx,sy,ex,ey){difX=(ex-sx)/3;difY=(ey-sy)/3;segment.push(sx+difX,sy+difY,ex-difX,ey-difY,ex,ey);};if(!d||!isNaN(a[0])||isNaN(a[1])){console.log(errorMessage);return path;} for(i=0;i0.5||_abs(relativeY-y)>0.5){line(relativeX,relativeY,x,y);if(command==="L"){i+=2;}} relativeX=x;relativeY=y;}else if(command==="A"){flag1=a[i+4];flag2=a[i+5];difX=a[i+6];difY=a[i+7];j=7;if(flag1.length>1){if(flag1.length<3){difY=difX;difX=flag2;j--;}else{difY=flag2;difX=flag1.substr(2);j-=2;} flag2=flag1.charAt(1);flag1=flag1.charAt(0);} beziers=arcToSegment(relativeX,relativeY,+a[i+1],+a[i+2],+a[i+3],+flag1,+flag2,(isRelative?relativeX:0)+difX*1,(isRelative?relativeY:0)+difY*1);i+=j;if(beziers){for(j=0;jthreshold*(dx*dx+dy*dy)){length=points.length;bezierToPoints(x1,y1,x12,y12,x123,y123,x1234,y1234,threshold,points,index);bezierToPoints(x1234,y1234,x234,y234,x34,y34,x4,y4,threshold,points,index+2+(points.length-length));} return points;} function flatPointsToSegment(points,curviness){if(curviness===void 0){curviness=1;} var x=points[0],y=0,segment=[x,y],i=2;for(;i1){x1=x2;y1=y2;}else if(t>0){x1+=dx*t;y1+=dy*t;}} return Math.pow(x-x1,2)+Math.pow(y-y1,2);} function simplifyStep(points,first,last,tolerance,simplified){var maxSqDist=tolerance,firstX=points[first],firstY=points[first+1],lastX=points[last],lastY=points[last+1],index,i,d;for(i=first+2;imaxSqDist){index=i;maxSqDist=d;}} if(maxSqDist>tolerance){index-first>2&&simplifyStep(points,first,index,tolerance,simplified);simplified.push(points[index],points[index+1]);last-index>2&&simplifyStep(points,index,last,tolerance,simplified);}} function simplifyPoints(points,tolerance){var prevX=parseFloat(points[0]),prevY=parseFloat(points[1]),temp=[prevX,prevY],l=points.length-2,i,x,y,dx,dy,result,last;tolerance=Math.pow(tolerance||1,2);for(i=2;itolerance){temp.push(x,y);prevX=x;prevY=y;}} temp.push(parseFloat(points[l]),parseFloat(points[l+1]));last=temp.length-2;result=[temp[0],temp[1]];simplifyStep(temp,0,last,tolerance,result);result.push(temp[last],temp[last+1]);return result;} function getClosestProgressOnBezier(iterations,px,py,start,end,slices,x0,y0,x1,y1,x2,y2,x3,y3){var inc=(end-start)/slices,best=0,t=start,x,y,d,dx,dy,inv;_bestDistance=_largeNum;while(t<=end){inv=1-t;x=inv*inv*inv*x0+3*inv*inv*t*x1+3*inv*t*t*x2+t*t*t*x3;y=inv*inv*inv*y0+3*inv*inv*t*y1+3*inv*t*t*y2+t*t*t*y3;dx=x-px;dy=y-py;d=dx*dx+dy*dy;if(d<_bestDistance){_bestDistance=d;best=t;} t+=inc;} return iterations>1?getClosestProgressOnBezier(iterations-1,px,py,Math.max(best-inc,0),Math.min(best+inc,1),slices,x0,y0,x1,y1,x2,y2,x3,y3):best;} function getClosestData(rawPath,x,y,slices){var closest={j:0,i:0,t:0},bestDistance=_largeNum,i,j,t,segment;for(j=0;j_bestDistance){bestDistance=_bestDistance;closest.j=j;closest.i=i;closest.t=t;}}} return closest;} function rawPathToString(rawPath){if(_isNumber$1(rawPath[0])){rawPath=[rawPath];} var result="",l=rawPath.length,sl,s,i,segment;for(s=0;sthreshold*(dx*dx+dy*dy)){length=points.length;_bezierToPoints(x1,y1,x12,y12,x123,y123,x1234,y1234,threshold,points,index);_bezierToPoints(x1234,y1234,x234,y234,x34,y34,x4,y4,threshold,points,index+1+(points.length-length));} return points;};var CustomEase=function(){function CustomEase(id,data,config){_coreInitted$1||_initCore$1();this.id=id;this.setData(data,config);} var _proto=CustomEase.prototype;_proto.setData=function setData(data,config){config=config||{};data=data||"0,0,1,1";var values=data.match(_numExp$1),closest=1,points=[],lookup=[],precision=config.precision||1,fast=precision<=1,l,a1,a2,i,inc,j,point,prevPoint,p;this.data=data;if(_needsParsingExp.test(data)||~data.indexOf("M")&&data.indexOf("C")<0){values=stringToRawPath(data)[0];} l=values.length;if(l===4){values.unshift(0,0);values.push(1,1);l=8;}else if((l-2)%6){throw "Invalid CustomEase";} if(+values[0]!==0||+values[l-2]!==1){_normalize(values,config.height,config.originY);} this.segment=values;for(i=2;iprevPoint.x||prevPoint.y!==point.y&&prevPoint.x===point.x||point===prevPoint)&&point.x<=1){prevPoint.cx=point.x-prevPoint.x;prevPoint.cy=point.y-prevPoint.y;prevPoint.n=point;prevPoint.nx=point.x;if(fast&&i>1&&Math.abs(prevPoint.cy/prevPoint.cx-points[i-2].cy/points[i-2].cx)>2){fast=0;} if(prevPoint.cxthreshold||i===precision-1){a.push(prevX,prevY);slope=(ty-prevY)/(tx-prevX);} prevX=tx;prevY=ty;} a="M"+a.join(",");} e&&e.setAttribute("d",a);return a;};return CustomEase;}();_getGSAP()&&gsap$1.registerPlugin(CustomEase);CustomEase.version="3.11.4";var _doc$2,_win$2,_docElement$1,_body,_divContainer,_svgContainer,_identityMatrix,_gEl,_transformProp$1="transform",_transformOriginProp$1=_transformProp$1+"Origin",_hasOffsetBug,_setDoc=function _setDoc(element){var doc=element.ownerDocument||element;if(!(_transformProp$1 in element.style)&&"msTransform"in element.style){_transformProp$1="msTransform";_transformOriginProp$1=_transformProp$1+"Origin";} while(doc.parentNode&&(doc=doc.parentNode)){} _win$2=window;_identityMatrix=new Matrix2D();if(doc){_doc$2=doc;_docElement$1=doc.documentElement;_body=doc.body;_gEl=_doc$2.createElementNS("http://www.w3.org/2000/svg","g");_gEl.style.transform="none";var d1=doc.createElement("div"),d2=doc.createElement("div");_body.appendChild(d1);d1.appendChild(d2);d1.style.position="static";d1.style[_transformProp$1]="translate3d(0,0,1px)";_hasOffsetBug=d2.offsetParent!==d1;_body.removeChild(d1);} return doc;},_forceNonZeroScale=function _forceNonZeroScale(e){var a,cache;while(e&&e!==_body){cache=e._gsap;cache&&cache.uncache&&cache.get(e,"x");if(cache&&!cache.scaleX&&!cache.scaleY&&cache.renderTransform){cache.scaleX=cache.scaleY=1e-4;cache.renderTransform(1,cache);a?a.push(cache):a=[cache];} e=e.parentNode;} return a;},_svgTemps=[],_divTemps=[],_getDocScrollTop=function _getDocScrollTop(){return _win$2.pageYOffset||_doc$2.scrollTop||_docElement$1.scrollTop||_body.scrollTop||0;},_getDocScrollLeft=function _getDocScrollLeft(){return _win$2.pageXOffset||_doc$2.scrollLeft||_docElement$1.scrollLeft||_body.scrollLeft||0;},_svgOwner=function _svgOwner(element){return element.ownerSVGElement||((element.tagName+"").toLowerCase()==="svg"?element:null);},_isFixed=function _isFixed(element){if(_win$2.getComputedStyle(element).position==="fixed"){return true;} element=element.parentNode;if(element&&element.nodeType===1){return _isFixed(element);}},_createSibling=function _createSibling(element,i){if(element.parentNode&&(_doc$2||_setDoc(element))){var svg=_svgOwner(element),ns=svg?svg.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",type=svg?i?"rect":"g":"div",x=i!==2?0:100,y=i===3?100:0,css="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",e=_doc$2.createElementNS?_doc$2.createElementNS(ns.replace(/^https/,"http"),type):_doc$2.createElement(type);if(i){if(!svg){if(!_divContainer){_divContainer=_createSibling(element);_divContainer.style.cssText=css;} e.style.cssText=css+"width:0.1px;height:0.1px;top:"+y+"px;left:"+x+"px";_divContainer.appendChild(e);}else{_svgContainer||(_svgContainer=_createSibling(element));e.setAttribute("width",0.01);e.setAttribute("height",0.01);e.setAttribute("transform","translate("+x+","+y+")");_svgContainer.appendChild(e);}} return e;} throw "Need document and parent.";},_consolidate=function _consolidate(m){var c=new Matrix2D(),i=0;for(;i1?_consolidate(m):m.getItem(0).matrix;x=m.a*b.x+m.c*b.y;y=m.b*b.x+m.d*b.y;}else{m=new Matrix2D();x=y=0;} if(adjustGOffset&&element.tagName.toLowerCase()==="g"){x=y=0;} (isRootSVG?svg:parent).appendChild(container);container.setAttribute("transform","matrix("+m.a+","+m.b+","+m.c+","+m.d+","+(m.e+x)+","+(m.f+y)+")");}else{x=y=0;if(_hasOffsetBug){m=element.offsetParent;b=element;while(b&&(b=b.parentNode)&&b!==m&&b.parentNode){if((_win$2.getComputedStyle(b)[_transformProp$1]+"").length>4){x=b.offsetLeft;y=b.offsetTop;b=0;}}} cs=_win$2.getComputedStyle(element);if(cs.position!=="absolute"&&cs.position!=="fixed"){m=element.offsetParent;while(parent&&parent!==m){x+=parent.scrollLeft||0;y+=parent.scrollTop||0;parent=parent.parentNode;}} b=container.style;b.top=element.offsetTop-y+"px";b.left=element.offsetLeft-x+"px";b[_transformProp$1]=cs[_transformProp$1];b[_transformOriginProp$1]=cs[_transformOriginProp$1];b.position=cs.position==="fixed"?"fixed":"absolute";element.parentNode.appendChild(container);} return container;},_setMatrix=function _setMatrix(m,a,b,c,d,e,f){m.a=a;m.b=b;m.c=c;m.d=d;m.e=e;m.f=f;return m;};var Matrix2D=function(){function Matrix2D(a,b,c,d,e,f){if(a===void 0){a=1;} if(b===void 0){b=0;} if(c===void 0){c=0;} if(d===void 0){d=1;} if(e===void 0){e=0;} if(f===void 0){f=0;} _setMatrix(this,a,b,c,d,e,f);} var _proto=Matrix2D.prototype;_proto.inverse=function inverse(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f,determinant=a*d-b*c||1e-10;return _setMatrix(this,d/determinant,-b/determinant,-c/determinant,a/determinant,(c*f-d*e)/determinant,-(a*f-b*e)/determinant);};_proto.multiply=function multiply(matrix){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f,a2=matrix.a,b2=matrix.c,c2=matrix.b,d2=matrix.d,e2=matrix.e,f2=matrix.f;return _setMatrix(this,a2*a+c2*c,a2*b+c2*d,b2*a+d2*c,b2*b+d2*d,e+e2*a+f2*c,f+e2*b+f2*d);};_proto.clone=function clone(){return new Matrix2D(this.a,this.b,this.c,this.d,this.e,this.f);};_proto.equals=function equals(matrix){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f;return a===matrix.a&&b===matrix.b&&c===matrix.c&&d===matrix.d&&e===matrix.e&&f===matrix.f;};_proto.apply=function apply(point,decoratee){if(decoratee===void 0){decoratee={};} var x=point.x,y=point.y,a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,f=this.f;decoratee.x=x*a+y*c+e||0;decoratee.y=x*b+y*d+f||0;return decoratee;};return Matrix2D;}();function getGlobalMatrix(element,inverse,adjustGOffset,includeScrollInFixed){if(!element||!element.parentNode||(_doc$2||_setDoc(element)).documentElement===element){return new Matrix2D();} var zeroScales=_forceNonZeroScale(element),svg=_svgOwner(element),temps=svg?_svgTemps:_divTemps,container=_placeSiblings(element,adjustGOffset),b1=temps[0].getBoundingClientRect(),b2=temps[1].getBoundingClientRect(),b3=temps[2].getBoundingClientRect(),parent=container.parentNode,isFixed=!includeScrollInFixed&&_isFixed(element),m=new Matrix2D((b2.left-b1.left)/100,(b2.top-b1.top)/100,(b3.left-b1.left)/100,(b3.top-b1.top)/100,b1.left+(isFixed?0:_getDocScrollLeft()),b1.top+(isFixed?0:_getDocScrollTop()));parent.removeChild(container);if(zeroScales){b1=zeroScales.length;while(b1--){b2=zeroScales[b1];b2.scaleX=b2.scaleY=0;b2.renderTransform(1,b2);}} return inverse?m.inverse():m;} var gsap$2,_win$3,_doc$3,_docElement$2,_body$1,_tempDiv$1,_placeholderDiv,_coreInitted$2,_checkPrefix,_toArray,_supportsPassive,_isTouchDevice,_touchEventLookup,_isMultiTouching,_isAndroid,InertiaPlugin,_defaultCursor,_supportsPointer,_context$1,_dragCount$1=0,_windowExists$2=function _windowExists(){return typeof window!=="undefined";},_getGSAP$1=function _getGSAP(){return gsap$2||_windowExists$2()&&(gsap$2=window.gsap)&&gsap$2.registerPlugin&&gsap$2;},_isFunction$1=function _isFunction(value){return typeof value==="function";},_isObject$1=function _isObject(value){return typeof value==="object";},_isUndefined$2=function _isUndefined(value){return typeof value==="undefined";},_emptyFunc$1=function _emptyFunc(){return false;},_transformProp$2="transform",_transformOriginProp$2="transformOrigin",_round$3=function _round(value){return Math.round(value*10000)/10000;},_isArray$1=Array.isArray,_createElement$1=function _createElement(type,ns){var e=_doc$3.createElementNS?_doc$3.createElementNS((ns||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),type):_doc$3.createElement(type);return e.style?e:_doc$3.createElement(type);},_RAD2DEG$2=180/Math.PI,_bigNum$3=1e20,_identityMatrix$1=new Matrix2D(),_getTime=Date.now||function(){return new Date().getTime();},_renderQueue=[],_lookup={},_lookupCount=0,_clickableTagExp=/^(?:a|input|textarea|button|select)$/i,_lastDragTime=0,_temp1={},_windowProxy={},_copy=function _copy(obj,factor){var copy={},p;for(p in obj){copy[p]=factor?obj[p]*factor:obj[p];} return copy;},_extend=function _extend(obj,defaults){for(var p in defaults){if(!(p in obj)){obj[p]=defaults[p];}} return obj;},_setTouchActionForAllDescendants=function _setTouchActionForAllDescendants(elements,value){var i=elements.length,children;while(i--){value?elements[i].style.touchAction=value:elements[i].style.removeProperty("touch-action");children=elements[i].children;children&&children.length&&_setTouchActionForAllDescendants(children,value);}},_renderQueueTick=function _renderQueueTick(){return _renderQueue.forEach(function(func){return func();});},_addToRenderQueue=function _addToRenderQueue(func){_renderQueue.push(func);if(_renderQueue.length===1){gsap$2.ticker.add(_renderQueueTick);}},_renderQueueTimeout=function _renderQueueTimeout(){return!_renderQueue.length&&gsap$2.ticker.remove(_renderQueueTick);},_removeFromRenderQueue=function _removeFromRenderQueue(func){var i=_renderQueue.length;while(i--){if(_renderQueue[i]===func){_renderQueue.splice(i,1);}} gsap$2.to(_renderQueueTimeout,{overwrite:true,delay:15,duration:0,onComplete:_renderQueueTimeout,data:"_draggable"});},_setDefaults$1=function _setDefaults(obj,defaults){for(var p in defaults){if(!(p in obj)){obj[p]=defaults[p];}} return obj;},_addListener=function _addListener(element,type,func,capture){if(element.addEventListener){var touchType=_touchEventLookup[type];capture=capture||(_supportsPassive?{passive:false}:null);element.addEventListener(touchType||type,func,capture);touchType&&type!==touchType&&element.addEventListener(type,func,capture);}},_removeListener=function _removeListener(element,type,func,capture){if(element.removeEventListener){var touchType=_touchEventLookup[type];element.removeEventListener(touchType||type,func,capture);touchType&&type!==touchType&&element.removeEventListener(type,func,capture);}},_preventDefault=function _preventDefault(event){event.preventDefault&&event.preventDefault();event.preventManipulation&&event.preventManipulation();},_hasTouchID=function _hasTouchID(list,ID){var i=list.length;while(i--){if(list[i].identifier===ID){return true;}}},_onMultiTouchDocumentEnd=function _onMultiTouchDocumentEnd(event){_isMultiTouching=event.touches&&_dragCount$12||dif<-2)&&!force){prevLeft=element.scrollLeft;gsap$2.killTweensOf(this,{left:1,scrollLeft:1});this.left(-prevLeft);if(vars.onKill){vars.onKill();} return;} value=-value;if(value<0){offsetLeft=value-0.5|0;value=0;}else if(value>maxLeft){offsetLeft=value-maxLeft|0;value=maxLeft;}else{offsetLeft=0;} if(offsetLeft||oldOffset){if(!this._skip){style[_transformProp$2]=transformStart+-offsetLeft+"px,"+-offsetTop+transformEnd;} if(offsetLeft+extraPadRight>=0){style.paddingRight=offsetLeft+extraPadRight+"px";}} element.scrollLeft=value|0;prevLeft=element.scrollLeft;};this.top=function(value,force){if(!arguments.length){return-(element.scrollTop+offsetTop);} var dif=element.scrollTop-prevTop,oldOffset=offsetTop;if((dif>2||dif<-2)&&!force){prevTop=element.scrollTop;gsap$2.killTweensOf(this,{top:1,scrollTop:1});this.top(-prevTop);if(vars.onKill){vars.onKill();} return;} value=-value;if(value<0){offsetTop=value-0.5|0;value=0;}else if(value>maxTop){offsetTop=value-maxTop|0;value=maxTop;}else{offsetTop=0;} if(offsetTop||oldOffset){if(!this._skip){style[_transformProp$2]=transformStart+-offsetLeft+"px,"+-offsetTop+transformEnd;}} element.scrollTop=value|0;prevTop=element.scrollTop;};this.maxScrollTop=function(){return maxTop;};this.maxScrollLeft=function(){return maxLeft;};this.disable=function(){node=content.firstChild;while(node){nextNode=node.nextSibling;element.appendChild(node);node=nextNode;} if(element===content.parentNode){element.removeChild(content);}};this.enable=function(){node=element.firstChild;if(node===content){return;} while(node){nextNode=node.nextSibling;content.appendChild(node);node=nextNode;} element.appendChild(content);this.calibrate();};this.calibrate=function(force){var widthMatches=element.clientWidth===elementWidth,cs,x,y;prevTop=element.scrollTop;prevLeft=element.scrollLeft;if(widthMatches&&element.clientHeight===elementHeight&&content.offsetHeight===contentHeight&&scrollWidth===element.scrollWidth&&scrollHeight===element.scrollHeight&&!force){return;} if(offsetTop||offsetLeft){x=this.left();y=this.top();this.left(-element.scrollLeft);this.top(-element.scrollTop);} cs=_getComputedStyle(element);if(!widthMatches||force){style.display="block";style.width="auto";style.paddingRight="0px";extraPadRight=Math.max(0,element.scrollWidth-element.clientWidth);if(extraPadRight){extraPadRight+=parseFloat(cs.paddingLeft)+(_addPaddingBR?parseFloat(cs.paddingRight):0);}} style.display="inline-block";style.position="relative";style.overflow="visible";style.verticalAlign="top";style.boxSizing="content-box";style.width="100%";style.paddingRight=extraPadRight+"px";if(_addPaddingBR){style.paddingBottom=cs.paddingBottom;} elementWidth=element.clientWidth;elementHeight=element.clientHeight;scrollWidth=element.scrollWidth;scrollHeight=element.scrollHeight;maxLeft=element.scrollWidth-elementWidth;maxTop=element.scrollHeight-elementHeight;contentHeight=content.offsetHeight;style.display="block";if(x||y){this.left(x);this.top(y);}};this.content=content;this.element=element;this._skip=false;this.enable();},_initCore$2=function _initCore(required){if(_windowExists$2()&&document.body){var nav=window&&window.navigator;_win$3=window;_doc$3=document;_docElement$2=_doc$3.documentElement;_body$1=_doc$3.body;_tempDiv$1=_createElement$1("div");_supportsPointer=!!window.PointerEvent;_placeholderDiv=_createElement$1("div");_placeholderDiv.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab";_defaultCursor=_placeholderDiv.style.cursor==="grab"?"grab":"move";_isAndroid=nav&&nav.userAgent.toLowerCase().indexOf("android")!==-1;_isTouchDevice="ontouchstart"in _docElement$2&&"orientation"in _win$3||nav&&(nav.MaxTouchPoints>0||nav.msMaxTouchPoints>0);_addPaddingBR=function(){var div=_createElement$1("div"),child=_createElement$1("div"),childStyle=child.style,parent=_body$1,val;childStyle.display="inline-block";childStyle.position="relative";div.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden";div.appendChild(child);parent.appendChild(div);val=child.offsetHeight+18>div.scrollHeight;parent.removeChild(div);return val;}();_touchEventLookup=function(types){var standard=types.split(","),converted=("onpointerdown"in _tempDiv$1?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in _tempDiv$1?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":types).split(","),obj={},i=4;while(--i>-1){obj[standard[i]]=converted[i];obj[converted[i]]=standard[i];} try{_docElement$2.addEventListener("test",null,Object.defineProperty({},"passive",{get:function get(){_supportsPassive=1;}}));}catch(e){} return obj;}("touchstart,touchmove,touchend,touchcancel");_addListener(_doc$3,"touchcancel",_emptyFunc$1);_addListener(_win$3,"touchmove",_emptyFunc$1);_body$1&&_body$1.addEventListener("touchstart",_emptyFunc$1);_addListener(_doc$3,"contextmenu",function(){for(var p in _lookup){if(_lookup[p].isPressed){_lookup[p].endDrag();}}});gsap$2=_coreInitted$2=_getGSAP$1();} if(gsap$2){InertiaPlugin=gsap$2.plugins.inertia;_context$1=gsap$2.core.context||function(){};_checkPrefix=gsap$2.utils.checkPrefix;_transformProp$2=_checkPrefix(_transformProp$2);_transformOriginProp$2=_checkPrefix(_transformOriginProp$2);_toArray=gsap$2.utils.toArray;_supports3D$1=!!_checkPrefix("perspective");}else if(required){console.warn("Please gsap.registerPlugin(Draggable)");}};var EventDispatcher=function(){function EventDispatcher(target){this._listeners={};this.target=target||this;} var _proto=EventDispatcher.prototype;_proto.addEventListener=function addEventListener(type,callback){var list=this._listeners[type]||(this._listeners[type]=[]);if(!~list.indexOf(callback)){list.push(callback);}};_proto.removeEventListener=function removeEventListener(type,callback){var list=this._listeners[type],i=list&&list.indexOf(callback);i>=0&&list.splice(i,1);};_proto.dispatchEvent=function dispatchEvent(type){var _this=this;var result;(this._listeners[type]||[]).forEach(function(callback){return callback.call(_this,{type:type,target:_this.target})===false&&(result=false);});return result;};return EventDispatcher;}();var Draggable=function(_EventDispatcher){_inheritsLoose(Draggable,_EventDispatcher);function Draggable(target,vars){var _this2;_this2=_EventDispatcher.call(this)||this;_coreInitted$2||_initCore$2(1);target=_toArray(target)[0];if(!InertiaPlugin){InertiaPlugin=gsap$2.plugins.inertia;} _this2.vars=vars=_copy(vars||{});_this2.target=target;_this2.x=_this2.y=_this2.rotation=0;_this2.dragResistance=parseFloat(vars.dragResistance)||0;_this2.edgeResistance=isNaN(vars.edgeResistance)?1:parseFloat(vars.edgeResistance)||0;_this2.lockAxis=vars.lockAxis;_this2.autoScroll=vars.autoScroll||0;_this2.lockedAxis=null;_this2.allowEventDefault=!!vars.allowEventDefault;gsap$2.getProperty(target,"x");var type=(vars.type||"x,y").toLowerCase(),xyMode=~type.indexOf("x")||~type.indexOf("y"),rotationMode=type.indexOf("rotation")!==-1,xProp=rotationMode?"rotation":xyMode?"x":"left",yProp=xyMode?"y":"top",allowX=!!(~type.indexOf("x")||~type.indexOf("left")||type==="scroll"),allowY=!!(~type.indexOf("y")||~type.indexOf("top")||type==="scroll"),minimumMovement=vars.minimumMovement||2,self=_assertThisInitialized(_this2),triggers=_toArray(vars.trigger||vars.handle||target),killProps={},dragEndTime=0,checkAutoScrollBounds=false,autoScrollMarginTop=vars.autoScrollMarginTop||40,autoScrollMarginRight=vars.autoScrollMarginRight||40,autoScrollMarginBottom=vars.autoScrollMarginBottom||40,autoScrollMarginLeft=vars.autoScrollMarginLeft||40,isClickable=vars.clickableTest||_isClickable,clickTime=0,gsCache=target._gsap||gsap$2.core.getCache(target),isFixed=_isFixed$1(target),getPropAsNum=function getPropAsNum(property,unit){return parseFloat(gsCache.get(target,property,unit));},ownerDoc=target.ownerDocument||_doc$3,enabled,scrollProxy,startPointerX,startPointerY,startElementX,startElementY,hasBounds,hasDragCallback,hasMoveCallback,maxX,minX,maxY,minY,touch,touchID,rotationOrigin,dirty,old,snapX,snapY,snapXY,isClicking,touchEventTarget,matrix,interrupted,allowNativeTouchScrolling,touchDragAxis,isDispatching,clickDispatch,trustedClickDispatch,isPreventingDefault,innerMatrix,dragged,onContextMenu=function onContextMenu(e){_preventDefault(e);e.stopImmediatePropagation&&e.stopImmediatePropagation();return false;},render=function render(suppressEvents){if(self.autoScroll&&self.isDragging&&(checkAutoScrollBounds||dirty)){var e=target,autoScrollFactor=self.autoScroll*15,parent,isRoot,rect,pointerX,pointerY,changeX,changeY,gap;checkAutoScrollBounds=false;_windowProxy.scrollTop=_win$3.pageYOffset!=null?_win$3.pageYOffset:ownerDoc.documentElement.scrollTop!=null?ownerDoc.documentElement.scrollTop:ownerDoc.body.scrollTop;_windowProxy.scrollLeft=_win$3.pageXOffset!=null?_win$3.pageXOffset:ownerDoc.documentElement.scrollLeft!=null?ownerDoc.documentElement.scrollLeft:ownerDoc.body.scrollLeft;pointerX=self.pointerX-_windowProxy.scrollLeft;pointerY=self.pointerY-_windowProxy.scrollTop;while(e&&!isRoot){isRoot=_isRoot(e.parentNode);parent=isRoot?_windowProxy:e.parentNode;rect=isRoot?{bottom:Math.max(_docElement$2.clientHeight,_win$3.innerHeight||0),right:Math.max(_docElement$2.clientWidth,_win$3.innerWidth||0),left:0,top:0}:parent.getBoundingClientRect();changeX=changeY=0;if(allowY){gap=parent._gsMaxScrollY-parent.scrollTop;if(gap<0){changeY=gap;}else if(pointerY>rect.bottom-autoScrollMarginBottom&&gap){checkAutoScrollBounds=true;changeY=Math.min(gap,autoScrollFactor*(1-Math.max(0,rect.bottom-pointerY)/autoScrollMarginBottom)|0);}else if(pointerYrect.right-autoScrollMarginRight&&gap){checkAutoScrollBounds=true;changeX=Math.min(gap,autoScrollFactor*(1-Math.max(0,rect.right-pointerX)/autoScrollMarginRight)|0);}else if(pointerXmax?max+(n-max)*edgeTolerance:n-1){val=snap[i];dif=val-n;if(dif<0){dif=-dif;} if(dif=min&&val<=max){closest=i;absDif=dif;}} return snap[closest];};} return isNaN(snap)?function(n){return n;}:function(){return snap*factor;};},buildPointSnapFunc=function buildPointSnapFunc(snap,minX,maxX,minY,maxY,radius,factor){radius=radius&&radius<_bigNum$3?radius*radius:_bigNum$3;if(_isFunction$1(snap)){return function(point){var edgeTolerance=!self.isPressed?1:1-self.edgeResistance,x=point.x,y=point.y,result,dx,dy;point.x=x=x>maxX?maxX+(x-maxX)*edgeTolerance:xmaxY?maxY+(y-maxY)*edgeTolerance:yradius){point.x=x;point.y=y;}} return point;};} if(_isArray$1(snap)){return function(p){var i=snap.length,closest=0,minDist=_bigNum$3,x,y,point,dist;while(--i>-1){point=snap[i];x=point.x-p.x;y=point.y-p.y;dist=x*x+y*y;if(distmaxX){self.minX=maxX;self.maxX=maxX=minX;minX=self.minX;} if(minY>maxY){self.minY=maxY;self.maxY=maxY=minY;minY=self.minY;} if(rotationMode){self.minRotation=minX;self.maxRotation=maxX;} hasBounds=true;} if(vars.liveSnap){snap=vars.liveSnap===true?vars.snap||{}:vars.liveSnap;snapIsRaw=_isArray$1(snap)||_isFunction$1(snap);if(rotationMode){snapX=buildSnapFunc(snapIsRaw?snap:snap.rotation,minX,maxX,1);snapY=null;}else{if(snap.points){snapXY=buildPointSnapFunc(snapIsRaw?snap:snap.points,minX,maxX,minY,maxY,snap.radius,scrollProxy?-1:1);}else{if(allowX){snapX=buildSnapFunc(snapIsRaw?snap:snap.x||snap.left||snap.scrollLeft,minX,maxX,scrollProxy?-1:1);} if(allowY){snapY=buildSnapFunc(snapIsRaw?snap:snap.y||snap.top||snap.scrollTop,minY,maxY,scrollProxy?-1:1);}}}}},onThrowComplete=function onThrowComplete(){self.isThrowing=false;_dispatchEvent(self,"throwcomplete","onThrowComplete");},onThrowInterrupt=function onThrowInterrupt(){self.isThrowing=false;},animate=function animate(inertia,forceZeroVelocity){var snap,snapIsRaw,tween,overshootTolerance;if(inertia&&InertiaPlugin){if(inertia===true){snap=vars.snap||vars.liveSnap||{};snapIsRaw=_isArray$1(snap)||_isFunction$1(snap);inertia={resistance:(vars.throwResistance||vars.resistance||1000)/(rotationMode?10:1)};if(rotationMode){inertia.rotation=_parseInertia(self,snapIsRaw?snap:snap.rotation,maxX,minX,1,forceZeroVelocity);}else{if(allowX){inertia[xProp]=_parseInertia(self,snapIsRaw?snap:snap.points||snap.x||snap.left,maxX,minX,scrollProxy?-1:1,forceZeroVelocity||self.lockedAxis==="x");} if(allowY){inertia[yProp]=_parseInertia(self,snapIsRaw?snap:snap.points||snap.y||snap.top,maxY,minY,scrollProxy?-1:1,forceZeroVelocity||self.lockedAxis==="y");} if(snap.points||_isArray$1(snap)&&_isObject$1(snap[0])){inertia.linkedProps=xProp+","+yProp;inertia.radius=snap.radius;}}} self.isThrowing=true;overshootTolerance=!isNaN(vars.overshootTolerance)?vars.overshootTolerance:vars.edgeResistance===1?0:1-self.edgeResistance+0.2;if(!inertia.duration){inertia.duration={max:Math.max(vars.minDuration||0,"maxDuration"in vars?vars.maxDuration:2),min:!isNaN(vars.minDuration)?vars.minDuration:overshootTolerance===0||_isObject$1(inertia)&&inertia.resistance>1000?0:0.5,overshoot:overshootTolerance};} self.tween=tween=gsap$2.to(scrollProxy||target,{inertia:inertia,data:"_draggable",onComplete:onThrowComplete,onInterrupt:onThrowInterrupt,onUpdate:vars.fastMode?_dispatchEvent:syncXY,onUpdateParams:vars.fastMode?[self,"onthrowupdate","onThrowUpdate"]:snap&&snap.radius?[false,true]:[]});if(!vars.fastMode){if(scrollProxy){scrollProxy._skip=true;} tween.render(1e9,true,true);syncXY(true,true);self.endX=self.x;self.endY=self.y;if(rotationMode){self.endRotation=self.x;} tween.play(0);syncXY(true,true);if(scrollProxy){scrollProxy._skip=false;}}}else if(hasBounds){self.applyBounds();}},updateMatrix=function updateMatrix(shiftStart){var start=matrix,p;matrix=getGlobalMatrix(target.parentNode,true);if(shiftStart&&self.isPressed&&!matrix.equals(start||new Matrix2D())){p=start.inverse().apply({x:startPointerX,y:startPointerY});matrix.apply(p,p);startPointerX=p.x;startPointerY=p.y;} if(matrix.equals(_identityMatrix$1)){matrix=null;}},recordStartPositions=function recordStartPositions(){var edgeTolerance=1-self.edgeResistance,offsetX=isFixed?_getDocScrollLeft$1(ownerDoc):0,offsetY=isFixed?_getDocScrollTop$1(ownerDoc):0,parsedOrigin,x,y;if(xyMode){gsCache.x=getPropAsNum(xProp,"px")+"px";gsCache.y=getPropAsNum(yProp,"px")+"px";gsCache.renderTransform();} updateMatrix(false);_point1.x=self.pointerX-offsetX;_point1.y=self.pointerY-offsetY;matrix&&matrix.apply(_point1,_point1);startPointerX=_point1.x;startPointerY=_point1.y;if(dirty){setPointerPosition(self.pointerX,self.pointerY);render(true);} innerMatrix=getGlobalMatrix(target);if(scrollProxy){calculateBounds();startElementY=scrollProxy.top();startElementX=scrollProxy.left();}else{if(isTweening()){syncXY(true,true);calculateBounds();}else{self.applyBounds();} if(rotationMode){parsedOrigin=target.ownerSVGElement?[gsCache.xOrigin-target.getBBox().x,gsCache.yOrigin-target.getBBox().y]:(_getComputedStyle(target)[_transformOriginProp$2]||"0 0").split(" ");rotationOrigin=self.rotationOrigin=getGlobalMatrix(target).apply({x:parseFloat(parsedOrigin[0])||0,y:parseFloat(parsedOrigin[1])||0});syncXY(true,true);x=self.pointerX-rotationOrigin.x-offsetX;y=rotationOrigin.y-self.pointerY+offsetY;startElementX=self.x;startElementY=self.y=Math.atan2(y,x)*_RAD2DEG$2;}else{startElementY=getPropAsNum(yProp,"px");startElementX=getPropAsNum(xProp,"px");}} if(hasBounds&&edgeTolerance){if(startElementX>maxX){startElementX=maxX+(startElementX-maxX)/edgeTolerance;}else if(startElementXmaxY){startElementY=maxY+(startElementY-maxY)/edgeTolerance;}else if(startElementY2)?false:allowX?"y":"x";isPreventingDefault=!allowNativeTouchScrolling&&!self.allowEventDefault;if(isPreventingDefault){_preventDefault(e);_addListener(_win$3,"touchforcechange",_preventDefault);} if(e.changedTouches){e=touch=e.changedTouches[0];touchID=e.identifier;}else if(e.pointerId){touchID=e.pointerId;}else{touch=touchID=null;} _dragCount$1++;_addToRenderQueue(render);startPointerY=self.pointerY=e.pageY;startPointerX=self.pointerX=e.pageX;_dispatchEvent(self,"pressInit","onPressInit");if(allowNativeTouchScrolling||self.autoScroll){_recordMaxScrolls(target.parentNode);} if(target.parentNode&&self.autoScroll&&!scrollProxy&&!rotationMode&&target.parentNode._gsMaxScrollX&&!_placeholderDiv.parentNode&&!target.getBBox){_placeholderDiv.style.width=target.parentNode.scrollWidth+"px";target.parentNode.appendChild(_placeholderDiv);} recordStartPositions();self.tween&&self.tween.kill();self.isThrowing=false;gsap$2.killTweensOf(scrollProxy||target,killProps,true);scrollProxy&&gsap$2.killTweensOf(target,{scrollTo:1},true);self.tween=self.lockedAxis=null;if(vars.zIndexBoost||!rotationMode&&!scrollProxy&&vars.zIndexBoost!==false){target.style.zIndex=Draggable.zIndex++;} self.isPressed=true;hasDragCallback=!!(vars.onDrag||self._listeners.drag);hasMoveCallback=!!(vars.onMove||self._listeners.move);if(vars.cursor!==false||vars.activeCursor){i=triggers.length;while(--i>-1){gsap$2.set(triggers[i],{cursor:vars.activeCursor||vars.cursor||(_defaultCursor==="grab"?"grabbing":_defaultCursor)});}} _dispatchEvent(self,"press","onPress");},onMove=function onMove(e){var originalEvent=e,touches,pointerX,pointerY,i,dx,dy;if(!enabled||_isMultiTouching||!self.isPressed||!e){isPreventingDefault&&e&&enabled&&_preventDefault(e);return;} self.pointerEvent=e;touches=e.changedTouches;if(touches){e=touches[0];if(e!==touch&&e.identifier!==touchID){i=touches.length;while(--i>-1&&(e=touches[i]).identifier!==touchID&&e.target!==target){} if(i<0){return;}}}else if(e.pointerId&&touchID&&e.pointerId!==touchID){return;} if(touchEventTarget&&allowNativeTouchScrolling&&!touchDragAxis){_point1.x=e.pageX-(isFixed?_getDocScrollLeft$1(ownerDoc):0);_point1.y=e.pageY-(isFixed?_getDocScrollTop$1(ownerDoc):0);matrix&&matrix.apply(_point1,_point1);pointerX=_point1.x;pointerY=_point1.y;dx=Math.abs(pointerX-startPointerX);dy=Math.abs(pointerY-startPointerY);if(dx!==dy&&(dx>minimumMovement||dy>minimumMovement)||_isAndroid&&allowNativeTouchScrolling===touchDragAxis){touchDragAxis=dx>dy&&allowX?"x":"y";if(allowNativeTouchScrolling&&touchDragAxis!==allowNativeTouchScrolling){_addListener(_win$3,"touchforcechange",_preventDefault);} if(self.vars.lockAxisOnTouchScroll!==false&&allowX&&allowY){self.lockedAxis=touchDragAxis==="x"?"y":"x";_isFunction$1(self.vars.onLockAxis)&&self.vars.onLockAxis.call(self,originalEvent);} if(_isAndroid&&allowNativeTouchScrolling===touchDragAxis){onRelease(originalEvent);return;}}} if(!self.allowEventDefault&&(!allowNativeTouchScrolling||touchDragAxis&&allowNativeTouchScrolling!==touchDragAxis)&&originalEvent.cancelable!==false){_preventDefault(originalEvent);isPreventingDefault=true;}else if(isPreventingDefault){isPreventingDefault=false;} if(self.autoScroll){checkAutoScrollBounds=true;} setPointerPosition(e.pageX,e.pageY,hasMoveCallback);},setPointerPosition=function setPointerPosition(pointerX,pointerY,invokeOnMove){var dragTolerance=1-self.dragResistance,edgeTolerance=1-self.edgeResistance,prevPointerX=self.pointerX,prevPointerY=self.pointerY,prevStartElementY=startElementY,prevX=self.x,prevY=self.y,prevEndX=self.endX,prevEndY=self.endY,prevEndRotation=self.endRotation,prevDirty=dirty,xChange,yChange,x,y,dif,temp;self.pointerX=pointerX;self.pointerY=pointerY;if(isFixed){pointerX-=_getDocScrollLeft$1(ownerDoc);pointerY-=_getDocScrollTop$1(ownerDoc);} if(rotationMode){y=Math.atan2(rotationOrigin.y-pointerY,pointerX-rotationOrigin.x)*_RAD2DEG$2;dif=self.y-y;if(dif>180){startElementY-=360;self.y=y;}else if(dif<-180){startElementY+=360;self.y=y;} if(self.x!==startElementX||Math.abs(startElementY-y)>minimumMovement){self.y=y;x=startElementX+(startElementY-y)*dragTolerance;}else{x=startElementX;}}else{if(matrix){temp=pointerX*matrix.a+pointerY*matrix.c+matrix.e;pointerY=pointerX*matrix.b+pointerY*matrix.d+matrix.f;pointerX=temp;} yChange=pointerY-startPointerY;xChange=pointerX-startPointerX;if(yChange-minimumMovement){yChange=0;} if(xChange-minimumMovement){xChange=0;} if((self.lockAxis||self.lockedAxis)&&(xChange||yChange)){temp=self.lockedAxis;if(!temp){self.lockedAxis=temp=allowX&&Math.abs(xChange)>Math.abs(yChange)?"y":allowY?"x":null;if(temp&&_isFunction$1(self.vars.onLockAxis)){self.vars.onLockAxis.call(self,self.pointerEvent);}} if(temp==="y"){yChange=0;}else if(temp==="x"){xChange=0;}} x=_round$3(startElementX+xChange*dragTolerance);y=_round$3(startElementY+yChange*dragTolerance);} if((snapX||snapY||snapXY)&&(self.x!==x||self.y!==y&&!rotationMode)){if(snapXY){_temp1.x=x;_temp1.y=y;temp=snapXY(_temp1);x=_round$3(temp.x);y=_round$3(temp.y);} if(snapX){x=_round$3(snapX(x));} if(snapY){y=_round$3(snapY(y));}} if(hasBounds){if(x>maxX){x=maxX+Math.round((x-maxX)*edgeTolerance);}else if(xmaxY){y=Math.round(maxY+(y-maxY)*edgeTolerance);}else if(y2),placeholderDelayedCall=gsap$2.delayedCall(0.001,removePlaceholder),touches,i,syntheticEvent,eventTarget,syntheticClick;if(touchEventTarget){_removeListener(touchEventTarget,"touchend",onRelease);_removeListener(touchEventTarget,"touchmove",onMove);_removeListener(touchEventTarget,"touchcancel",onRelease);_removeListener(ownerDoc,"touchstart",_onMultiTouchDocument);}else{_removeListener(ownerDoc,"mousemove",onMove);} _removeListener(_win$3,"touchforcechange",_preventDefault);if(!_supportsPointer||!touchEventTarget){_removeListener(ownerDoc,"mouseup",onRelease);e&&e.target&&_removeListener(e.target,"mouseup",onRelease);} dirty=false;if(wasDragging){dragEndTime=_lastDragTime=_getTime();self.isDragging=false;} _removeFromRenderQueue(render);if(isClicking&&!isContextMenuRelease){if(e){_removeListener(e.target,"change",onRelease);self.pointerEvent=originalEvent;} _setSelectable(triggers,false);_dispatchEvent(self,"release","onRelease");_dispatchEvent(self,"click","onClick");isClicking=false;return;} i=triggers.length;while(--i>-1){_setStyle(triggers[i],"cursor",vars.cursor||(vars.cursor!==false?_defaultCursor:null));} _dragCount$1--;if(e){touches=e.changedTouches;if(touches){e=touches[0];if(e!==touch&&e.identifier!==touchID){i=touches.length;while(--i>-1&&(e=touches[i]).identifier!==touchID&&e.target!==target){} if(i<0&&!force){return;}}} self.pointerEvent=originalEvent;self.pointerX=e.pageX;self.pointerY=e.pageY;} if(isContextMenuRelease&&originalEvent){_preventDefault(originalEvent);isPreventingDefault=true;_dispatchEvent(self,"release","onRelease");}else if(originalEvent&&!wasDragging){isPreventingDefault=false;if(interrupted&&(vars.snap||vars.bounds)){animate(vars.inertia||vars.throwProps);} _dispatchEvent(self,"release","onRelease");if((!_isAndroid||originalEvent.type!=="touchmove")&&originalEvent.type.indexOf("cancel")===-1){_dispatchEvent(self,"click","onClick");if(_getTime()-clickTime<300){_dispatchEvent(self,"doubleclick","onDoubleClick");} eventTarget=originalEvent.target||target;clickTime=_getTime();syntheticClick=function syntheticClick(){if(clickTime!==clickDispatch&&self.enabled()&&!self.isPressed&&!originalEvent.defaultPrevented){if(eventTarget.click){eventTarget.click();}else if(ownerDoc.createEvent){syntheticEvent=ownerDoc.createEvent("MouseEvents");syntheticEvent.initMouseEvent("click",true,true,_win$3,1,self.pointerEvent.screenX,self.pointerEvent.screenY,self.pointerX,self.pointerY,false,false,false,false,0,null);eventTarget.dispatchEvent(syntheticEvent);}}};if(!_isAndroid&&!originalEvent.defaultPrevented){gsap$2.delayedCall(0.05,syntheticClick);}}}else{animate(vars.inertia||vars.throwProps);if(!self.allowEventDefault&&originalEvent&&(vars.dragClickables!==false||!isClickable.call(self,originalEvent.target))&&wasDragging&&(!allowNativeTouchScrolling||touchDragAxis&&allowNativeTouchScrolling===touchDragAxis)&&originalEvent.cancelable!==false){isPreventingDefault=true;_preventDefault(originalEvent);}else{isPreventingDefault=false;} _dispatchEvent(self,"release","onRelease");} isTweening()&&placeholderDelayedCall.duration(self.tween.duration());wasDragging&&_dispatchEvent(self,"dragend","onDragEnd");return true;},updateScroll=function updateScroll(e){if(e&&self.isDragging&&!scrollProxy){var parent=e.target||target.parentNode,deltaX=parent.scrollLeft-parent._gsScrollX,deltaY=parent.scrollTop-parent._gsScrollY;if(deltaX||deltaY){if(matrix){startPointerX-=deltaX*matrix.a+deltaY*matrix.c;startPointerY-=deltaY*matrix.d+deltaX*matrix.b;}else{startPointerX-=deltaX;startPointerY-=deltaY;} parent._gsScrollX+=deltaX;parent._gsScrollY+=deltaY;setPointerPosition(self.pointerX,self.pointerY);}}},onClick=function onClick(e){var time=_getTime(),recentlyClicked=time-clickTime<100,recentlyDragged=time-dragEndTime<50,alreadyDispatched=recentlyClicked&&clickDispatch===clickTime,defaultPrevented=self.pointerEvent&&self.pointerEvent.defaultPrevented,alreadyDispatchedTrusted=recentlyClicked&&trustedClickDispatch===clickTime,trusted=e.isTrusted||e.isTrusted==null&&recentlyClicked&&alreadyDispatched;if((alreadyDispatched||recentlyDragged&&self.vars.suppressClickOnDrag!==false)&&e.stopImmediatePropagation){e.stopImmediatePropagation();} if(recentlyClicked&&!(self.pointerEvent&&self.pointerEvent.defaultPrevented)&&(!alreadyDispatched||trusted&&!alreadyDispatchedTrusted)){if(trusted&&alreadyDispatched){trustedClickDispatch=clickTime;} clickDispatch=clickTime;return;} if(self.isPressed||recentlyDragged||recentlyClicked){if(!trusted||!e.detail||!recentlyClicked||defaultPrevented){_preventDefault(e);}} if(!recentlyClicked&&!recentlyDragged&&!dragged){e&&e.target&&(self.pointerEvent=e);_dispatchEvent(self,"click","onClick");}},localizePoint=function localizePoint(p){return matrix?{x:p.x*matrix.a+p.y*matrix.c+matrix.e,y:p.x*matrix.b+p.y*matrix.d+matrix.f}:{x:p.x,y:p.y};};old=Draggable.get(target);old&&old.kill();_this2.startDrag=function(event,align){var r1,r2,p1,p2;onPress(event||self.pointerEvent,true);if(align&&!self.hitTest(event||self.pointerEvent)){r1=_parseRect(event||self.pointerEvent);r2=_parseRect(target);p1=localizePoint({x:r1.left+r1.width/2,y:r1.top+r1.height/2});p2=localizePoint({x:r2.left+r2.width/2,y:r2.top+r2.height/2});startPointerX-=p1.x-p2.x;startPointerY-=p1.y-p2.y;} if(!self.isDragging){self.isDragging=dragged=true;_dispatchEvent(self,"dragstart","onDragStart");}};_this2.drag=onMove;_this2.endDrag=function(e){return onRelease(e||self.pointerEvent,true);};_this2.timeSinceDrag=function(){return self.isDragging?0:(_getTime()-dragEndTime)/1000;};_this2.timeSinceClick=function(){return(_getTime()-clickTime)/1000;};_this2.hitTest=function(target,threshold){return Draggable.hitTest(self.target,target,threshold);};_this2.getDirection=function(from,diagonalThreshold){var mode=from==="velocity"&&InertiaPlugin?from:_isObject$1(from)&&!rotationMode?"element":"start",xChange,yChange,ratio,direction,r1,r2;if(mode==="element"){r1=_parseRect(self.target);r2=_parseRect(from);} xChange=mode==="start"?self.x-startElementX:mode==="velocity"?InertiaPlugin.getVelocity(target,xProp):r1.left+r1.width/2-(r2.left+r2.width/2);if(rotationMode){return xChange<0?"counter-clockwise":"clockwise";}else{diagonalThreshold=diagonalThreshold||2;yChange=mode==="start"?self.y-startElementY:mode==="velocity"?InertiaPlugin.getVelocity(target,yProp):r1.top+r1.height/2-(r2.top+r2.height/2);ratio=Math.abs(xChange/yChange);direction=ratio<1/diagonalThreshold?"":xChange<0?"left":"right";if(ratiomaxX){x=maxX;}else if(xmaxY){y=maxY;}else if(yparent._gsMaxScrollY){parent.scrollTop=parent._gsMaxScrollY;} if(allowX&&parent.scrollLeft>parent._gsMaxScrollX){parent.scrollLeft=parent._gsMaxScrollX;} e=parent;}}} if(self.isThrowing&&(forceZeroVelocity||self.endX>maxX||self.endXmaxY||self.endY0.01||allowY&&Math.abs(y-self.y)>0.01&&!rotationMode)){recordStartPositions();} if(self.autoScroll){_recordMaxScrolls(target.parentNode,self.isDragging);checkAutoScrollBounds=self.isDragging;render(true);_removeScrollListener(target,updateScroll);_addScrollListener(target,updateScroll);} return self;};_this2.enable=function(type){var setVars={lazy:true},id,i,trigger;if(vars.cursor!==false){setVars.cursor=vars.cursor||_defaultCursor;} if(gsap$2.utils.checkPrefix("touchCallout")){setVars.touchCallout="none";} if(type!=="soft"){_setTouchActionForAllDescendants(triggers,allowX===allowY?"none":vars.allowNativeTouchScrolling&&target.scrollHeight===target.clientHeight===(target.scrollWidth===target.clientHeight)||vars.allowEventDefault?"manipulation":allowX?"pan-y":"pan-x");i=triggers.length;while(--i>-1){trigger=triggers[i];_supportsPointer||_addListener(trigger,"mousedown",onPress);_addListener(trigger,"touchstart",onPress);_addListener(trigger,"click",onClick,true);gsap$2.set(trigger,setVars);if(trigger.getBBox&&trigger.ownerSVGElement&&allowX!==allowY){gsap$2.set(trigger.ownerSVGElement,{touchAction:vars.allowNativeTouchScrolling||vars.allowEventDefault?"manipulation":allowX?"pan-y":"pan-x"});} vars.allowContextMenu||_addListener(trigger,"contextmenu",onContextMenu);} _setSelectable(triggers,false);} _addScrollListener(target,updateScroll);enabled=true;if(InertiaPlugin&&type!=="soft"){InertiaPlugin.track(scrollProxy||target,xyMode?"x,y":rotationMode?"rotation":"top,left");} target._gsDragID=id="d"+_lookupCount++;_lookup[id]=self;if(scrollProxy){scrollProxy.enable();scrollProxy.element._gsDragID=id;} (vars.bounds||rotationMode)&&recordStartPositions();vars.bounds&&self.applyBounds();return self;};_this2.disable=function(type){var dragging=self.isDragging,i=triggers.length,trigger;while(--i>-1){_setStyle(triggers[i],"cursor",null);} if(type!=="soft"){_setTouchActionForAllDescendants(triggers,null);i=triggers.length;while(--i>-1){trigger=triggers[i];_setStyle(trigger,"touchCallout",null);_removeListener(trigger,"mousedown",onPress);_removeListener(trigger,"touchstart",onPress);_removeListener(trigger,"click",onClick,true);_removeListener(trigger,"contextmenu",onContextMenu);} _setSelectable(triggers,true);if(touchEventTarget){_removeListener(touchEventTarget,"touchcancel",onRelease);_removeListener(touchEventTarget,"touchend",onRelease);_removeListener(touchEventTarget,"touchmove",onMove);} _removeListener(ownerDoc,"mouseup",onRelease);_removeListener(ownerDoc,"mousemove",onMove);} _removeScrollListener(target,updateScroll);enabled=false;InertiaPlugin&&type!=="soft"&&InertiaPlugin.untrack(scrollProxy||target,xyMode?"x,y":rotationMode?"rotation":"top,left");scrollProxy&&scrollProxy.disable();_removeFromRenderQueue(render);self.isDragging=self.isPressed=isClicking=false;dragging&&_dispatchEvent(self,"dragend","onDragEnd");return self;};_this2.enabled=function(value,type){return arguments.length?value?self.enable(type):self.disable(type):enabled;};_this2.kill=_this2.revert=function(){self.isThrowing=false;self.tween&&self.tween.kill();self.disable();gsap$2.set(triggers,{clearProps:"userSelect"});delete _lookup[target._gsDragID];return self;};if(~type.indexOf("scroll")){scrollProxy=_this2.scrollProxy=new ScrollProxy(target,_extend({onKill:function onKill(){self.isPressed&&onRelease(null);}},vars));target.style.overflowY=allowY&&!_isTouchDevice?"auto":"hidden";target.style.overflowX=allowX&&!_isTouchDevice?"auto":"hidden";target=scrollProxy.content;} if(rotationMode){killProps.rotation=1;}else{if(allowX){killProps[xProp]=1;} if(allowY){killProps[yProp]=1;}} gsCache.force3D="force3D"in vars?vars.force3D:true;_context$1(_assertThisInitialized(_this2));_this2.enable();return _this2;} Draggable.register=function register(core){gsap$2=core;_initCore$2();};Draggable.create=function create(targets,vars){_coreInitted$2||_initCore$2(true);return _toArray(targets).map(function(target){return new Draggable(target,vars);});};Draggable.get=function get(target){return _lookup[(_toArray(target)[0]||{})._gsDragID];};Draggable.timeSinceDrag=function timeSinceDrag(){return(_getTime()-_lastDragTime)/1000;};Draggable.hitTest=function hitTest(obj1,obj2,threshold){if(obj1===obj2){return false;} var r1=_parseRect(obj1),r2=_parseRect(obj2),top=r1.top,left=r1.left,right=r1.right,bottom=r1.bottom,width=r1.width,height=r1.height,isOutside=r2.left>right||r2.rightbottom||r2.bottom=width*height*threshold||area>=r2.width*r2.height*threshold;} return overlap.width>threshold&&overlap.height>threshold;};return Draggable;}(EventDispatcher);_setDefaults$1(Draggable.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:false,isPressed:false});Draggable.zIndex=1000;Draggable.version="3.11.4";_getGSAP$1()&&gsap$2.registerPlugin(Draggable);/*! * CSSRulePlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$3,_coreInitted$3,_doc$4,CSSPlugin$1,_windowExists$3=function _windowExists(){return typeof window!=="undefined";},_getGSAP$2=function _getGSAP(){return gsap$3||_windowExists$3()&&(gsap$3=window.gsap)&&gsap$3.registerPlugin&&gsap$3;},_checkRegister=function _checkRegister(){if(!_coreInitted$3){_initCore$3();if(!CSSPlugin$1){console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)");}} return _coreInitted$3;},_initCore$3=function _initCore(core){gsap$3=core||_getGSAP$2();if(_windowExists$3()){_doc$4=document;} if(gsap$3){CSSPlugin$1=gsap$3.plugins.css;if(CSSPlugin$1){_coreInitted$3=1;}}};var CSSRulePlugin={version:"3.11.4",name:"cssRule",init:function init(target,value,tween,index,targets){if(!_checkRegister()||typeof target.cssText==="undefined"){return false;} var div=target._gsProxy=target._gsProxy||_doc$4.createElement("div");this.ss=target;this.style=div.style;div.style.cssText=target.cssText;CSSPlugin$1.prototype.init.call(this,div,value,tween,index,targets);},render:function render(ratio,data){var pt=data._pt,style=data.style,ss=data.ss,i;while(pt){pt.r(ratio,pt.d);pt=pt._next;} i=style.length;while(--i>-1){ss[style[i]]=style[style[i]];}},getRule:function getRule(selector){_checkRegister();var ruleProp=_doc$4.all?"rules":"cssRules",styleSheets=_doc$4.styleSheets,i=styleSheets.length,pseudo=selector.charAt(0)===":",j,curSS,cs,a;selector=(pseudo?"":",")+selector.split("::").join(":").toLowerCase()+",";if(pseudo){a=[];} while(i--){try{curSS=styleSheets[i][ruleProp];if(!curSS){continue;} j=curSS.length;}catch(e){console.warn(e);continue;} while(--j>-1){cs=curSS[j];if(cs.selectorText&&(","+cs.selectorText.split("::").join(":").toLowerCase()+",").indexOf(selector)!==-1){if(pseudo){a.push(cs.style);}else{return cs.style;}}}} return a;},register:_initCore$3};_getGSAP$2()&&gsap$3.registerPlugin(CSSRulePlugin);/*! * EaselPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$4,_coreInitted$4,_win$4,_createJS,_ColorFilter,_ColorMatrixFilter,_colorProps="redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier,redOffset,greenOffset,blueOffset,alphaOffset".split(","),_windowExists$4=function _windowExists(){return typeof window!=="undefined";},_getGSAP$3=function _getGSAP(){return gsap$4||_windowExists$4()&&(gsap$4=window.gsap)&&gsap$4.registerPlugin&&gsap$4;},_getCreateJS=function _getCreateJS(){return _createJS||_win$4&&_win$4.createjs||_win$4||{};},_warn$1=function _warn(message){return console.warn(message);},_cache=function _cache(target){var b=target.getBounds&&target.getBounds();if(!b){b=target.nominalBounds||{x:0,y:0,width:100,height:100};target.setBounds&&target.setBounds(b.x,b.y,b.width,b.height);} target.cache&&target.cache(b.x,b.y,b.width,b.height);_warn$1("EaselPlugin: for filters to display in EaselJS, you must call the object's cache() method first. GSAP attempted to use the target's getBounds() for the cache but that may not be completely accurate. "+target);},_parseColorFilter=function _parseColorFilter(target,v,plugin){if(!_ColorFilter){_ColorFilter=_getCreateJS().ColorFilter;if(!_ColorFilter){_warn$1("EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.");}} var filters=target.filters||[],i=filters.length,c,s,e,a,p,pt;while(i--){if(filters[i]instanceof _ColorFilter){s=filters[i];break;}} if(!s){s=new _ColorFilter();filters.push(s);target.filters=filters;} e=s.clone();if(v.tint!=null){c=gsap$4.utils.splitColor(v.tint);a=v.tintAmount!=null?+v.tintAmount:1;e.redOffset=+c[0]*a;e.greenOffset=+c[1]*a;e.blueOffset=+c[2]*a;e.redMultiplier=e.greenMultiplier=e.blueMultiplier=1-a;}else{for(p in v){if(p!=="exposure")if(p!=="brightness"){e[p]=+v[p];}}} if(v.exposure!=null){e.redOffset=e.greenOffset=e.blueOffset=255*(+v.exposure-1);e.redMultiplier=e.greenMultiplier=e.blueMultiplier=1;}else if(v.brightness!=null){a=+v.brightness-1;e.redOffset=e.greenOffset=e.blueOffset=a>0?a*255:0;e.redMultiplier=e.greenMultiplier=e.blueMultiplier=1-Math.abs(a);} i=8;while(i--){p=_colorProps[i];if(s[p]!==e[p]){pt=plugin.add(s,p,s[p],e[p],0,0,0,0,0,1);if(pt){pt.op="easel_colorFilter";}}} plugin._props.push("easel_colorFilter");if(!target.cacheID){_cache(target);}},_idMatrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],_lumR=0.212671,_lumG=0.715160,_lumB=0.072169,_applyMatrix=function _applyMatrix(m,m2){if(!(m instanceof Array)||!(m2 instanceof Array)){return m2;} var temp=[],i=0,z=0,y,x;for(y=0;y<4;y++){for(x=0;x<5;x++){z=x===4?m[i+4]:0;temp[i+x]=m[i]*m2[x]+m[i+1]*m2[x+5]+m[i+2]*m2[x+10]+m[i+3]*m2[x+15]+z;} i+=5;} return temp;},_setSaturation=function _setSaturation(m,n){if(isNaN(n)){return m;} var inv=1-n,r=inv*_lumR,g=inv*_lumG,b=inv*_lumB;return _applyMatrix([r+n,g,b,0,0,r,g+n,b,0,0,r,g,b+n,0,0,0,0,0,1,0],m);},_colorize=function _colorize(m,color,amount){if(isNaN(amount)){amount=1;} var c=gsap$4.utils.splitColor(color),r=c[0]/255,g=c[1]/255,b=c[2]/255,inv=1-amount;return _applyMatrix([inv+amount*r*_lumR,amount*r*_lumG,amount*r*_lumB,0,0,amount*g*_lumR,inv+amount*g*_lumG,amount*g*_lumB,0,0,amount*b*_lumR,amount*b*_lumG,inv+amount*b*_lumB,0,0,0,0,0,1,0],m);},_setHue=function _setHue(m,n){if(isNaN(n)){return m;} n*=Math.PI/180;var c=Math.cos(n),s=Math.sin(n);return _applyMatrix([_lumR+c*(1-_lumR)+s*-_lumR,_lumG+c*-_lumG+s*-_lumG,_lumB+c*-_lumB+s*(1-_lumB),0,0,_lumR+c*-_lumR+s*0.143,_lumG+c*(1-_lumG)+s*0.14,_lumB+c*-_lumB+s*-0.283,0,0,_lumR+c*-_lumR+s*-(1-_lumR),_lumG+c*-_lumG+s*_lumG,_lumB+c*(1-_lumB)+s*_lumB,0,0,0,0,0,1,0,0,0,0,0,1],m);},_setContrast=function _setContrast(m,n){if(isNaN(n)){return m;} n+=0.01;return _applyMatrix([n,0,0,0,128*(1-n),0,n,0,0,128*(1-n),0,0,n,0,128*(1-n),0,0,0,1,0],m);},_parseColorMatrixFilter=function _parseColorMatrixFilter(target,v,plugin){if(!_ColorMatrixFilter){_ColorMatrixFilter=_getCreateJS().ColorMatrixFilter;if(!_ColorMatrixFilter){_warn$1("EaselPlugin: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.");}} var filters=target.filters||[],i=filters.length,matrix,startMatrix,s,pg;while(--i>-1){if(filters[i]instanceof _ColorMatrixFilter){s=filters[i];break;}} if(!s){s=new _ColorMatrixFilter(_idMatrix.slice());filters.push(s);target.filters=filters;} startMatrix=s.matrix;matrix=_idMatrix.slice();if(v.colorize!=null){matrix=_colorize(matrix,v.colorize,Number(v.colorizeAmount));} if(v.contrast!=null){matrix=_setContrast(matrix,Number(v.contrast));} if(v.hue!=null){matrix=_setHue(matrix,Number(v.hue));} if(v.saturation!=null){matrix=_setSaturation(matrix,Number(v.saturation));} i=matrix.length;while(--i>-1){if(matrix[i]!==startMatrix[i]){pg=plugin.add(startMatrix,i,startMatrix[i],matrix[i],0,0,0,0,0,1);if(pg){pg.op="easel_colorMatrixFilter";}}} plugin._props.push("easel_colorMatrixFilter");if(!target.cacheID){_cache();} plugin._matrix=startMatrix;},_initCore$4=function _initCore(core){gsap$4=core||_getGSAP$3();if(_windowExists$4()){_win$4=window;} if(gsap$4){_coreInitted$4=1;}};var EaselPlugin={version:"3.11.4",name:"easel",init:function init(target,value,tween,index,targets){if(!_coreInitted$4){_initCore$4();if(!gsap$4){_warn$1("Please gsap.registerPlugin(EaselPlugin)");}} this.target=target;var p,pt,tint,colorMatrix,end,labels,i;for(p in value){end=value[p];if(p==="colorFilter"||p==="tint"||p==="tintAmount"||p==="exposure"||p==="brightness"){if(!tint){_parseColorFilter(target,value.colorFilter||value,this);tint=true;}}else if(p==="saturation"||p==="contrast"||p==="hue"||p==="colorize"||p==="colorizeAmount"){if(!colorMatrix){_parseColorMatrixFilter(target,value.colorMatrixFilter||value,this);colorMatrix=true;}}else if(p==="frame"){if(typeof end==="string"&&end.charAt(1)!=="="&&(labels=target.labels)){for(i=0;ip3?calcEnd?p===1?0:1-(p=(p-p3)/p1)*p:r+(p-r)*(p=(p-p3)/p1)*p*p*p:calcEnd?1:r;};},_createExpoScale=function _createExpoScale(start,end,ease){var p1=Math.log(end/start),p2=end-start;ease&&(ease=gsap$5.parseEase(ease));return function(p){return(start*Math.exp(p1*(ease?ease(p):p))-start)/p2;};},EasePoint=function EasePoint(time,value,next){this.t=time;this.v=value;if(next){this.next=next;next.prev=this;this.c=next.v-value;this.gap=next.t-time;}},_createRoughEase=function _createRoughEase(vars){if(typeof vars!=="object"){vars={points:+vars||20};} var taper=vars.taper||"none",a=[],cnt=0,points=(+vars.points||20)|0,i=points,randomize=_boolean(vars.randomize,true),clamp=_boolean(vars.clamp),template=gsap$5?gsap$5.parseEase(vars.template):0,strength=(+vars.strength||1)*0.4,x,y,bump,invX,obj,pnt,recent;while(--i>-1){x=randomize?Math.random():1/points*i;y=template?template(x):x;if(taper==="none"){bump=strength;}else if(taper==="out"){invX=1-x;bump=invX*invX*strength;}else if(taper==="in"){bump=x*x*strength;}else if(x<0.5){invX=x*2;bump=invX*invX*0.5*strength;}else{invX=(1-x)*2;bump=invX*invX*0.5*strength;} if(randomize){y+=Math.random()*bump-bump*0.5;}else if(i%2){y+=bump*0.5;}else{y-=bump*0.5;} if(clamp){if(y>1){y=1;}else if(y<0){y=0;}} a[cnt++]={x:x,y:y};} a.sort(function(a,b){return a.x-b.x;});pnt=new EasePoint(1,1,null);i=points;while(i--){obj=a[i];pnt=new EasePoint(obj.x,obj.y,pnt);} recent=new EasePoint(0,0,pnt.t?pnt:pnt.next);return function(p){var pnt=recent;if(p>pnt.t){while(pnt.next&&p>=pnt.t){pnt=pnt.next;} pnt=pnt.prev;}else{while(pnt.prev&&p<=pnt.t){pnt=pnt.prev;}} recent=pnt;return pnt.v+(p-pnt.t)/pnt.gap*pnt.c;};};var SlowMo=_createSlowMo(0.7);SlowMo.ease=SlowMo;SlowMo.config=_createSlowMo;var ExpoScaleEase=_createExpoScale(1,2);ExpoScaleEase.config=_createExpoScale;var RoughEase=_createRoughEase();RoughEase.ease=RoughEase;RoughEase.config=_createRoughEase;var EasePack={SlowMo:SlowMo,RoughEase:RoughEase,ExpoScaleEase:ExpoScaleEase};for(var p in EasePack){EasePack[p].register=_initCore$5;EasePack[p].version="3.11.4";} _getGSAP$4()&&gsap$5.registerPlugin(SlowMo);/*! * Flip 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var _id=1,_toArray$1,gsap$6,_batch,_batchAction,_body$2,_closestTenth,_forEachBatch=function _forEachBatch(batch,name){return batch.actions.forEach(function(a){return a.vars[name]&&a.vars[name](a);});},_batchLookup={},_RAD2DEG$3=180/Math.PI,_DEG2RAD$2=Math.PI/180,_emptyObj={},_dashedNameLookup={},_memoizedRemoveProps={},_listToArray=function _listToArray(list){return typeof list==="string"?list.split(" ").join("").split(","):list;},_callbacks=_listToArray("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),_removeProps=_listToArray("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),_getEl=function _getEl(target){return _toArray$1(target)[0]||console.warn("Element not found:",target);},_round$4=function _round(value){return Math.round(value*10000)/10000||0;},_toggleClass=function _toggleClass(targets,className,action){return targets.forEach(function(el){return el.classList[action](className);});},_reserved={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},_fitReserved={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},_camelToDashed=function _camelToDashed(p){return p.replace(/([A-Z])/g,"-$1").toLowerCase();},_copy$1=function _copy(obj,exclude){var result={},p;for(p in obj){exclude[p]||(result[p]=obj[p]);} return result;},_memoizedProps={},_memoizeProps=function _memoizeProps(props){var p=_memoizedProps[props]=_listToArray(props);_memoizedRemoveProps[props]=p.concat(_removeProps);return p;},_getInverseGlobalMatrix=function _getInverseGlobalMatrix(el){var cache=el._gsap||gsap$6.core.getCache(el);if(cache.gmCache===gsap$6.ticker.frame){return cache.gMatrix;} cache.gmCache=gsap$6.ticker.frame;return cache.gMatrix=getGlobalMatrix(el,true,false,true);},_getDOMDepth=function _getDOMDepth(el,invert,level){if(level===void 0){level=0;} var parent=el.parentNode,inc=1000*Math.pow(10,level)*(invert?-1:1),l=invert?-inc*900:0;while(el){l+=inc;el=el.previousSibling;} return parent?l+_getDOMDepth(parent,invert,level+1):l;},_orderByDOMDepth=function _orderByDOMDepth(comps,invert,isElStates){comps.forEach(function(comp){return comp.d=_getDOMDepth(isElStates?comp.element:comp.t,invert);});comps.sort(function(c1,c2){return c1.d-c2.d;});return comps;},_recordInlineStyles=function _recordInlineStyles(elState,props){var style=elState.element.style,a=elState.css=elState.css||[],i=props.length,p,v;while(i--){p=props[i];v=style[p]||style.getPropertyValue(p);a.push(v?p:_dashedNameLookup[p]||(_dashedNameLookup[p]=_camelToDashed(p)),v);} return style;},_applyInlineStyles=function _applyInlineStyles(state){var css=state.css,style=state.element.style,i=0;state.cache.uncache=1;for(;i0&&fade){el.style.opacity=interrupted?a.opacity-b.opacity:"0";} _fit(a,b,scale,props);}else if(b.isVisible!==a.isVisible){if(!b.isVisible){a.isVisible&&entering.push(a);comps.splice(i--,1);}else if(!a.isVisible){b.css=a.css;leaving.push(b);comps.splice(i--,1);absolute&&nested&&_fit(a,b,scale,props);}} if(!scale){el.style.maxWidth=Math.max(a.width,b.width)+"px";el.style.maxHeight=Math.max(a.height,b.height)+"px";el.style.minWidth=Math.min(a.width,b.width)+"px";el.style.minHeight=Math.min(a.height,b.height)+"px";} nested&&toggleClass&&el.classList.add(toggleClass);} finalStates.push(a);} var classTargets;if(toggleClass){classTargets=finalStates.map(function(s){return s.element;});nested&&classTargets.forEach(function(e){return e.classList.remove(toggleClass);});} _lockBodyScroll(false);if(scale){tweenVars.scaleX=function(i){return comps[i].a.scaleX;};tweenVars.scaleY=function(i){return comps[i].a.scaleY;};}else{tweenVars.width=function(i){return comps[i].a.width+"px";};tweenVars.height=function(i){return comps[i].a.height+"px";};tweenVars.autoRound=vars.autoRound||false;} tweenVars.x=function(i){return comps[i].a.x+"px";};tweenVars.y=function(i){return comps[i].a.y+"px";};tweenVars.rotation=function(i){return comps[i].a.rotation+(spin?spinFunc(i,targets[i],targets)*360:0);};tweenVars.skewX=function(i){return comps[i].a.skewX;};targets=comps.map(function(c){return c.t;});if(_zIndex||_zIndex===0){tweenVars.modifiers={zIndex:function zIndex(){return _zIndex;}};tweenVars.zIndex=_zIndex;tweenVars.immediateRender=vars.immediateRender!==false;} fade&&(tweenVars.opacity=function(i){return comps[i].sd<0?0:comps[i].sd>0?comps[i].a.opacity:"+=0";});if(swapOutTargets.length){stagger=gsap$6.utils.distribute(stagger);var dummyArray=targets.slice(swapOutTargets.length);tweenVars.stagger=function(i,el){return stagger(~swapOutTargets.indexOf(el)?targets.indexOf(comps[i].swap.t):i,el,dummyArray);};} _callbacks.forEach(function(name){return vars[name]&&animation.eventCallback(name,vars[name],vars[name+"Params"]);});if(custom&&targets.length){remainingProps=_copy$1(tweenVars,_reserved);if("scale"in custom){custom.scaleX=custom.scaleY=custom.scale;delete custom.scale;} for(p in custom){v=_copy$1(custom[p],_fitReserved);v[p]=tweenVars[p];!("duration"in v)&&"duration"in tweenVars&&(v.duration=tweenVars.duration);v.stagger=tweenVars.stagger;addFunc.call(animation,targets,v,0);delete remainingProps[p];}} if(targets.length||leaving.length||entering.length){toggleClass&&animation.add(function(){return _toggleClass(classTargets,toggleClass,animation._zTime<0?"remove":"add");},0)&&!paused&&_toggleClass(classTargets,toggleClass,"add");targets.length&&addFunc.call(animation,targets,remainingProps,0);} _handleCallback(onEnter,entering,animation);_handleCallback(onLeave,leaving,animation);var batchTl=_batch&&_batch.timeline;if(batchTl){batchTl.add(animation,0);_batch._final.push(function(){return _setFinalStates(comps,!clearProps);});} endTime=animation.duration();animation.call(function(){var forward=animation.time()>=endTime;forward&&!batchTl&&_setFinalStates(comps,!clearProps);toggleClass&&_toggleClass(classTargets,toggleClass,forward?"remove":"add");});};absoluteOnLeave&&(absolute=comps.filter(function(comp){return!comp.sd&&!comp.a.isVisible&&comp.b.isVisible;}).map(function(comp){return comp.a.element;}));if(_batch){var _batch$_abs;absolute&&(_batch$_abs=_batch._abs).push.apply(_batch$_abs,_filterComps(comps,absolute));_batch._run.push(run);}else{absolute&&_makeCompsAbsolute(_filterComps(comps,absolute));run();} var anim=_batch?_batch.timeline:animation;anim.revert=function(){return _killFlip(anim,1);};return anim;},_interrupt$1=function _interrupt(tl){tl.vars.onInterrupt&&tl.vars.onInterrupt.apply(tl,tl.vars.onInterruptParams||[]);tl.getChildren(true,false,true).forEach(_interrupt);},_killFlip=function _killFlip(tl,action){if(tl&&tl.progress()<1&&!tl.paused()){if(action){_interrupt$1(tl);action<2&&tl.progress(1);tl.kill();} return true;}},_createLookup=function _createLookup(state){var lookup=state.idLookup={},alt=state.alt={},elStates=state.elementStates,i=elStates.length,elState;while(i--){elState=elStates[i];lookup[elState.id]?alt[elState.id]=elState:lookup[elState.id]=elState;}};var FlipState=function(){function FlipState(targets,vars,targetsAreElementStates){this.props=vars&&vars.props;this.simple=!!(vars&&vars.simple);if(targetsAreElementStates){this.targets=_elementsFromElementStates(targets);this.elementStates=targets;_createLookup(this);}else{this.targets=_toArray$1(targets);var soft=vars&&(vars.kill===false||vars.batch&&!vars.kill);_batch&&!soft&&_batch._kill.push(this);this.update(soft||!!_batch);}} var _proto=FlipState.prototype;_proto.update=function update(soft){var _this=this;this.elementStates=this.targets.map(function(el){return new ElementState(el,_this.props,_this.simple);});_createLookup(this);this.interrupt(soft);this.recordInlineStyles();return this;};_proto.clear=function clear(){this.targets.length=this.elementStates.length=0;_createLookup(this);return this;};_proto.fit=function fit(state,scale,nested){var elStatesInOrder=_orderByDOMDepth(this.elementStates.slice(0),false,true),toElStates=(state||this).idLookup,i=0,fromNode,toNode;for(;i=0&&this.actions.splice(i,1);return this;};_proto4.getState=function getState(merge){var _this3=this;var prevBatch=_batch,prevAction=_batchAction;_batch=this;this.state.clear();this._kill.length=0;this.actions.forEach(function(action){if(action.vars.getState){action.states.length=0;_batchAction=action;action.state=action.vars.getState(action);} merge&&action.states.forEach(function(s){return _this3.state.add(s);});});_batchAction=prevAction;_batch=prevBatch;this.killConflicts();return this;};_proto4.animate=function animate(){var _this4=this;var prevBatch=_batch,tl=this.timeline,i=this.actions.length,finalStates,endTime;_batch=this;tl.clear();this._abs.length=this._final.length=this._run.length=0;this.actions.forEach(function(a){a.vars.animate&&a.vars.animate(a);var onEnter=a.vars.onEnter,onLeave=a.vars.onLeave,targets=a.targets,s,result;if(targets&&targets.length&&(onEnter||onLeave)){s=new FlipState();a.states.forEach(function(state){return s.add(state);});result=s.compare(Flip.getState(targets));result.enter.length&&onEnter&&onEnter(result.enter);result.leave.length&&onLeave&&onLeave(result.leave);}});_makeCompsAbsolute(this._abs);this._run.forEach(function(f){return f();});endTime=tl.duration();finalStates=this._final.slice(0);tl.add(function(){if(endTime<=tl.time()){finalStates.forEach(function(f){return f();});_forEachBatch(_this4,"onComplete");}});_batch=prevBatch;while(i--){this.actions[i].vars.once&&this.actions[i].kill();} _forEachBatch(this,"onStart");tl.restart();return this;};_proto4.loadState=function loadState(done){done||(done=function done(){return 0;});var queue=[];this.actions.forEach(function(c){if(c.vars.loadState){var i,f=function f(targets){targets&&(c.targets=targets);i=queue.indexOf(f);if(~i){queue.splice(i,1);queue.length||done();}};queue.push(f);c.vars.loadState(f);}});queue.length||done();return this;};_proto4.setState=function setState(){this.actions.forEach(function(c){return c.targets=c.vars.setState&&c.vars.setState(c);});return this;};_proto4.killConflicts=function killConflicts(soft){this.state.interrupt(soft);this._kill.forEach(function(state){return state.interrupt(soft);});return this;};_proto4.run=function run(skipGetState,merge){var _this5=this;if(this!==_batch){skipGetState||this.getState(merge);this.loadState(function(){if(!_this5._killed){_this5.setState();_this5.animate();}});} return this;};_proto4.clear=function clear(stateOnly){this.state.clear();stateOnly||(this.actions.length=0);};_proto4.getStateById=function getStateById(id){var i=this.actions.length,s;while(i--){s=this.actions[i].getStateById(id);if(s){return s;}} return this.state.idLookup[id]&&this.state;};_proto4.kill=function kill(){this._killed=1;this.clear();delete _batchLookup[this.id];};return FlipBatch;}();var Flip=function(){function Flip(){} Flip.getState=function getState(targets,vars){var state=_parseState(targets,vars);_batchAction&&_batchAction.states.push(state);vars&&vars.batch&&Flip.batch(vars.batch).state.add(state);return state;};Flip.from=function from(state,vars){vars=vars||{};"clearProps"in vars||(vars.clearProps=true);return _fromTo(state,_parseState(vars.targets||state.targets,{props:vars.props||state.props,simple:vars.simple,kill:!!vars.kill}),vars,-1);};Flip.to=function to(state,vars){return _fromTo(state,_parseState(vars.targets||state.targets,{props:vars.props||state.props,simple:vars.simple,kill:!!vars.kill}),vars,1);};Flip.fromTo=function fromTo(fromState,toState,vars){return _fromTo(fromState,toState,vars);};Flip.fit=function fit(fromEl,toEl,vars){var v=vars?_copy$1(vars,_fitReserved):{},_ref=vars||v,absolute=_ref.absolute,scale=_ref.scale,getVars=_ref.getVars,props=_ref.props,runBackwards=_ref.runBackwards,onComplete=_ref.onComplete,simple=_ref.simple,fitChild=vars&&vars.fitChild&&_getEl(vars.fitChild),before=_parseElementState(toEl,props,simple,fromEl),after=_parseElementState(fromEl,0,simple,before),inlineProps=props?_memoizedRemoveProps[props]:_removeProps;props&&_applyProps(v,before.props);if(runBackwards){_recordInlineStyles(after,inlineProps);"immediateRender"in v||(v.immediateRender=true);v.onComplete=function(){_applyInlineStyles(after);onComplete&&onComplete.apply(this,arguments);};} absolute&&_makeAbsolute(after,before);v=_fit(after,before,scale||fitChild,props,fitChild,v.duration||getVars?v:0);return getVars?v:v.duration?gsap$6.to(after.element,v):null;};Flip.makeAbsolute=function makeAbsolute(targetsOrStates,vars){return(targetsOrStates instanceof FlipState?targetsOrStates:new FlipState(targetsOrStates,vars)).makeAbsolute();};Flip.batch=function batch(id){id||(id="default");return _batchLookup[id]||(_batchLookup[id]=new FlipBatch(id));};Flip.killFlipsOf=function killFlipsOf(targets,complete){(targets instanceof FlipState?targets.targets:_toArray$1(targets)).forEach(function(t){return t&&_killFlip(t._flip,complete!==false?1:2);});};Flip.isFlipping=function isFlipping(target){var f=Flip.getByTarget(target);return!!f&&f.isActive();};Flip.getByTarget=function getByTarget(target){return(_getEl(target)||_emptyObj)._flip;};Flip.getElementState=function getElementState(target,props){return new ElementState(_getEl(target),props);};Flip.convertCoordinates=function convertCoordinates(fromElement,toElement,point){var m=getGlobalMatrix(toElement,true,true).multiply(getGlobalMatrix(fromElement));return point?m.apply(point):m;};Flip.register=function register(core){_body$2=typeof document!=="undefined"&&document.body;if(_body$2){gsap$6=core;_setDoc(_body$2);_toArray$1=gsap$6.utils.toArray;var snap=gsap$6.utils.snap(0.1);_closestTenth=function _closestTenth(value,add){return snap(parseFloat(value)+add);};}};return Flip;}();Flip.version="3.11.4";typeof window!=="undefined"&&window.gsap&&window.gsap.registerPlugin(Flip);/*! * MotionPathPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var _xProps="x,translateX,left,marginLeft,xPercent".split(","),_yProps="y,translateY,top,marginTop,yPercent".split(","),_DEG2RAD$3=Math.PI/180,gsap$7,PropTween$1,_getUnit,_toArray$2,_getStyleSaver$1,_reverting$2,_getGSAP$5=function _getGSAP(){return gsap$7||typeof window!=="undefined"&&(gsap$7=window.gsap)&&gsap$7.registerPlugin&&gsap$7;},_populateSegmentFromArray=function _populateSegmentFromArray(segment,values,property,mode){var l=values.length,si=mode===2?0:mode,i=0,v;for(;i1){ratio=1;}else if(ratio<0){ratio=0;} while(i--){getPositionOnPath(rawPaths[i],ratio,!i&&data.rotate,rawPaths[i]);} while(pt){pt.set(pt.t,pt.p,pt.path[pt.pp]+pt.u,pt.d,ratio);pt=pt._next;} data.rotate&&data.rSet(data.target,data.rProp,rawPaths[0].angle*(data.radians?_DEG2RAD$3:1)+data.rOffset+data.ru,data,ratio);}else{data.styles.revert();}},getLength:function getLength(path){return cacheRawPathMeasurements(getRawPath(path)).totalLength;},sliceRawPath:sliceRawPath,getRawPath:getRawPath,pointsToSegment:pointsToSegment,stringToRawPath:stringToRawPath,rawPathToString:rawPathToString,transformRawPath:transformRawPath,getGlobalMatrix:getGlobalMatrix,getPositionOnPath:getPositionOnPath,cacheRawPathMeasurements:cacheRawPathMeasurements,convertToPath:function convertToPath$1(targets,swap){return _toArray$2(targets).map(function(target){return convertToPath(target,swap!==false);});},convertCoordinates:function convertCoordinates(fromElement,toElement,point){var m=getGlobalMatrix(toElement,true,true).multiply(getGlobalMatrix(fromElement));return point?m.apply(point):m;},getAlignMatrix:_getAlignMatrix,getRelativePosition:function getRelativePosition(fromElement,toElement,fromOrigin,toOrigin){var m=_getAlignMatrix(fromElement,toElement,fromOrigin,toOrigin);return{x:m.e,y:m.f};},arrayToRawPath:function arrayToRawPath(value,vars){vars=vars||{};var segment=_populateSegmentFromArray(_populateSegmentFromArray([],value,vars.x||"x",0),value,vars.y||"y",1);vars.relative&&_relativize(segment);return[vars.type==="cubic"?segment:pointsToSegment(segment,vars.curviness)];}};_getGSAP$5()&&gsap$7.registerPlugin(MotionPathPlugin);/*! * Observer 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$8,_coreInitted$5,_clamp$1,_win$5,_doc$5,_docEl,_body$3,_isTouch,_pointerType,ScrollTrigger,_root,_normalizer,_eventTypes,_context$2,_getGSAP$6=function _getGSAP(){return gsap$8||typeof window!=="undefined"&&(gsap$8=window.gsap)&&gsap$8.registerPlugin&&gsap$8;},_startup=1,_observers=[];exports._scrollers=[];exports._proxies=[];var _getTime$1=Date.now,_bridge=function _bridge(name,value){return value;},_integrate=function _integrate(){var core=ScrollTrigger.core,data=core.bridge||{},scrollers=core._scrollers,proxies=core._proxies;scrollers.push.apply(scrollers,exports._scrollers);proxies.push.apply(proxies,exports._proxies);exports._scrollers=scrollers;exports._proxies=proxies;_bridge=function _bridge(name,value){return data[name](value);};},_getProxyProp=function _getProxyProp(element,property){return~exports._proxies.indexOf(element)&&exports._proxies[exports._proxies.indexOf(element)+1][property];},_isViewport=function _isViewport(el){return!!~_root.indexOf(el);},_addListener$1=function _addListener(element,type,func,nonPassive,capture){return element.addEventListener(type,func,{passive:!nonPassive,capture:!!capture});},_removeListener$1=function _removeListener(element,type,func,capture){return element.removeEventListener(type,func,!!capture);},_scrollLeft="scrollLeft",_scrollTop="scrollTop",_onScroll=function _onScroll(){return _normalizer&&_normalizer.isPressed||exports._scrollers.cache++;},_scrollCacheFunc=function _scrollCacheFunc(f,doNotCache){var cachingFunc=function cachingFunc(value){if(value||value===0){_startup&&(_win$5.history.scrollRestoration="manual");var isNormalizing=_normalizer&&_normalizer.isPressed;value=cachingFunc.v=Math.round(value)||(_normalizer&&_normalizer.iOS?1:0);f(value);cachingFunc.cacheID=exports._scrollers.cache;isNormalizing&&_bridge("ss",value);}else if(doNotCache||exports._scrollers.cache!==cachingFunc.cacheID||_bridge("ref")){cachingFunc.cacheID=exports._scrollers.cache;cachingFunc.v=f();} return cachingFunc.v+cachingFunc.offset;};cachingFunc.offset=0;return f&&cachingFunc;},_horizontal={s:_scrollLeft,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_scrollCacheFunc(function(value){return arguments.length?_win$5.scrollTo(value,_vertical.sc()):_win$5.pageXOffset||_doc$5[_scrollLeft]||_docEl[_scrollLeft]||_body$3[_scrollLeft]||0;})},_vertical={s:_scrollTop,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_horizontal,sc:_scrollCacheFunc(function(value){return arguments.length?_win$5.scrollTo(_horizontal.sc(),value):_win$5.pageYOffset||_doc$5[_scrollTop]||_docEl[_scrollTop]||_body$3[_scrollTop]||0;})},_getTarget=function _getTarget(t){return gsap$8.utils.toArray(t)[0]||(typeof t==="string"&&gsap$8.config().nullTargetWarn!==false?console.warn("Element not found:",t):null);},_getScrollFunc=function _getScrollFunc(element,_ref){var s=_ref.s,sc=_ref.sc;_isViewport(element)&&(element=_doc$5.scrollingElement||_docEl);var i=exports._scrollers.indexOf(element),offset=sc===_vertical.sc?1:2;!~i&&(i=exports._scrollers.push(element)-1);exports._scrollers[i+offset]||element.addEventListener("scroll",_onScroll);var prev=exports._scrollers[i+offset],func=prev||(exports._scrollers[i+offset]=_scrollCacheFunc(_getProxyProp(element,s),true)||(_isViewport(element)?sc:_scrollCacheFunc(function(value){return arguments.length?element[s]=value:element[s];})));func.target=element;prev||(func.smooth=gsap$8.getProperty(element,"scrollBehavior")==="smooth");return func;},_getVelocityProp=function _getVelocityProp(value,minTimeRefresh,useDelta){var v1=value,v2=value,t1=_getTime$1(),t2=t1,min=minTimeRefresh||50,dropToZeroTime=Math.max(500,min*3),update=function update(value,force){var t=_getTime$1();if(force||t-t1>min){v2=v1;v1=value;t2=t1;t1=t;}else if(useDelta){v1+=value;}else{v1=v2+(value-v2)/(t-t2)*(t1-t2);}},reset=function reset(){v2=v1=useDelta?0:v1;t2=t1=0;},getVelocity=function getVelocity(latestValue){var tOld=t2,vOld=v2,t=_getTime$1();(latestValue||latestValue===0)&&latestValue!==v1&&update(latestValue);return t1===t2||t-t2>dropToZeroTime?0:(v1+(useDelta?vOld:-vOld))/((useDelta?t:t1)-tOld)*1000;};return{update:update,reset:reset,getVelocity:getVelocity};},_getEvent=function _getEvent(e,preventDefault){preventDefault&&!e._gsapAllow&&e.preventDefault();return e.changedTouches?e.changedTouches[0]:e;},_getAbsoluteMax=function _getAbsoluteMax(a){var max=Math.max.apply(Math,a),min=Math.min.apply(Math,a);return Math.abs(max)>=Math.abs(min)?max:min;},_setScrollTrigger=function _setScrollTrigger(){ScrollTrigger=gsap$8.core.globals().ScrollTrigger;ScrollTrigger&&ScrollTrigger.core&&_integrate();},_initCore$6=function _initCore(core){gsap$8=core||_getGSAP$6();if(gsap$8&&typeof document!=="undefined"&&document.body){_win$5=window;_doc$5=document;_docEl=_doc$5.documentElement;_body$3=_doc$5.body;_root=[_win$5,_doc$5,_docEl,_body$3];_clamp$1=gsap$8.utils.clamp;_context$2=gsap$8.core.context||function(){};_pointerType="onpointerenter"in _body$3?"pointer":"mouse";_isTouch=Observer.isTouch=_win$5.matchMedia&&_win$5.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _win$5||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0;_eventTypes=Observer.eventTypes=("ontouchstart"in _docEl?"touchstart,touchmove,touchcancel,touchend":!("onpointerdown"in _docEl)?"mousedown,mousemove,mouseup,mouseup":"pointerdown,pointermove,pointercancel,pointerup").split(",");setTimeout(function(){return _startup=0;},500);_setScrollTrigger();_coreInitted$5=1;} return _coreInitted$5;};_horizontal.op=_vertical;exports._scrollers.cache=0;var Observer=function(){function Observer(vars){this.init(vars);} var _proto=Observer.prototype;_proto.init=function init(vars){_coreInitted$5||_initCore$6(gsap$8)||console.warn("Please gsap.registerPlugin(Observer)");ScrollTrigger||_setScrollTrigger();var tolerance=vars.tolerance,dragMinimum=vars.dragMinimum,type=vars.type,target=vars.target,lineHeight=vars.lineHeight,debounce=vars.debounce,preventDefault=vars.preventDefault,onStop=vars.onStop,onStopDelay=vars.onStopDelay,ignore=vars.ignore,wheelSpeed=vars.wheelSpeed,event=vars.event,onDragStart=vars.onDragStart,onDragEnd=vars.onDragEnd,onDrag=vars.onDrag,onPress=vars.onPress,onRelease=vars.onRelease,onRight=vars.onRight,onLeft=vars.onLeft,onUp=vars.onUp,onDown=vars.onDown,onChangeX=vars.onChangeX,onChangeY=vars.onChangeY,onChange=vars.onChange,onToggleX=vars.onToggleX,onToggleY=vars.onToggleY,onHover=vars.onHover,onHoverEnd=vars.onHoverEnd,onMove=vars.onMove,ignoreCheck=vars.ignoreCheck,isNormalizer=vars.isNormalizer,onGestureStart=vars.onGestureStart,onGestureEnd=vars.onGestureEnd,onWheel=vars.onWheel,onEnable=vars.onEnable,onDisable=vars.onDisable,onClick=vars.onClick,scrollSpeed=vars.scrollSpeed,capture=vars.capture,allowClicks=vars.allowClicks,lockAxis=vars.lockAxis,onLockAxis=vars.onLockAxis;this.target=target=_getTarget(target)||_docEl;this.vars=vars;ignore&&(ignore=gsap$8.utils.toArray(ignore));tolerance=tolerance||1e-9;dragMinimum=dragMinimum||0;wheelSpeed=wheelSpeed||1;scrollSpeed=scrollSpeed||1;type=type||"wheel,touch,pointer";debounce=debounce!==false;lineHeight||(lineHeight=parseFloat(_win$5.getComputedStyle(_body$3).lineHeight)||22);var id,onStopDelayedCall,dragged,moved,wheeled,locked,axis,self=this,prevDeltaX=0,prevDeltaY=0,scrollFuncX=_getScrollFunc(target,_horizontal),scrollFuncY=_getScrollFunc(target,_vertical),scrollX=scrollFuncX(),scrollY=scrollFuncY(),limitToTouch=~type.indexOf("touch")&&!~type.indexOf("pointer")&&_eventTypes[0]==="pointerdown",isViewport=_isViewport(target),ownerDoc=target.ownerDocument||_doc$5,deltaX=[0,0,0],deltaY=[0,0,0],onClickTime=0,clickCapture=function clickCapture(){return onClickTime=_getTime$1();},_ignoreCheck=function _ignoreCheck(e,isPointerOrTouch){return(self.event=e)&&ignore&&~ignore.indexOf(e.target)||isPointerOrTouch&&limitToTouch&&e.pointerType!=="touch"||ignoreCheck&&ignoreCheck(e,isPointerOrTouch);},onStopFunc=function onStopFunc(){self._vx.reset();self._vy.reset();onStopDelayedCall.pause();onStop&&onStop(self);},update=function update(){var dx=self.deltaX=_getAbsoluteMax(deltaX),dy=self.deltaY=_getAbsoluteMax(deltaY),changedX=Math.abs(dx)>=tolerance,changedY=Math.abs(dy)>=tolerance;onChange&&(changedX||changedY)&&onChange(self,dx,dy,deltaX,deltaY);if(changedX){onRight&&self.deltaX>0&&onRight(self);onLeft&&self.deltaX<0&&onLeft(self);onChangeX&&onChangeX(self);onToggleX&&self.deltaX<0!==prevDeltaX<0&&onToggleX(self);prevDeltaX=self.deltaX;deltaX[0]=deltaX[1]=deltaX[2]=0;} if(changedY){onDown&&self.deltaY>0&&onDown(self);onUp&&self.deltaY<0&&onUp(self);onChangeY&&onChangeY(self);onToggleY&&self.deltaY<0!==prevDeltaY<0&&onToggleY(self);prevDeltaY=self.deltaY;deltaY[0]=deltaY[1]=deltaY[2]=0;} if(moved||dragged){onMove&&onMove(self);if(dragged){onDrag(self);dragged=false;} moved=false;} locked&&!(locked=false)&&onLockAxis&&onLockAxis(self);if(wheeled){onWheel(self);wheeled=false;} id=0;},onDelta=function onDelta(x,y,index){deltaX[index]+=x;deltaY[index]+=y;self._vx.update(x);self._vy.update(y);debounce?id||(id=requestAnimationFrame(update)):update();},onTouchOrPointerDelta=function onTouchOrPointerDelta(x,y){if(lockAxis&&!axis){self.axis=axis=Math.abs(x)>Math.abs(y)?"x":"y";locked=true;} if(axis!=="y"){deltaX[2]+=x;self._vx.update(x,true);} if(axis!=="x"){deltaY[2]+=y;self._vy.update(y,true);} debounce?id||(id=requestAnimationFrame(update)):update();},_onDrag=function _onDrag(e){if(_ignoreCheck(e,1)){return;} e=_getEvent(e,preventDefault);var x=e.clientX,y=e.clientY,dx=x-self.x,dy=y-self.y,isDragging=self.isDragging;self.x=x;self.y=y;if(isDragging||Math.abs(self.startX-x)>=dragMinimum||Math.abs(self.startY-y)>=dragMinimum){onDrag&&(dragged=true);isDragging||(self.isDragging=true);onTouchOrPointerDelta(dx,dy);isDragging||onDragStart&&onDragStart(self);}},_onPress=self.onPress=function(e){if(_ignoreCheck(e,1)){return;} self.axis=axis=null;onStopDelayedCall.pause();self.isPressed=true;e=_getEvent(e);prevDeltaX=prevDeltaY=0;self.startX=self.x=e.clientX;self.startY=self.y=e.clientY;self._vx.reset();self._vy.reset();_addListener$1(isNormalizer?target:ownerDoc,_eventTypes[1],_onDrag,preventDefault,true);self.deltaX=self.deltaY=0;onPress&&onPress(self);},_onRelease=function _onRelease(e){if(_ignoreCheck(e,1)){return;} _removeListener$1(isNormalizer?target:ownerDoc,_eventTypes[1],_onDrag,true);var isTrackingDrag=!isNaN(self.y-self.startY),wasDragging=self.isDragging&&(Math.abs(self.x-self.startX)>3||Math.abs(self.y-self.startY)>3),eventData=_getEvent(e);if(!wasDragging&&isTrackingDrag){self._vx.reset();self._vy.reset();if(preventDefault&&allowClicks){gsap$8.delayedCall(0.08,function(){if(_getTime$1()-onClickTime>300&&!e.defaultPrevented){if(e.target.click){e.target.click();}else if(ownerDoc.createEvent){var syntheticEvent=ownerDoc.createEvent("MouseEvents");syntheticEvent.initMouseEvent("click",true,true,_win$5,1,eventData.screenX,eventData.screenY,eventData.clientX,eventData.clientY,false,false,false,false,0,null);e.target.dispatchEvent(syntheticEvent);}}});}} self.isDragging=self.isGesturing=self.isPressed=false;onStop&&!isNormalizer&&onStopDelayedCall.restart(true);onDragEnd&&wasDragging&&onDragEnd(self);onRelease&&onRelease(self,wasDragging);},_onGestureStart=function _onGestureStart(e){return e.touches&&e.touches.length>1&&(self.isGesturing=true)&&onGestureStart(e,self.isDragging);},_onGestureEnd=function _onGestureEnd(){return(self.isGesturing=false)||onGestureEnd(self);},onScroll=function onScroll(e){if(_ignoreCheck(e)){return;} var x=scrollFuncX(),y=scrollFuncY();onDelta((x-scrollX)*scrollSpeed,(y-scrollY)*scrollSpeed,1);scrollX=x;scrollY=y;onStop&&onStopDelayedCall.restart(true);},_onWheel=function _onWheel(e){if(_ignoreCheck(e)){return;} e=_getEvent(e,preventDefault);onWheel&&(wheeled=true);var multiplier=(e.deltaMode===1?lineHeight:e.deltaMode===2?_win$5.innerHeight:1)*wheelSpeed;onDelta(e.deltaX*multiplier,e.deltaY*multiplier,0);onStop&&!isNormalizer&&onStopDelayedCall.restart(true);},_onMove=function _onMove(e){if(_ignoreCheck(e)){return;} var x=e.clientX,y=e.clientY,dx=x-self.x,dy=y-self.y;self.x=x;self.y=y;moved=true;(dx||dy)&&onTouchOrPointerDelta(dx,dy);},_onHover=function _onHover(e){self.event=e;onHover(self);},_onHoverEnd=function _onHoverEnd(e){self.event=e;onHoverEnd(self);},_onClick=function _onClick(e){return _ignoreCheck(e)||_getEvent(e,preventDefault)&&onClick(self);};onStopDelayedCall=self._dc=gsap$8.delayedCall(onStopDelay||0.25,onStopFunc).pause();self.deltaX=self.deltaY=0;self._vx=_getVelocityProp(0,50,true);self._vy=_getVelocityProp(0,50,true);self.scrollX=scrollFuncX;self.scrollY=scrollFuncY;self.isDragging=self.isGesturing=self.isPressed=false;_context$2(this);self.enable=function(e){if(!self.isEnabled){_addListener$1(isViewport?ownerDoc:target,"scroll",_onScroll);type.indexOf("scroll")>=0&&_addListener$1(isViewport?ownerDoc:target,"scroll",onScroll,preventDefault,capture);type.indexOf("wheel")>=0&&_addListener$1(target,"wheel",_onWheel,preventDefault,capture);if(type.indexOf("touch")>=0&&_isTouch||type.indexOf("pointer")>=0){_addListener$1(target,_eventTypes[0],_onPress,preventDefault,capture);_addListener$1(ownerDoc,_eventTypes[2],_onRelease);_addListener$1(ownerDoc,_eventTypes[3],_onRelease);allowClicks&&_addListener$1(target,"click",clickCapture,false,true);onClick&&_addListener$1(target,"click",_onClick);onGestureStart&&_addListener$1(ownerDoc,"gesturestart",_onGestureStart);onGestureEnd&&_addListener$1(ownerDoc,"gestureend",_onGestureEnd);onHover&&_addListener$1(target,_pointerType+"enter",_onHover);onHoverEnd&&_addListener$1(target,_pointerType+"leave",_onHoverEnd);onMove&&_addListener$1(target,_pointerType+"move",_onMove);} self.isEnabled=true;e&&e.type&&_onPress(e);onEnable&&onEnable(self);} return self;};self.disable=function(){if(self.isEnabled){_observers.filter(function(o){return o!==self&&_isViewport(o.target);}).length||_removeListener$1(isViewport?ownerDoc:target,"scroll",_onScroll);if(self.isPressed){self._vx.reset();self._vy.reset();_removeListener$1(isNormalizer?target:ownerDoc,_eventTypes[1],_onDrag,true);} _removeListener$1(isViewport?ownerDoc:target,"scroll",onScroll,capture);_removeListener$1(target,"wheel",_onWheel,capture);_removeListener$1(target,_eventTypes[0],_onPress,capture);_removeListener$1(ownerDoc,_eventTypes[2],_onRelease);_removeListener$1(ownerDoc,_eventTypes[3],_onRelease);_removeListener$1(target,"click",clickCapture,true);_removeListener$1(target,"click",_onClick);_removeListener$1(ownerDoc,"gesturestart",_onGestureStart);_removeListener$1(ownerDoc,"gestureend",_onGestureEnd);_removeListener$1(target,_pointerType+"enter",_onHover);_removeListener$1(target,_pointerType+"leave",_onHoverEnd);_removeListener$1(target,_pointerType+"move",_onMove);self.isEnabled=self.isPressed=self.isDragging=false;onDisable&&onDisable(self);}};self.kill=self.revert=function(){self.disable();var i=_observers.indexOf(self);i>=0&&_observers.splice(i,1);_normalizer===self&&(_normalizer=0);};_observers.push(self);isNormalizer&&_isViewport(target)&&(_normalizer=self);self.enable(event);};_createClass(Observer,[{key:"velocityX",get:function get(){return this._vx.getVelocity();}},{key:"velocityY",get:function get(){return this._vy.getVelocity();}}]);return Observer;}();Observer.version="3.11.4";Observer.create=function(vars){return new Observer(vars);};Observer.register=_initCore$6;Observer.getAll=function(){return _observers.slice();};Observer.getById=function(id){return _observers.filter(function(o){return o.vars.id===id;})[0];};_getGSAP$6()&&gsap$8.registerPlugin(Observer);/*! * PixiPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$9,_win$6,_splitColor,_coreInitted$6,_PIXI,PropTween$2,_getSetter$1,_isV4,_windowExists$5=function _windowExists(){return typeof window!=="undefined";},_getGSAP$7=function _getGSAP(){return gsap$9||_windowExists$5()&&(gsap$9=window.gsap)&&gsap$9.registerPlugin&&gsap$9;},_isFunction$2=function _isFunction(value){return typeof value==="function";},_warn$2=function _warn(message){return console.warn(message);},_idMatrix$1=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],_lumR$1=0.212671,_lumG$1=0.715160,_lumB$1=0.072169,_applyMatrix$1=function _applyMatrix(m,m2){var temp=[],i=0,z=0,y,x;for(y=0;y<4;y++){for(x=0;x<5;x++){z=x===4?m[i+4]:0;temp[i+x]=m[i]*m2[x]+m[i+1]*m2[x+5]+m[i+2]*m2[x+10]+m[i+3]*m2[x+15]+z;} i+=5;} return temp;},_setSaturation$1=function _setSaturation(m,n){var inv=1-n,r=inv*_lumR$1,g=inv*_lumG$1,b=inv*_lumB$1;return _applyMatrix$1([r+n,g,b,0,0,r,g+n,b,0,0,r,g,b+n,0,0,0,0,0,1,0],m);},_colorize$1=function _colorize(m,color,amount){var c=_splitColor(color),r=c[0]/255,g=c[1]/255,b=c[2]/255,inv=1-amount;return _applyMatrix$1([inv+amount*r*_lumR$1,amount*r*_lumG$1,amount*r*_lumB$1,0,0,amount*g*_lumR$1,inv+amount*g*_lumG$1,amount*g*_lumB$1,0,0,amount*b*_lumR$1,amount*b*_lumG$1,inv+amount*b*_lumB$1,0,0,0,0,0,1,0],m);},_setHue$1=function _setHue(m,n){n*=Math.PI/180;var c=Math.cos(n),s=Math.sin(n);return _applyMatrix$1([_lumR$1+c*(1-_lumR$1)+s*-_lumR$1,_lumG$1+c*-_lumG$1+s*-_lumG$1,_lumB$1+c*-_lumB$1+s*(1-_lumB$1),0,0,_lumR$1+c*-_lumR$1+s*0.143,_lumG$1+c*(1-_lumG$1)+s*0.14,_lumB$1+c*-_lumB$1+s*-0.283,0,0,_lumR$1+c*-_lumR$1+s*-(1-_lumR$1),_lumG$1+c*-_lumG$1+s*_lumG$1,_lumB$1+c*(1-_lumB$1)+s*_lumB$1,0,0,0,0,0,1,0,0,0,0,0,1],m);},_setContrast$1=function _setContrast(m,n){return _applyMatrix$1([n,0,0,0,0.5*(1-n),0,n,0,0,0.5*(1-n),0,0,n,0,0.5*(1-n),0,0,0,1,0],m);},_getFilter=function _getFilter(target,type){var filterClass=_PIXI.filters[type],filters=target.filters||[],i=filters.length,filter;filterClass||_warn$2(type+" not found. PixiPlugin.registerPIXI(PIXI)");while(--i>-1){if(filters[i]instanceof filterClass){return filters[i];}} filter=new filterClass();if(type==="BlurFilter"){filter.blur=0;} filters.push(filter);target.filters=filters;return filter;},_addColorMatrixFilterCacheTween=function _addColorMatrixFilterCacheTween(p,plugin,cache,vars){plugin.add(cache,p,cache[p],vars[p]);plugin._props.push(p);},_applyBrightnessToMatrix=function _applyBrightnessToMatrix(brightness,matrix){var temp=new _PIXI.filters.ColorMatrixFilter();temp.matrix=matrix;temp.brightness(brightness,true);return temp.matrix;},_copy$2=function _copy(obj){var copy={},p;for(p in obj){copy[p]=obj[p];} return copy;},_CMFdefaults={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},_parseColorMatrixFilter$1=function _parseColorMatrixFilter(target,v,pg){var filter=_getFilter(target,"ColorMatrixFilter"),cache=target._gsColorMatrixFilter=target._gsColorMatrixFilter||_copy$2(_CMFdefaults),combine=v.combineCMF&&!("colorMatrixFilter"in v&&!v.colorMatrixFilter),i,matrix,startMatrix;startMatrix=filter.matrix;if(v.resolution){filter.resolution=v.resolution;} if(v.matrix&&v.matrix.length===startMatrix.length){matrix=v.matrix;if(cache.contrast!==1){_addColorMatrixFilterCacheTween("contrast",pg,cache,_CMFdefaults);} if(cache.hue){_addColorMatrixFilterCacheTween("hue",pg,cache,_CMFdefaults);} if(cache.brightness!==1){_addColorMatrixFilterCacheTween("brightness",pg,cache,_CMFdefaults);} if(cache.colorizeAmount){_addColorMatrixFilterCacheTween("colorize",pg,cache,_CMFdefaults);_addColorMatrixFilterCacheTween("colorizeAmount",pg,cache,_CMFdefaults);} if(cache.saturation!==1){_addColorMatrixFilterCacheTween("saturation",pg,cache,_CMFdefaults);}}else{matrix=_idMatrix$1.slice();if(v.contrast!=null){matrix=_setContrast$1(matrix,+v.contrast);_addColorMatrixFilterCacheTween("contrast",pg,cache,v);}else if(cache.contrast!==1){if(combine){matrix=_setContrast$1(matrix,cache.contrast);}else{_addColorMatrixFilterCacheTween("contrast",pg,cache,_CMFdefaults);}} if(v.hue!=null){matrix=_setHue$1(matrix,+v.hue);_addColorMatrixFilterCacheTween("hue",pg,cache,v);}else if(cache.hue){if(combine){matrix=_setHue$1(matrix,cache.hue);}else{_addColorMatrixFilterCacheTween("hue",pg,cache,_CMFdefaults);}} if(v.brightness!=null){matrix=_applyBrightnessToMatrix(+v.brightness,matrix);_addColorMatrixFilterCacheTween("brightness",pg,cache,v);}else if(cache.brightness!==1){if(combine){matrix=_applyBrightnessToMatrix(cache.brightness,matrix);}else{_addColorMatrixFilterCacheTween("brightness",pg,cache,_CMFdefaults);}} if(v.colorize!=null){v.colorizeAmount="colorizeAmount"in v?+v.colorizeAmount:1;matrix=_colorize$1(matrix,v.colorize,v.colorizeAmount);_addColorMatrixFilterCacheTween("colorize",pg,cache,v);_addColorMatrixFilterCacheTween("colorizeAmount",pg,cache,v);}else if(cache.colorizeAmount){if(combine){matrix=_colorize$1(matrix,cache.colorize,cache.colorizeAmount);}else{_addColorMatrixFilterCacheTween("colorize",pg,cache,_CMFdefaults);_addColorMatrixFilterCacheTween("colorizeAmount",pg,cache,_CMFdefaults);}} if(v.saturation!=null){matrix=_setSaturation$1(matrix,+v.saturation);_addColorMatrixFilterCacheTween("saturation",pg,cache,v);}else if(cache.saturation!==1){if(combine){matrix=_setSaturation$1(matrix,cache.saturation);}else{_addColorMatrixFilterCacheTween("saturation",pg,cache,_CMFdefaults);}}} i=matrix.length;while(--i>-1){if(matrix[i]!==startMatrix[i]){pg.add(startMatrix,i,startMatrix[i],matrix[i],"colorMatrixFilter");}} pg._props.push("colorMatrixFilter");},_renderColor=function _renderColor(ratio,_ref){var t=_ref.t,p=_ref.p,color=_ref.color,set=_ref.set;set(t,p,color[0]<<16|color[1]<<8|color[2]);},_renderDirtyCache=function _renderDirtyCache(ratio,_ref2){var g=_ref2.g;if(g){g.dirty++;g.clearDirty++;}},_renderAutoAlpha=function _renderAutoAlpha(ratio,data){data.t.visible=!!data.t.alpha;},_addColorTween=function _addColorTween(target,p,value,plugin){var currentValue=target[p],startColor=_splitColor(_isFunction$2(currentValue)?target[p.indexOf("set")||!_isFunction$2(target["get"+p.substr(3)])?p:"get"+p.substr(3)]():currentValue),endColor=_splitColor(value);plugin._pt=new PropTween$2(plugin._pt,target,p,0,0,_renderColor,{t:target,p:p,color:startColor,set:_getSetter$1(target,p)});plugin.add(startColor,0,startColor[0],endColor[0]);plugin.add(startColor,1,startColor[1],endColor[1]);plugin.add(startColor,2,startColor[2],endColor[2]);},_colorProps$1={tint:1,lineColor:1,fillColor:1},_xyContexts="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),_contexts={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},_colorMatrixFilterProps={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},_DEG2RAD$4=Math.PI/180,_isString$2=function _isString(value){return typeof value==="string";},_degreesToRadians=function _degreesToRadians(value){return _isString$2(value)&&value.charAt(1)==="="?value.substr(0,2)+parseFloat(value.substr(2))*_DEG2RAD$4:value*_DEG2RAD$4;},_renderPropWithEnd$1=function _renderPropWithEnd(ratio,data){return data.set(data.t,data.p,ratio===1?data.e:Math.round((data.s+data.c*ratio)*100000)/100000,data);},_addRotationalPropTween$1=function _addRotationalPropTween(plugin,target,property,startNum,endValue,radians){var cap=360*(radians?_DEG2RAD$4:1),isString=_isString$2(endValue),relative=isString&&endValue.charAt(1)==="="?+(endValue.charAt(0)+"1"):0,endNum=parseFloat(relative?endValue.substr(2):endValue)*(radians?_DEG2RAD$4:1),change=relative?endNum*relative:endNum-startNum,finalValue=startNum+change,direction,pt;if(isString){direction=endValue.split("_")[1];if(direction==="short"){change%=cap;if(change!==change%(cap/2)){change+=change<0?cap:-cap;}} if(direction==="cw"&&change<0){change=(change+cap*1e10)%cap-~~(change/cap)*cap;}else if(direction==="ccw"&&change>0){change=(change-cap*1e10)%cap-~~(change/cap)*cap;}} plugin._pt=pt=new PropTween$2(plugin._pt,target,property,startNum,change,_renderPropWithEnd$1);pt.e=finalValue;return pt;},_initCore$7=function _initCore(){if(_windowExists$5()){_win$6=window;gsap$9=_getGSAP$7();_PIXI=_coreInitted$6=_PIXI||_win$6.PIXI;_isV4=_PIXI&&_PIXI.VERSION&&_PIXI.VERSION.charAt(0)==="4";_splitColor=function _splitColor(color){return gsap$9.utils.splitColor((color+"").substr(0,2)==="0x"?"#"+color.substr(2):color);};}},i,p$1;for(i=0;i<_xyContexts.length;i++){p$1=_xyContexts[i];_contexts[p$1+"X"]=p$1;_contexts[p$1+"Y"]=p$1;} var PixiPlugin={version:"3.11.4",name:"pixi",register:function register(core,Plugin,propTween){gsap$9=core;PropTween$2=propTween;_getSetter$1=Plugin.getSetter;_initCore$7();},registerPIXI:function registerPIXI(pixi){_PIXI=pixi;},init:function init(target,values,tween,index,targets){_PIXI||_initCore$7();if(!_PIXI||!(target instanceof _PIXI.DisplayObject)){console.warn(target,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);");return false;} var context,axis,value,colorMatrix,filter,p,padding,i,data;for(p in values){context=_contexts[p];value=values[p];if(context){axis=~p.charAt(p.length-1).toLowerCase().indexOf("x")?"x":"y";this.add(target[context],axis,target[context][axis],context==="skew"?_degreesToRadians(value):value,0,0,0,0,0,1);}else if(p==="scale"||p==="anchor"||p==="pivot"||p==="tileScale"){this.add(target[p],"x",target[p].x,value);this.add(target[p],"y",target[p].y,value);}else if(p==="rotation"||p==="angle"){_addRotationalPropTween$1(this,target,p,target[p],value,p==="rotation");}else if(_colorMatrixFilterProps[p]){if(!colorMatrix){_parseColorMatrixFilter$1(target,values.colorMatrixFilter||values,this);colorMatrix=true;}}else if(p==="blur"||p==="blurX"||p==="blurY"||p==="blurPadding"){filter=_getFilter(target,"BlurFilter");this.add(filter,p,filter[p],value);if(values.blurPadding!==0){padding=values.blurPadding||Math.max(filter[p],value)*2;i=target.filters.length;while(--i>-1){target.filters[i].padding=Math.max(target.filters[i].padding,padding);}}}else if(_colorProps$1[p]){if((p==="lineColor"||p==="fillColor")&&target instanceof _PIXI.Graphics){data=(target.geometry||target).graphicsData;this._pt=new PropTween$2(this._pt,target,p,0,0,_renderDirtyCache,{g:target.geometry||target});i=data.length;while(--i>-1){_addColorTween(_isV4?data[i]:data[i][p.substr(0,4)+"Style"],_isV4?p:"color",value,this);}}else{_addColorTween(target,p,value,this);}}else if(p==="autoAlpha"){this._pt=new PropTween$2(this._pt,target,"visible",0,0,_renderAutoAlpha);this.add(target,"alpha",target.alpha,value);this._props.push("alpha","visible");}else if(p!=="resolution"){this.add(target,p,"get",value);} this._props.push(p);}}};_getGSAP$7()&&gsap$9.registerPlugin(PixiPlugin);/*! * ScrollToPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$a,_coreInitted$7,_window,_docEl$1,_body$4,_toArray$3,_config$1,ScrollTrigger$1,_windowExists$6=function _windowExists(){return typeof window!=="undefined";},_getGSAP$8=function _getGSAP(){return gsap$a||_windowExists$6()&&(gsap$a=window.gsap)&&gsap$a.registerPlugin&&gsap$a;},_isString$3=function _isString(value){return typeof value==="string";},_isFunction$3=function _isFunction(value){return typeof value==="function";},_max=function _max(element,axis){var dim=axis==="x"?"Width":"Height",scroll="scroll"+dim,client="client"+dim;return element===_window||element===_docEl$1||element===_body$4?Math.max(_docEl$1[scroll],_body$4[scroll])-(_window["inner"+dim]||_docEl$1[client]||_body$4[client]):element[scroll]-element["offset"+dim];},_buildGetter=function _buildGetter(e,axis){var p="scroll"+(axis==="x"?"Left":"Top");if(e===_window){if(e.pageXOffset!=null){p="page"+axis.toUpperCase()+"Offset";}else{e=_docEl$1[p]!=null?_docEl$1:_body$4;}} return function(){return e[p];};},_clean=function _clean(value,index,target,targets){_isFunction$3(value)&&(value=value(index,target,targets));if(typeof value!=="object"){return _isString$3(value)&&value!=="max"&&value.charAt(1)!=="="?{x:value,y:value}:{y:value};}else if(value.nodeType){return{y:value,x:value};}else{var result={},p;for(p in value){result[p]=p!=="onAutoKill"&&_isFunction$3(value[p])?value[p](index,target,targets):value[p];} return result;}},_getOffset=function _getOffset(element,container){element=_toArray$3(element)[0];if(!element||!element.getBoundingClientRect){return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};} var rect=element.getBoundingClientRect(),isRoot=!container||container===_window||container===_body$4,cRect=isRoot?{top:_docEl$1.clientTop-(_window.pageYOffset||_docEl$1.scrollTop||_body$4.scrollTop||0),left:_docEl$1.clientLeft-(_window.pageXOffset||_docEl$1.scrollLeft||_body$4.scrollLeft||0)}:container.getBoundingClientRect(),offsets={x:rect.left-cRect.left,y:rect.top-cRect.top};if(!isRoot&&container){offsets.x+=_buildGetter(container,"x")();offsets.y+=_buildGetter(container,"y")();} return offsets;},_parseVal=function _parseVal(value,target,axis,currentVal,offset){return!isNaN(value)&&typeof value!=="object"?parseFloat(value)-offset:_isString$3(value)&&value.charAt(1)==="="?parseFloat(value.substr(2))*(value.charAt(0)==="-"?-1:1)+currentVal-offset:value==="max"?_max(target,axis)-offset:Math.min(_max(target,axis),_getOffset(value,target)[axis]-offset);},_initCore$8=function _initCore(){gsap$a=_getGSAP$8();if(_windowExists$6()&&gsap$a&&typeof document!=="undefined"&&document.body){_window=window;_body$4=document.body;_docEl$1=document.documentElement;_toArray$3=gsap$a.utils.toArray;gsap$a.config({autoKillThreshold:7});_config$1=gsap$a.config();_coreInitted$7=1;}};var ScrollToPlugin={version:"3.11.4",name:"scrollTo",rawVars:1,register:function register(core){gsap$a=core;_initCore$8();},init:function init(target,value,tween,index,targets){_coreInitted$7||_initCore$8();var data=this,snapType=gsap$a.getProperty(target,"scrollSnapType");data.isWin=target===_window;data.target=target;data.tween=tween;value=_clean(value,index,target,targets);data.vars=value;data.autoKill=!!value.autoKill;data.getX=_buildGetter(target,"x");data.getY=_buildGetter(target,"y");data.x=data.xPrev=data.getX();data.y=data.yPrev=data.getY();ScrollTrigger$1||(ScrollTrigger$1=gsap$a.core.globals().ScrollTrigger);gsap$a.getProperty(target,"scrollBehavior")==="smooth"&&gsap$a.set(target,{scrollBehavior:"auto"});if(snapType&&snapType!=="none"){data.snap=1;data.snapInline=target.style.scrollSnapType;target.style.scrollSnapType="none";} if(value.x!=null){data.add(data,"x",data.x,_parseVal(value.x,target,"x",data.x,value.offsetX||0),index,targets);data._props.push("scrollTo_x");}else{data.skipX=1;} if(value.y!=null){data.add(data,"y",data.y,_parseVal(value.y,target,"y",data.y,value.offsetY||0),index,targets);data._props.push("scrollTo_y");}else{data.skipY=1;}},render:function render(ratio,data){var pt=data._pt,target=data.target,tween=data.tween,autoKill=data.autoKill,xPrev=data.xPrev,yPrev=data.yPrev,isWin=data.isWin,snap=data.snap,snapInline=data.snapInline,x,y,yDif,xDif,threshold;while(pt){pt.r(ratio,pt.d);pt=pt._next;} x=isWin||!data.skipX?data.getX():xPrev;y=isWin||!data.skipY?data.getY():yPrev;yDif=y-yPrev;xDif=x-xPrev;threshold=_config$1.autoKillThreshold;if(data.x<0){data.x=0;} if(data.y<0){data.y=0;} if(autoKill){if(!data.skipX&&(xDif>threshold||xDif<-threshold)&&x<_max(target,"x")){data.skipX=1;} if(!data.skipY&&(yDif>threshold||yDif<-threshold)&&y<_max(target,"y")){data.skipY=1;} if(data.skipX&&data.skipY){tween.kill();data.vars.onAutoKill&&data.vars.onAutoKill.apply(tween,data.vars.onAutoKillParams||[]);}} if(isWin){_window.scrollTo(!data.skipX?data.x:x,!data.skipY?data.y:y);}else{data.skipY||(target.scrollTop=data.y);data.skipX||(target.scrollLeft=data.x);} if(snap&&(ratio===1||ratio===0)){y=target.scrollTop;x=target.scrollLeft;snapInline?target.style.scrollSnapType=snapInline:target.style.removeProperty("scroll-snap-type");target.scrollTop=y+1;target.scrollLeft=x+1;target.scrollTop=y;target.scrollLeft=x;} data.xPrev=data.x;data.yPrev=data.y;ScrollTrigger$1&&ScrollTrigger$1.update();},kill:function kill(property){var both=property==="scrollTo";if(both||property==="scrollTo_x"){this.skipX=1;} if(both||property==="scrollTo_y"){this.skipY=1;}}};ScrollToPlugin.max=_max;ScrollToPlugin.getOffset=_getOffset;ScrollToPlugin.buildGetter=_buildGetter;_getGSAP$8()&&gsap$a.registerPlugin(ScrollToPlugin);/*! * ScrollTrigger 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$b,_coreInitted$8,_win$7,_doc$6,_docEl$2,_body$5,_root$1,_resizeDelay,_toArray$4,_clamp$2,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp$3,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites$1,_ignoreResize,_normalizer$1,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context$3,_scrollRestoration,_limitCallbacks,_startup$1=1,_getTime$2=Date.now,_time1=_getTime$2(),_lastScrollTime=0,_enabled=0,_pointerDownHandler=function _pointerDownHandler(){return _pointerIsDown=1;},_pointerUpHandler=function _pointerUpHandler(){return _pointerIsDown=0;},_passThrough$1=function _passThrough(v){return v;},_round$5=function _round(value){return Math.round(value*100000)/100000||0;},_windowExists$7=function _windowExists(){return typeof window!=="undefined";},_getGSAP$9=function _getGSAP(){return gsap$b||_windowExists$7()&&(gsap$b=window.gsap)&&gsap$b.registerPlugin&&gsap$b;},_isViewport$1=function _isViewport(e){return!!~_root$1.indexOf(e);},_getBoundsFunc=function _getBoundsFunc(element){return _getProxyProp(element,"getBoundingClientRect")||(_isViewport$1(element)?function(){_winOffsets.width=_win$7.innerWidth;_winOffsets.height=_win$7.innerHeight;return _winOffsets;}:function(){return _getBounds$1(element);});},_getSizeFunc=function _getSizeFunc(scroller,isViewport,_ref){var d=_ref.d,d2=_ref.d2,a=_ref.a;return(a=_getProxyProp(scroller,"getBoundingClientRect"))?function(){return a()[d];}:function(){return(isViewport?_win$7["inner"+d2]:scroller["client"+d2])||0;};},_getOffsetsFunc=function _getOffsetsFunc(element,isViewport){return!isViewport||~exports._proxies.indexOf(element)?_getBoundsFunc(element):function(){return _winOffsets;};},_maxScroll=function _maxScroll(element,_ref2){var s=_ref2.s,d2=_ref2.d2,d=_ref2.d,a=_ref2.a;return(s="scroll"+d2)&&(a=_getProxyProp(element,s))?a()-_getBoundsFunc(element)()[d]:_isViewport$1(element)?(_docEl$2[s]||_body$5[s])-(_win$7["inner"+d2]||_docEl$2["client"+d2]||_body$5["client"+d2]):element[s]-element["offset"+d2];},_iterateAutoRefresh=function _iterateAutoRefresh(func,events){for(var i=0;i<_autoRefresh.length;i+=3){(!events||~events.indexOf(_autoRefresh[i+1]))&&func(_autoRefresh[i],_autoRefresh[i+1],_autoRefresh[i+2]);}},_isString$4=function _isString(value){return typeof value==="string";},_isFunction$4=function _isFunction(value){return typeof value==="function";},_isNumber$2=function _isNumber(value){return typeof value==="number";},_isObject$2=function _isObject(value){return typeof value==="object";},_endAnimation=function _endAnimation(animation,reversed,pause){return animation&&animation.progress(reversed?0:1)&&pause&&animation.pause();},_callback$1=function _callback(self,func){if(self.enabled){var result=func(self);result&&result.totalTime&&(self.callbackAnimation=result);}},_abs$1=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle$1=function _getComputedStyle(element){return _win$7.getComputedStyle(element);},_makePositionable=function _makePositionable(element){var position=_getComputedStyle$1(element).position;element.style.position=position==="absolute"||position==="fixed"?position:"relative";},_setDefaults$2=function _setDefaults(obj,defaults){for(var p in defaults){p in obj||(obj[p]=defaults[p]);} return obj;},_getBounds$1=function _getBounds(element,withoutTransforms){var tween=withoutTransforms&&_getComputedStyle$1(element)[_transformProp$3]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap$b.to(element,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),bounds=element.getBoundingClientRect();tween&&tween.progress(0).kill();return bounds;},_getSize=function _getSize(element,_ref3){var d2=_ref3.d2;return element["offset"+d2]||element["client"+d2]||0;},_getLabelRatioArray=function _getLabelRatioArray(timeline){var a=[],labels=timeline.labels,duration=timeline.duration(),p;for(p in labels){a.push(labels[p]/duration);} return a;},_getClosestLabel=function _getClosestLabel(animation){return function(value){return gsap$b.utils.snap(_getLabelRatioArray(animation),value);};},_snapDirectional=function _snapDirectional(snapIncrementOrArray){var snap=gsap$b.utils.snap(snapIncrementOrArray),a=Array.isArray(snapIncrementOrArray)&&snapIncrementOrArray.slice(0).sort(function(a,b){return a-b;});return a?function(value,direction,threshold){if(threshold===void 0){threshold=1e-3;} var i;if(!direction){return snap(value);} if(direction>0){value-=threshold;for(i=0;i=value){return a[i];}} return a[i-1];}else{i=a.length;value+=threshold;while(i--){if(a[i]<=value){return a[i];}}} return a[0];}:function(value,direction,threshold){if(threshold===void 0){threshold=1e-3;} var snapped=snap(value);return!direction||Math.abs(snapped-value)eqIndex&&(relative*=size/100);value=value.substr(0,eqIndex-1);} value=relative+(value in _keywords?_keywords[value]*size:~value.indexOf("%")?parseFloat(value)*size/100:parseFloat(value)||0);} return value;},_createMarker=function _createMarker(type,name,container,direction,_ref4,offset,matchWidthEl,containerAnimation){var startColor=_ref4.startColor,endColor=_ref4.endColor,fontSize=_ref4.fontSize,indent=_ref4.indent,fontWeight=_ref4.fontWeight;var e=_doc$6.createElement("div"),useFixedPosition=_isViewport$1(container)||_getProxyProp(container,"pinType")==="fixed",isScroller=type.indexOf("scroller")!==-1,parent=useFixedPosition?_body$5:container,isStart=type.indexOf("start")!==-1,color=isStart?startColor:endColor,css="border-color:"+color+";font-size:"+fontSize+";color:"+color+";font-weight:"+fontWeight+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";css+="position:"+((isScroller||containerAnimation)&&useFixedPosition?"fixed;":"absolute;");(isScroller||containerAnimation||!useFixedPosition)&&(css+=(direction===_vertical?_right:_bottom)+":"+(offset+parseFloat(indent))+"px;");matchWidthEl&&(css+="box-sizing:border-box;text-align:left;width:"+matchWidthEl.offsetWidth+"px;");e._isStart=isStart;e.setAttribute("class","gsap-marker-"+type+(name?" marker-"+name:""));e.style.cssText=css;e.innerText=name||name===0?type+"-"+name:type;parent.children[0]?parent.insertBefore(e,parent.children[0]):parent.appendChild(e);e._offset=e["offset"+direction.op.d2];_positionMarker(e,0,direction,isStart);return e;},_positionMarker=function _positionMarker(marker,start,direction,flipped){var vars={display:"block"},side=direction[flipped?"os2":"p2"],oppositeSide=direction[flipped?"p2":"os2"];marker._isFlipped=flipped;vars[direction.a+"Percent"]=flipped?-100:0;vars[direction.a]=flipped?"1px":0;vars["border"+side+_Width]=1;vars["border"+oppositeSide+_Width]=0;vars[direction.p]=start+"px";gsap$b.set(marker,vars);},_triggers=[],_ids={},_rafID,_sync=function _sync(){return _getTime$2()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll)));},_onScroll$1=function _onScroll(){if(!_normalizer$1||!_normalizer$1.isPressed||_normalizer$1.startX>_body$5.clientWidth){exports._scrollers.cache++;if(_normalizer$1){_rafID||(_rafID=requestAnimationFrame(_updateAll));}else{_updateAll();} _lastScrollTime||_dispatch$1("scrollStart");_lastScrollTime=_getTime$2();}},_setBaseDimensions=function _setBaseDimensions(){_baseScreenWidth=_win$7.innerWidth;_baseScreenHeight=_win$7.innerHeight;},_onResize=function _onResize(){exports._scrollers.cache++;!_refreshing&&!_ignoreResize&&!_doc$6.fullscreenElement&&!_doc$6.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win$7.innerWidth||Math.abs(_win$7.innerHeight-_baseScreenHeight)>_win$7.innerHeight*0.25)&&_resizeDelay.restart(true);},_listeners$1={},_emptyArray$1=[],_softRefresh=function _softRefresh(){return _removeListener$2(ScrollTrigger$2,"scrollEnd",_softRefresh)||_refreshAll(true);},_dispatch$1=function _dispatch(type){return _listeners$1[type]&&_listeners$1[type].map(function(f){return f();})||_emptyArray$1;},_savedStyles=[],_revertRecorded=function _revertRecorded(media){for(var i=0;i<_savedStyles.length;i+=5){if(!media||_savedStyles[i+4]&&_savedStyles[i+4].query===media){_savedStyles[i].style.cssText=_savedStyles[i+1];_savedStyles[i].getBBox&&_savedStyles[i].setAttribute("transform",_savedStyles[i+2]||"");_savedStyles[i+3].uncache=1;}}},_revertAll=function _revertAll(kill,media){var trigger;for(_i=0;_i<_triggers.length;_i++){trigger=_triggers[_i];if(trigger&&(!media||trigger._ctx===media)){if(kill){trigger.kill(1);}else{trigger.revert(true,true);}}} media&&_revertRecorded(media);media||_dispatch$1("revert");},_clearScrollMemory=function _clearScrollMemory(scrollRestoration,force){exports._scrollers.cache++;(force||!_refreshingAll)&&exports._scrollers.forEach(function(obj){return _isFunction$4(obj)&&obj.cacheID++&&(obj.rec=0);});_isString$4(scrollRestoration)&&(_win$7.history.scrollRestoration=_scrollRestoration=scrollRestoration);},_refreshingAll,_refreshID=0,_queueRefreshID,_queueRefreshAll=function _queueRefreshAll(){if(_queueRefreshID!==_refreshID){var id=_queueRefreshID=_refreshID;requestAnimationFrame(function(){return id===_refreshID&&_refreshAll(true);});}},_refreshAll=function _refreshAll(force,skipRevert){if(_lastScrollTime&&!force){_addListener$2(ScrollTrigger$2,"scrollEnd",_softRefresh);return;} _refreshingAll=ScrollTrigger$2.isRefreshing=true;exports._scrollers.forEach(function(obj){return _isFunction$4(obj)&&obj.cacheID++&&(obj.rec=obj());});var refreshInits=_dispatch$1("refreshInit");_sort&&ScrollTrigger$2.sort();skipRevert||_revertAll();exports._scrollers.forEach(function(obj){if(_isFunction$4(obj)){obj.smooth&&(obj.target.style.scrollBehavior="auto");obj(0);}});_triggers.slice(0).forEach(function(t){return t.refresh();});_triggers.forEach(function(t,i){if(t._subPinOffset&&t.pin){var prop=t.vars.horizontal?"offsetWidth":"offsetHeight",original=t.pin[prop];t.revert(true,1);t.adjustPinSpacing(t.pin[prop]-original);t.revert(false,1);}});_triggers.forEach(function(t){return t.vars.end==="max"&&t.setPositions(t.start,Math.max(t.start+1,_maxScroll(t.scroller,t._dir)));});refreshInits.forEach(function(result){return result&&result.render&&result.render(-1);});exports._scrollers.forEach(function(obj){if(_isFunction$4(obj)){obj.smooth&&requestAnimationFrame(function(){return obj.target.style.scrollBehavior="smooth";});obj.rec&&obj(obj.rec);}});_clearScrollMemory(_scrollRestoration,1);_resizeDelay.pause();_refreshID++;_updateAll(2);_triggers.forEach(function(t){return _isFunction$4(t.vars.onRefresh)&&t.vars.onRefresh(t);});_refreshingAll=ScrollTrigger$2.isRefreshing=false;_dispatch$1("refresh");},_lastScroll=0,_direction=1,_primary,_updateAll=function _updateAll(force){if(!_refreshingAll||force===2){ScrollTrigger$2.isUpdating=true;_primary&&_primary.update(0);var l=_triggers.length,time=_getTime$2(),recordVelocity=time-_time1>=50,scroll=l&&_triggers[0].scroll();_direction=_lastScroll>scroll?-1:1;_lastScroll=scroll;if(recordVelocity){if(_lastScrollTime&&!_pointerIsDown&&time-_lastScrollTime>200){_lastScrollTime=0;_dispatch$1("scrollEnd");} _time2=_time1;_time1=time;} if(_direction<0){_i=l;while(_i-->0){_triggers[_i]&&_triggers[_i].update(0,recordVelocity);} _direction=1;}else{for(_i=0;_i20);scrollerSize-=scrollerSize-globalOffset;}else if(markerScroller){_positionMarker(markerScroller,scrollerSize,direction,true);} if(marker){var position=value+scrollerSize,isStart=marker._isStart;p1="scroll"+direction.d2;_positionMarker(marker,position,direction,isStart&&position>20||!isStart&&(useFixedPosition?Math.max(_body$5[p1],_docEl$2[p1]):marker.parentNode[p1])<=position+1);if(useFixedPosition){scrollerBounds=_getBounds$1(markerScroller);useFixedPosition&&(marker.style[direction.op.p]=scrollerBounds[direction.op.p]-direction.op.m-marker._offset+_px);}} if(containerAnimation&&element){p1=_getBounds$1(element);containerAnimation.seek(scrollerMax);p2=_getBounds$1(element);containerAnimation._caScrollDist=p1[direction.p]-p2[direction.p];value=value/containerAnimation._caScrollDist*scrollerMax;} containerAnimation&&containerAnimation.seek(time);return containerAnimation?value:Math.round(value);},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function _reparent(element,parent,top,left){if(element.parentNode!==parent){var style=element.style,p,cs;if(parent===_body$5){element._stOrig=style.cssText;cs=_getComputedStyle$1(element);for(p in cs){if(!+p&&!_prefixExp.test(p)&&cs[p]&&typeof style[p]==="string"&&p!=="0"){style[p]=cs[p];}} style.top=top;style.left=left;}else{style.cssText=element._stOrig;} gsap$b.core.getCache(element).uncache=1;parent.appendChild(element);}},_getTweenCreator=function _getTweenCreator(scroller,direction){var getScroll=_getScrollFunc(scroller,direction),prop="_scroll"+direction.p2,lastScroll1,lastScroll2,getTween=function getTween(scrollTo,vars,initialValue,change1,change2){var tween=getTween.tween,onComplete=vars.onComplete,modifiers={};initialValue=initialValue||getScroll();change2=change1&&change2||0;change1=change1||scrollTo-initialValue;tween&&tween.kill();lastScroll1=Math.round(initialValue);vars[prop]=scrollTo;vars.modifiers=modifiers;modifiers[prop]=function(value){value=Math.round(getScroll());if(value!==lastScroll1&&value!==lastScroll2&&Math.abs(value-lastScroll1)>3&&Math.abs(value-lastScroll2)>3){tween.kill();getTween.tween=0;}else{value=initialValue+change1*tween.ratio+change2*tween.ratio*tween.ratio;} lastScroll2=lastScroll1;return lastScroll1=Math.round(value);};vars.onUpdate=function(){exports._scrollers.cache++;_updateAll();};vars.onComplete=function(){getTween.tween=0;onComplete&&onComplete.call(tween);};tween=getTween.tween=gsap$b.to(scroller,vars);return tween;};scroller[prop]=getScroll;getScroll.wheelHandler=function(){return getTween.tween&&getTween.tween.kill()&&(getTween.tween=0);};_addListener$2(scroller,"wheel",getScroll.wheelHandler);return getTween;};var ScrollTrigger$2=function(){function ScrollTrigger(vars,animation){_coreInitted$8||ScrollTrigger.register(gsap$b)||console.warn("Please gsap.registerPlugin(ScrollTrigger)");this.init(vars,animation);} var _proto=ScrollTrigger.prototype;_proto.init=function init(vars,animation){this.progress=this.start=0;this.vars&&this.kill(true,true);if(!_enabled){this.update=this.refresh=this.kill=_passThrough$1;return;} vars=_setDefaults$2(_isString$4(vars)||_isNumber$2(vars)||vars.nodeType?{trigger:vars}:vars,_defaults$1);var _vars=vars,onUpdate=_vars.onUpdate,toggleClass=_vars.toggleClass,id=_vars.id,onToggle=_vars.onToggle,onRefresh=_vars.onRefresh,scrub=_vars.scrub,trigger=_vars.trigger,pin=_vars.pin,pinSpacing=_vars.pinSpacing,invalidateOnRefresh=_vars.invalidateOnRefresh,anticipatePin=_vars.anticipatePin,onScrubComplete=_vars.onScrubComplete,onSnapComplete=_vars.onSnapComplete,once=_vars.once,snap=_vars.snap,pinReparent=_vars.pinReparent,pinSpacer=_vars.pinSpacer,containerAnimation=_vars.containerAnimation,fastScrollEnd=_vars.fastScrollEnd,preventOverlaps=_vars.preventOverlaps,direction=vars.horizontal||vars.containerAnimation&&vars.horizontal!==false?_horizontal:_vertical,isToggle=!scrub&&scrub!==0,scroller=_getTarget(vars.scroller||_win$7),scrollerCache=gsap$b.core.getCache(scroller),isViewport=_isViewport$1(scroller),useFixedPosition=("pinType"in vars?vars.pinType:_getProxyProp(scroller,"pinType")||isViewport&&"fixed")==="fixed",callbacks=[vars.onEnter,vars.onLeave,vars.onEnterBack,vars.onLeaveBack],toggleActions=isToggle&&vars.toggleActions.split(" "),markers="markers"in vars?vars.markers:_defaults$1.markers,borderWidth=isViewport?0:parseFloat(_getComputedStyle$1(scroller)["border"+direction.p2+_Width])||0,self=this,onRefreshInit=vars.onRefreshInit&&function(){return vars.onRefreshInit(self);},getScrollerSize=_getSizeFunc(scroller,isViewport,direction),getScrollerOffsets=_getOffsetsFunc(scroller,isViewport),lastSnap=0,lastRefresh=0,scrollFunc=_getScrollFunc(scroller,direction),tweenTo,pinCache,snapFunc,scroll1,scroll2,start,end,markerStart,markerEnd,markerStartTrigger,markerEndTrigger,markerVars,change,pinOriginalState,pinActiveState,pinState,spacer,offset,pinGetter,pinSetter,pinStart,pinChange,spacingStart,spacerState,markerStartSetter,pinMoves,markerEndSetter,cs,snap1,snap2,scrubTween,scrubSmooth,snapDurClamp,snapDelayedCall,prevProgress,prevScroll,prevAnimProgress,caMarkerSetter,customRevertReturn;_context$3(self);self._dir=direction;anticipatePin*=45;self.scroller=scroller;self.scroll=containerAnimation?containerAnimation.time.bind(containerAnimation):scrollFunc;scroll1=scrollFunc();self.vars=vars;animation=animation||vars.animation;if("refreshPriority"in vars){_sort=1;vars.refreshPriority===-9999&&(_primary=self);} scrollerCache.tweenScroll=scrollerCache.tweenScroll||{top:_getTweenCreator(scroller,_vertical),left:_getTweenCreator(scroller,_horizontal)};self.tweenTo=tweenTo=scrollerCache.tweenScroll[direction.p];self.scrubDuration=function(value){scrubSmooth=_isNumber$2(value)&&value;if(!scrubSmooth){scrubTween&&scrubTween.progress(1).kill();scrubTween=0;}else{scrubTween?scrubTween.duration(value):scrubTween=gsap$b.to(animation,{ease:"expo",totalProgress:"+=0.001",duration:scrubSmooth,paused:true,onComplete:function onComplete(){return onScrubComplete&&onScrubComplete(self);}});}};if(animation){animation.vars.lazy=false;animation._initted||animation.vars.immediateRender!==false&&vars.immediateRender!==false&&animation.duration()&&animation.render(0,true,true);self.animation=animation.pause();animation.scrollTrigger=self;self.scrubDuration(scrub);snap1=0;id||(id=animation.vars.id);} _triggers.push(self);if(snap){if(!_isObject$2(snap)||snap.push){snap={snapTo:snap};} "scrollBehavior"in _body$5.style&&gsap$b.set(isViewport?[_body$5,_docEl$2]:scroller,{scrollBehavior:"auto"});exports._scrollers.forEach(function(o){return _isFunction$4(o)&&o.target===(isViewport?_doc$6.scrollingElement||_docEl$2:scroller)&&(o.smooth=false);});snapFunc=_isFunction$4(snap.snapTo)?snap.snapTo:snap.snapTo==="labels"?_getClosestLabel(animation):snap.snapTo==="labelsDirectional"?_getLabelAtDirection(animation):snap.directional!==false?function(value,st){return _snapDirectional(snap.snapTo)(value,_getTime$2()-lastRefresh<500?0:st.direction);}:gsap$b.utils.snap(snap.snapTo);snapDurClamp=snap.duration||{min:0.1,max:2};snapDurClamp=_isObject$2(snapDurClamp)?_clamp$2(snapDurClamp.min,snapDurClamp.max):_clamp$2(snapDurClamp,snapDurClamp);snapDelayedCall=gsap$b.delayedCall(snap.delay||scrubSmooth/2||0.1,function(){var scroll=scrollFunc(),refreshedRecently=_getTime$2()-lastRefresh<500,tween=tweenTo.tween;if((refreshedRecently||Math.abs(self.getVelocity())<10)&&!tween&&!_pointerIsDown&&lastSnap!==scroll){var progress=(scroll-start)/change,totalProgress=animation&&!isToggle?animation.totalProgress():progress,velocity=refreshedRecently?0:(totalProgress-snap2)/(_getTime$2()-_time2)*1000||0,change1=gsap$b.utils.clamp(-progress,1-progress,_abs$1(velocity/2)*velocity/0.185),naturalEnd=progress+(snap.inertia===false?0:change1),endValue=_clamp$2(0,1,snapFunc(naturalEnd,self)),endScroll=Math.round(start+endValue*change),_snap=snap,onStart=_snap.onStart,_onInterrupt=_snap.onInterrupt,_onComplete=_snap.onComplete;if(scroll<=end&&scroll>=start&&endScroll!==scroll){if(tween&&!tween._initted&&tween.data<=_abs$1(endScroll-scroll)){return;} if(snap.inertia===false){change1=endValue-progress;} tweenTo(endScroll,{duration:snapDurClamp(_abs$1(Math.max(_abs$1(naturalEnd-totalProgress),_abs$1(endValue-totalProgress))*0.185/velocity/0.05||0)),ease:snap.ease||"power3",data:_abs$1(endScroll-scroll),onInterrupt:function onInterrupt(){return snapDelayedCall.restart(true)&&_onInterrupt&&_onInterrupt(self);},onComplete:function onComplete(){self.update();lastSnap=scrollFunc();snap1=snap2=animation&&!isToggle?animation.totalProgress():self.progress;onSnapComplete&&onSnapComplete(self);_onComplete&&_onComplete(self);}},scroll,change1*change,endScroll-scroll-change1*change);onStart&&onStart(self,tweenTo.tween);}}else if(self.isActive&&lastSnap!==scroll){snapDelayedCall.restart(true);}}).pause();} id&&(_ids[id]=self);trigger=self.trigger=_getTarget(trigger||pin);customRevertReturn=trigger&&trigger._gsap&&trigger._gsap.stRevert;customRevertReturn&&(customRevertReturn=customRevertReturn(self));pin=pin===true?trigger:_getTarget(pin);_isString$4(toggleClass)&&(toggleClass={targets:trigger,className:toggleClass});if(pin){pinSpacing===false||pinSpacing===_margin||(pinSpacing=!pinSpacing&&pin.parentNode&&pin.parentNode.style&&_getComputedStyle$1(pin.parentNode).display==="flex"?false:_padding);self.pin=pin;pinCache=gsap$b.core.getCache(pin);if(!pinCache.spacer){if(pinSpacer){pinSpacer=_getTarget(pinSpacer);pinSpacer&&!pinSpacer.nodeType&&(pinSpacer=pinSpacer.current||pinSpacer.nativeElement);pinCache.spacerIsNative=!!pinSpacer;pinSpacer&&(pinCache.spacerState=_getState(pinSpacer));} pinCache.spacer=spacer=pinSpacer||_doc$6.createElement("div");spacer.classList.add("pin-spacer");id&&spacer.classList.add("pin-spacer-"+id);pinCache.pinState=pinOriginalState=_getState(pin);}else{pinOriginalState=pinCache.pinState;} vars.force3D!==false&&gsap$b.set(pin,{force3D:true});self.spacer=spacer=pinCache.spacer;cs=_getComputedStyle$1(pin);spacingStart=cs[pinSpacing+direction.os2];pinGetter=gsap$b.getProperty(pin);pinSetter=gsap$b.quickSetter(pin,direction.a,_px);_swapPinIn(pin,spacer,cs);pinState=_getState(pin);} if(markers){markerVars=_isObject$2(markers)?_setDefaults$2(markers,_markerDefaults):_markerDefaults;markerStartTrigger=_createMarker("scroller-start",id,scroller,direction,markerVars,0);markerEndTrigger=_createMarker("scroller-end",id,scroller,direction,markerVars,0,markerStartTrigger);offset=markerStartTrigger["offset"+direction.op.d2];var content=_getTarget(_getProxyProp(scroller,"content")||scroller);markerStart=this.markerStart=_createMarker("start",id,content,direction,markerVars,offset,0,containerAnimation);markerEnd=this.markerEnd=_createMarker("end",id,content,direction,markerVars,offset,0,containerAnimation);containerAnimation&&(caMarkerSetter=gsap$b.quickSetter([markerStart,markerEnd],direction.a,_px));if(!useFixedPosition&&!(exports._proxies.length&&_getProxyProp(scroller,"fixedMarkers")===true)){_makePositionable(isViewport?_body$5:scroller);gsap$b.set([markerStartTrigger,markerEndTrigger],{force3D:true});markerStartSetter=gsap$b.quickSetter(markerStartTrigger,direction.a,_px);markerEndSetter=gsap$b.quickSetter(markerEndTrigger,direction.a,_px);}} if(containerAnimation){var oldOnUpdate=containerAnimation.vars.onUpdate,oldParams=containerAnimation.vars.onUpdateParams;containerAnimation.eventCallback("onUpdate",function(){self.update(0,0,1);oldOnUpdate&&oldOnUpdate.apply(oldParams||[]);});} self.previous=function(){return _triggers[_triggers.indexOf(self)-1];};self.next=function(){return _triggers[_triggers.indexOf(self)+1];};self.revert=function(revert,temp){if(!temp){return self.kill(true);} var r=revert!==false||!self.enabled,prevRefreshing=_refreshing;if(r!==self.isReverted){if(r){prevScroll=Math.max(scrollFunc(),self.scroll.rec||0);prevProgress=self.progress;prevAnimProgress=animation&&animation.progress();} markerStart&&[markerStart,markerEnd,markerStartTrigger,markerEndTrigger].forEach(function(m){return m.style.display=r?"none":"block";});if(r){_refreshing=1;self.update(r);} if(pin&&(!pinReparent||!self.isActive)){if(r){_swapPinOut(pin,spacer,pinOriginalState);}else{_swapPinIn(pin,spacer,_getComputedStyle$1(pin),spacerState);}} r||self.update(r);_refreshing=prevRefreshing;self.isReverted=r;}};self.refresh=function(soft,force){if((_refreshing||!self.enabled)&&!force){return;} if(pin&&soft&&_lastScrollTime){_addListener$2(ScrollTrigger,"scrollEnd",_softRefresh);return;} !_refreshingAll&&onRefreshInit&&onRefreshInit(self);_refreshing=1;lastRefresh=_getTime$2();if(tweenTo.tween){tweenTo.tween.kill();tweenTo.tween=0;} scrubTween&&scrubTween.pause();invalidateOnRefresh&&animation&&animation.revert({kill:false}).invalidate();self.isReverted||self.revert(true,true);self._subPinOffset=false;var size=getScrollerSize(),scrollerBounds=getScrollerOffsets(),max=containerAnimation?containerAnimation.duration():_maxScroll(scroller,direction),offset=0,otherPinOffset=0,parsedEnd=vars.end,parsedEndTrigger=vars.endTrigger||trigger,parsedStart=vars.start||(vars.start===0||!trigger?0:pin?"0 0":"0 100%"),pinnedContainer=self.pinnedContainer=vars.pinnedContainer&&_getTarget(vars.pinnedContainer),triggerIndex=trigger&&Math.max(0,_triggers.indexOf(self))||0,i=triggerIndex,cs,bounds,scroll,isVertical,override,curTrigger,curPin,oppositeScroll,initted,revertedPins,forcedOverflow;while(i--){curTrigger=_triggers[i];curTrigger.end||curTrigger.refresh(0,1)||(_refreshing=1);curPin=curTrigger.pin;if(curPin&&(curPin===trigger||curPin===pin)&&!curTrigger.isReverted){revertedPins||(revertedPins=[]);revertedPins.unshift(curTrigger);curTrigger.revert(true,true);} if(curTrigger!==_triggers[i]){triggerIndex--;i--;}} _isFunction$4(parsedStart)&&(parsedStart=parsedStart(self));start=_parsePosition$1(parsedStart,trigger,size,direction,scrollFunc(),markerStart,markerStartTrigger,self,scrollerBounds,borderWidth,useFixedPosition,max,containerAnimation)||(pin?-0.001:0);_isFunction$4(parsedEnd)&&(parsedEnd=parsedEnd(self));if(_isString$4(parsedEnd)&&!parsedEnd.indexOf("+=")){if(~parsedEnd.indexOf(" ")){parsedEnd=(_isString$4(parsedStart)?parsedStart.split(" ")[0]:"")+parsedEnd;}else{offset=_offsetToPx(parsedEnd.substr(2),size);parsedEnd=_isString$4(parsedStart)?parsedStart:start+offset;parsedEndTrigger=trigger;}} end=Math.max(start,_parsePosition$1(parsedEnd||(parsedEndTrigger?"100% 0":max),parsedEndTrigger,size,direction,scrollFunc()+offset,markerEnd,markerEndTrigger,self,scrollerBounds,borderWidth,useFixedPosition,max,containerAnimation))||-0.001;change=end-start||(start-=0.01)&&0.001;offset=0;i=triggerIndex;while(i--){curTrigger=_triggers[i];curPin=curTrigger.pin;if(curPin&&curTrigger.start-curTrigger._pinPush<=start&&!containerAnimation&&curTrigger.end>0){cs=curTrigger.end-curTrigger.start;if((curPin===trigger&&curTrigger.start-curTrigger._pinPush1){forcedOverflow=(isViewport?_doc$6.scrollingElement||_docEl$2:scroller).style;forcedOverflow={style:forcedOverflow,value:forcedOverflow["overflow"+direction.a.toUpperCase()]};forcedOverflow["overflow"+direction.a.toUpperCase()]="scroll";} _swapPinIn(pin,spacer,cs);pinState=_getState(pin);bounds=_getBounds$1(pin,true);oppositeScroll=useFixedPosition&&_getScrollFunc(scroller,isVertical?_horizontal:_vertical)();if(pinSpacing){spacerState=[pinSpacing+direction.os2,change+otherPinOffset+_px];spacerState.t=spacer;i=pinSpacing===_padding?_getSize(pin,direction)+change+otherPinOffset:0;i&&spacerState.push(direction.d,i+_px);_setState(spacerState);if(pinnedContainer){_triggers.forEach(function(t){if(t.pin===pinnedContainer&&t.vars.pinSpacing!==false){t._subPinOffset=true;}});} useFixedPosition&&scrollFunc(prevScroll);} if(useFixedPosition){override={top:bounds.top+(isVertical?scroll-start:oppositeScroll)+_px,left:bounds.left+(isVertical?oppositeScroll:scroll-start)+_px,boxSizing:"border-box",position:"fixed"};override[_width]=override["max"+_Width]=Math.ceil(bounds.width)+_px;override[_height]=override["max"+_Height]=Math.ceil(bounds.height)+_px;override[_margin]=override[_margin+_Top]=override[_margin+_Right]=override[_margin+_Bottom]=override[_margin+_Left]="0";override[_padding]=cs[_padding];override[_padding+_Top]=cs[_padding+_Top];override[_padding+_Right]=cs[_padding+_Right];override[_padding+_Bottom]=cs[_padding+_Bottom];override[_padding+_Left]=cs[_padding+_Left];pinActiveState=_copyState(pinOriginalState,override,pinReparent);_refreshingAll&&scrollFunc(0);} if(animation){initted=animation._initted;_suppressOverwrites$1(1);animation.render(animation.duration(),true,true);pinChange=pinGetter(direction.a)-pinStart+change+otherPinOffset;pinMoves=Math.abs(change-pinChange)>1;useFixedPosition&&pinMoves&&pinActiveState.splice(pinActiveState.length-2,2);animation.render(0,true,true);initted||animation.invalidate(true);animation.parent||animation.totalTime(animation.totalTime());_suppressOverwrites$1(0);}else{pinChange=change;} forcedOverflow&&(forcedOverflow.value?forcedOverflow.style["overflow"+direction.a.toUpperCase()]=forcedOverflow.value:forcedOverflow.style.removeProperty("overflow-"+direction.a));}else if(trigger&&scrollFunc()&&!containerAnimation){bounds=trigger.parentNode;while(bounds&&bounds!==_body$5){if(bounds._pinOffset){start-=bounds._pinOffset;end-=bounds._pinOffset;} bounds=bounds.parentNode;}} revertedPins&&revertedPins.forEach(function(t){return t.revert(false,true);});self.start=start;self.end=end;scroll1=scroll2=_refreshingAll?prevScroll:scrollFunc();if(!containerAnimation&&!_refreshingAll){scroll10?_triggers.slice(0,i).reverse():_triggers.slice(i+1);return(_isString$4(name)?a.filter(function(t){return t.vars.preventOverlaps===name;}):a).filter(function(t){return self.direction>0?t.end<=start:t.start>=end;});};self.update=function(reset,recordVelocity,forceFake){if(containerAnimation&&!forceFake&&!reset){return;} var scroll=_refreshingAll?prevScroll:self.scroll(),p=reset?0:(scroll-start)/change,clipped=p<0?0:p>1?1:p||0,prevProgress=self.progress,isActive,wasActive,toggleState,action,stateChanged,toggled,isAtMax,isTakingAction;if(recordVelocity){scroll2=scroll1;scroll1=containerAnimation?scrollFunc():scroll;if(snap){snap2=snap1;snap1=animation&&!isToggle?animation.totalProgress():clipped;}} anticipatePin&&!clipped&&pin&&!_refreshing&&!_startup$1&&_lastScrollTime&&startprevProgress?1:-1;self.progress=clipped;if(stateChanged&&!_refreshing){toggleState=clipped&&!prevProgress?0:clipped===1?1:prevProgress===1?2:3;if(isToggle){action=!toggled&&toggleActions[toggleState+1]!=="none"&&toggleActions[toggleState+1]||toggleActions[toggleState];isTakingAction=animation&&(action==="complete"||action==="reset"||action in animation);}} preventOverlaps&&(toggled||isTakingAction)&&(isTakingAction||scrub||!animation)&&(_isFunction$4(preventOverlaps)?preventOverlaps(self):self.getTrailing(preventOverlaps).forEach(function(t){return t.endAnimation();}));if(!isToggle){if(scrubTween&&!_refreshing&&!_startup$1){scrubTween._dp._time-scrubTween._start!==scrubTween._time&&scrubTween.render(scrubTween._dp._time-scrubTween._start);if(scrubTween.resetTo){scrubTween.resetTo("totalProgress",clipped,animation._tTime/animation._tDur);}else{scrubTween.vars.totalProgress=clipped;scrubTween.invalidate().restart();}}else if(animation){animation.totalProgress(clipped,!!_refreshing);}} if(pin){reset&&pinSpacing&&(spacer.style[pinSpacing+direction.os2]=spacingStart);if(!useFixedPosition){pinSetter(_round$5(pinStart+pinChange*clipped));}else if(stateChanged){isAtMax=!reset&&clipped>prevProgress&&end+1>scroll&&scroll+1>=_maxScroll(scroller,direction);if(pinReparent){if(!reset&&(isActive||isAtMax)){var bounds=_getBounds$1(pin,true),_offset=scroll-start;_reparent(pin,_body$5,bounds.top+(direction===_vertical?_offset:0)+_px,bounds.left+(direction===_vertical?0:_offset)+_px);}else{_reparent(pin,spacer);}} _setState(isActive||isAtMax?pinActiveState:pinState);pinMoves&&clipped<1&&isActive||pinSetter(pinStart+(clipped===1&&!isAtMax?pinChange:0));}} snap&&!tweenTo.tween&&!_refreshing&&!_startup$1&&snapDelayedCall.restart(true);toggleClass&&(toggled||once&&clipped&&(clipped<1||!_limitCallbacks))&&_toArray$4(toggleClass.targets).forEach(function(el){return el.classList[isActive||once?"add":"remove"](toggleClass.className);});onUpdate&&!isToggle&&!reset&&onUpdate(self);if(stateChanged&&!_refreshing){if(isToggle){if(isTakingAction){if(action==="complete"){animation.pause().totalProgress(1);}else if(action==="reset"){animation.restart(true).pause();}else if(action==="restart"){animation.restart(true);}else{animation[action]();}} onUpdate&&onUpdate(self);} if(toggled||!_limitCallbacks){onToggle&&toggled&&_callback$1(self,onToggle);callbacks[toggleState]&&_callback$1(self,callbacks[toggleState]);once&&(clipped===1?self.kill(false,1):callbacks[toggleState]=0);if(!toggled){toggleState=clipped===1?1:3;callbacks[toggleState]&&_callback$1(self,callbacks[toggleState]);}} if(fastScrollEnd&&!isActive&&Math.abs(self.getVelocity())>(_isNumber$2(fastScrollEnd)?fastScrollEnd:2500)){_endAnimation(self.callbackAnimation);scrubTween?scrubTween.progress(1):_endAnimation(animation,action==="reverse"?1:!clipped,1);}}else if(isToggle&&onUpdate&&!_refreshing){onUpdate(self);}} if(markerEndSetter){var n=containerAnimation?scroll/containerAnimation.duration()*(containerAnimation._caScrollDist||0):scroll;markerStartSetter(n+(markerStartTrigger._isFlipped?1:0));markerEndSetter(n);} caMarkerSetter&&caMarkerSetter(-scroll/containerAnimation.duration()*(containerAnimation._caScrollDist||0));};self.enable=function(reset,refresh){if(!self.enabled){self.enabled=true;_addListener$2(scroller,"resize",_onResize);_addListener$2(isViewport?_doc$6:scroller,"scroll",_onScroll$1);onRefreshInit&&_addListener$2(ScrollTrigger,"refreshInit",onRefreshInit);if(reset!==false){self.progress=prevProgress=0;scroll1=scroll2=lastSnap=scrollFunc();} refresh!==false&&self.refresh();}};self.getTween=function(snap){return snap&&tweenTo?tweenTo.tween:scrubTween;};self.setPositions=function(newStart,newEnd){if(pin){pinStart+=newStart-start;pinChange+=newEnd-newStart-change;pinSpacing===_padding&&self.adjustPinSpacing(newEnd-newStart-change);} self.start=start=newStart;self.end=end=newEnd;change=newEnd-newStart;self.update();};self.adjustPinSpacing=function(amount){if(spacerState){var i=spacerState.indexOf(direction.d)+1;spacerState[i]=parseFloat(spacerState[i])+amount+_px;spacerState[1]=parseFloat(spacerState[1])+amount+_px;_setState(spacerState);}};self.disable=function(reset,allowAnimation){if(self.enabled){reset!==false&&self.revert(true,true);self.enabled=self.isActive=false;allowAnimation||scrubTween&&scrubTween.pause();prevScroll=0;pinCache&&(pinCache.uncache=1);onRefreshInit&&_removeListener$2(ScrollTrigger,"refreshInit",onRefreshInit);if(snapDelayedCall){snapDelayedCall.pause();tweenTo.tween&&tweenTo.tween.kill()&&(tweenTo.tween=0);} if(!isViewport){var i=_triggers.length;while(i--){if(_triggers[i].scroller===scroller&&_triggers[i]!==self){return;}} _removeListener$2(scroller,"resize",_onResize);_removeListener$2(scroller,"scroll",_onScroll$1);}}};self.kill=function(revert,allowAnimation){self.disable(revert,allowAnimation);scrubTween&&!allowAnimation&&scrubTween.kill();id&&delete _ids[id];var i=_triggers.indexOf(self);i>=0&&_triggers.splice(i,1);i===_i&&_direction>0&&_i--;i=0;_triggers.forEach(function(t){return t.scroller===self.scroller&&(i=1);});i||_refreshingAll||(self.scroll.rec=0);if(animation){animation.scrollTrigger=null;revert&&animation.revert({kill:false});allowAnimation||animation.kill();} markerStart&&[markerStart,markerEnd,markerStartTrigger,markerEndTrigger].forEach(function(m){return m.parentNode&&m.parentNode.removeChild(m);});_primary===self&&(_primary=0);if(pin){pinCache&&(pinCache.uncache=1);i=0;_triggers.forEach(function(t){return t.pin===pin&&i++;});i||(pinCache.spacer=0);} vars.onKill&&vars.onKill(self);};self.enable(false,false);customRevertReturn&&customRevertReturn(self);!animation||!animation.add||change?self.refresh():gsap$b.delayedCall(0.01,function(){return start||end||self.refresh();})&&(change=0.01)&&(start=end=0);pin&&_queueRefreshAll();};ScrollTrigger.register=function register(core){if(!_coreInitted$8){gsap$b=core||_getGSAP$9();_windowExists$7()&&window.document&&ScrollTrigger.enable();_coreInitted$8=_enabled;} return _coreInitted$8;};ScrollTrigger.defaults=function defaults(config){if(config){for(var p in config){_defaults$1[p]=config[p];}} return _defaults$1;};ScrollTrigger.disable=function disable(reset,kill){_enabled=0;_triggers.forEach(function(trigger){return trigger[kill?"kill":"disable"](reset);});_removeListener$2(_win$7,"wheel",_onScroll$1);_removeListener$2(_doc$6,"scroll",_onScroll$1);clearInterval(_syncInterval);_removeListener$2(_doc$6,"touchcancel",_passThrough$1);_removeListener$2(_body$5,"touchstart",_passThrough$1);_multiListener(_removeListener$2,_doc$6,"pointerdown,touchstart,mousedown",_pointerDownHandler);_multiListener(_removeListener$2,_doc$6,"pointerup,touchend,mouseup",_pointerUpHandler);_resizeDelay.kill();_iterateAutoRefresh(_removeListener$2);for(var i=0;i0&&bounds.left+offset<_win$7.innerWidth:bounds.bottom-offset>0&&bounds.top+offset<_win$7.innerHeight;};ScrollTrigger.positionInViewport=function positionInViewport(element,referencePoint,horizontal){_isString$4(element)&&(element=_getTarget(element));var bounds=element.getBoundingClientRect(),size=bounds[horizontal?_width:_height],offset=referencePoint==null?size/2:referencePoint in _keywords?_keywords[referencePoint]*size:~referencePoint.indexOf("%")?parseFloat(referencePoint)*size/100:parseFloat(referencePoint)||0;return horizontal?(bounds.left+offset)/_win$7.innerWidth:(bounds.top+offset)/_win$7.innerHeight;};ScrollTrigger.killAll=function killAll(allowListeners){_triggers.slice(0).forEach(function(t){return t.vars.id!=="ScrollSmoother"&&t.kill();});if(allowListeners!==true){var listeners=_listeners$1.killAll||[];_listeners$1={};listeners.forEach(function(f){return f();});}};return ScrollTrigger;}();ScrollTrigger$2.version="3.11.4";ScrollTrigger$2.saveStyles=function(targets){return targets?_toArray$4(targets).forEach(function(target){if(target&&target.style){var i=_savedStyles.indexOf(target);i>=0&&_savedStyles.splice(i,5);_savedStyles.push(target,target.style.cssText,target.getBBox&&target.getAttribute("transform"),gsap$b.core.getCache(target),_context$3());}}):_savedStyles;};ScrollTrigger$2.revert=function(soft,media){return _revertAll(!soft,media);};ScrollTrigger$2.create=function(vars,animation){return new ScrollTrigger$2(vars,animation);};ScrollTrigger$2.refresh=function(safe){return safe?_onResize():(_coreInitted$8||ScrollTrigger$2.register())&&_refreshAll(true);};ScrollTrigger$2.update=function(force){return++exports._scrollers.cache&&_updateAll(force===true?2:0);};ScrollTrigger$2.clearScrollMemory=_clearScrollMemory;ScrollTrigger$2.maxScroll=function(element,horizontal){return _maxScroll(element,horizontal?_horizontal:_vertical);};ScrollTrigger$2.getScrollFunc=function(element,horizontal){return _getScrollFunc(_getTarget(element),horizontal?_horizontal:_vertical);};ScrollTrigger$2.getById=function(id){return _ids[id];};ScrollTrigger$2.getAll=function(){return _triggers.filter(function(t){return t.vars.id!=="ScrollSmoother";});};ScrollTrigger$2.isScrolling=function(){return!!_lastScrollTime;};ScrollTrigger$2.snapDirectional=_snapDirectional;ScrollTrigger$2.addEventListener=function(type,callback){var a=_listeners$1[type]||(_listeners$1[type]=[]);~a.indexOf(callback)||a.push(callback);};ScrollTrigger$2.removeEventListener=function(type,callback){var a=_listeners$1[type],i=a&&a.indexOf(callback);i>=0&&a.splice(i,1);};ScrollTrigger$2.batch=function(targets,vars){var result=[],varsCopy={},interval=vars.interval||0.016,batchMax=vars.batchMax||1e9,proxyCallback=function proxyCallback(type,callback){var elements=[],triggers=[],delay=gsap$b.delayedCall(interval,function(){callback(elements,triggers);elements=[];triggers=[];}).pause();return function(self){elements.length||delay.restart(true);elements.push(self.trigger);triggers.push(self);batchMax<=elements.length&&delay.progress(1);};},p;for(p in vars){varsCopy[p]=p.substr(0,2)==="on"&&_isFunction$4(vars[p])&&p!=="onRefreshInit"?proxyCallback(p,vars[p]):vars[p];} if(_isFunction$4(batchMax)){batchMax=batchMax();_addListener$2(ScrollTrigger$2,"refresh",function(){return batchMax=vars.batchMax();});} _toArray$4(targets).forEach(function(target){var config={};for(p in varsCopy){config[p]=varsCopy[p];} config.trigger=target;result.push(ScrollTrigger$2.create(config));});return result;};var _clampScrollAndGetDurationMultiplier=function _clampScrollAndGetDurationMultiplier(scrollFunc,current,end,max){current>max?scrollFunc(max):current<0&&scrollFunc(0);return end>max?(max-current)/(end-current):end<0?current/(current-end):1;},_allowNativePanning=function _allowNativePanning(target,direction){if(direction===true){target.style.removeProperty("touch-action");}else{target.style.touchAction=direction===true?"auto":direction?"pan-"+direction+(Observer.isTouch?" pinch-zoom":""):"none";} target===_docEl$2&&_allowNativePanning(_body$5,direction);},_overflow={auto:1,scroll:1},_nestedScroll=function _nestedScroll(_ref5){var event=_ref5.event,target=_ref5.target,axis=_ref5.axis;var node=(event.changedTouches?event.changedTouches[0]:event).target,cache=node._gsap||gsap$b.core.getCache(node),time=_getTime$2(),cs;if(!cache._isScrollT||time-cache._isScrollT>2000){while(node&&node!==_body$5&&(node.scrollHeight<=node.clientHeight&&node.scrollWidth<=node.clientWidth||!(_overflow[(cs=_getComputedStyle$1(node)).overflowY]||_overflow[cs.overflowX]))){node=node.parentNode;} cache._isScroll=node&&node!==target&&!_isViewport$1(node)&&(_overflow[(cs=_getComputedStyle$1(node)).overflowY]||_overflow[cs.overflowX]);cache._isScrollT=time;} if(cache._isScroll||axis==="x"){event.stopPropagation();event._gsapAllow=true;}},_inputObserver=function _inputObserver(target,type,inputs,nested){return Observer.create({target:target,capture:true,debounce:false,lockAxis:true,type:type,onWheel:nested=nested&&_nestedScroll,onPress:nested,onDrag:nested,onScroll:nested,onEnable:function onEnable(){return inputs&&_addListener$2(_doc$6,Observer.eventTypes[0],_captureInputs,false,true);},onDisable:function onDisable(){return _removeListener$2(_doc$6,Observer.eventTypes[0],_captureInputs,true);}});},_inputExp=/(input|label|select|textarea)/i,_inputIsFocused,_captureInputs=function _captureInputs(e){var isInput=_inputExp.test(e.target.tagName);if(isInput||_inputIsFocused){e._gsapAllow=true;_inputIsFocused=isInput;}},_getScrollNormalizer=function _getScrollNormalizer(vars){_isObject$2(vars)||(vars={});vars.preventDefault=vars.isNormalizer=vars.allowClicks=true;vars.type||(vars.type="wheel,touch");vars.debounce=!!vars.debounce;vars.id=vars.id||"normalizer";var _vars2=vars,normalizeScrollX=_vars2.normalizeScrollX,momentum=_vars2.momentum,allowNestedScroll=_vars2.allowNestedScroll,self,maxY,target=_getTarget(vars.target)||_docEl$2,smoother=gsap$b.core.globals().ScrollSmoother,smootherInstance=smoother&&smoother.get(),content=_fixIOSBug&&(vars.content&&_getTarget(vars.content)||smootherInstance&&vars.content!==false&&!smootherInstance.smooth()&&smootherInstance.content()),scrollFuncY=_getScrollFunc(target,_vertical),scrollFuncX=_getScrollFunc(target,_horizontal),scale=1,initialScale=(Observer.isTouch&&_win$7.visualViewport?_win$7.visualViewport.scale*_win$7.visualViewport.width:_win$7.outerWidth)/_win$7.innerWidth,wheelRefresh=0,resolveMomentumDuration=_isFunction$4(momentum)?function(){return momentum(self);}:function(){return momentum||2.8;},lastRefreshID,skipTouchMove,inputObserver=_inputObserver(target,vars.type,true,allowNestedScroll),resumeTouchMove=function resumeTouchMove(){return skipTouchMove=false;},scrollClampX=_passThrough$1,scrollClampY=_passThrough$1,updateClamps=function updateClamps(){maxY=_maxScroll(target,_vertical);scrollClampY=_clamp$2(_fixIOSBug?1:0,maxY);normalizeScrollX&&(scrollClampX=_clamp$2(0,_maxScroll(target,_horizontal)));lastRefreshID=_refreshID;},removeContentOffset=function removeContentOffset(){content._gsap.y=_round$5(parseFloat(content._gsap.y)+scrollFuncY.offset)+"px";content.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(content._gsap.y)+", 0, 1)";scrollFuncY.offset=scrollFuncY.cacheID=0;},ignoreDrag=function ignoreDrag(){if(skipTouchMove){requestAnimationFrame(resumeTouchMove);var offset=_round$5(self.deltaY/2),scroll=scrollClampY(scrollFuncY.v-offset);if(content&&scroll!==scrollFuncY.v+scrollFuncY.offset){scrollFuncY.offset=scroll-scrollFuncY.v;var y=_round$5((parseFloat(content&&content._gsap.y)||0)-scrollFuncY.offset);content.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+y+", 0, 1)";content._gsap.y=y+"px";scrollFuncY.cacheID=exports._scrollers.cache;_updateAll();} return true;} scrollFuncY.offset&&removeContentOffset();skipTouchMove=true;},tween,startScrollX,startScrollY,onStopDelayedCall,onResize=function onResize(){updateClamps();if(tween.isActive()&&tween.vars.scrollY>maxY){scrollFuncY()>maxY?tween.progress(1)&&scrollFuncY(maxY):tween.resetTo("scrollY",maxY);}};content&&gsap$b.set(content,{y:"+=0"});vars.ignoreCheck=function(e){return _fixIOSBug&&e.type==="touchmove"&&ignoreDrag()||scale>1.05&&e.type!=="touchstart"||self.isGesturing||e.touches&&e.touches.length>1;};vars.onPress=function(){var prevScale=scale;scale=_round$5((_win$7.visualViewport&&_win$7.visualViewport.scale||1)/initialScale);tween.pause();prevScale!==scale&&_allowNativePanning(target,scale>1.01?true:normalizeScrollX?false:"x");startScrollX=scrollFuncX();startScrollY=scrollFuncY();updateClamps();lastRefreshID=_refreshID;};vars.onRelease=vars.onGestureStart=function(self,wasDragging){scrollFuncY.offset&&removeContentOffset();if(!wasDragging){onStopDelayedCall.restart(true);}else{exports._scrollers.cache++;var dur=resolveMomentumDuration(),currentScroll,endScroll;if(normalizeScrollX){currentScroll=scrollFuncX();endScroll=currentScroll+dur*0.05*-self.velocityX/0.227;dur*=_clampScrollAndGetDurationMultiplier(scrollFuncX,currentScroll,endScroll,_maxScroll(target,_horizontal));tween.vars.scrollX=scrollClampX(endScroll);} currentScroll=scrollFuncY();endScroll=currentScroll+dur*0.05*-self.velocityY/0.227;dur*=_clampScrollAndGetDurationMultiplier(scrollFuncY,currentScroll,endScroll,_maxScroll(target,_vertical));tween.vars.scrollY=scrollClampY(endScroll);tween.invalidate().duration(dur).play(0.01);if(_fixIOSBug&&tween.vars.scrollY>=maxY||currentScroll>=maxY-1){gsap$b.to({},{onUpdate:onResize,duration:dur});}}};vars.onWheel=function(){tween._ts&&tween.pause();if(_getTime$2()-wheelRefresh>1000){lastRefreshID=0;wheelRefresh=_getTime$2();}};vars.onChange=function(self,dx,dy,xArray,yArray){_refreshID!==lastRefreshID&&updateClamps();dx&&normalizeScrollX&&scrollFuncX(scrollClampX(xArray[2]===dx?startScrollX+(self.startX-self.x):scrollFuncX()+dx-xArray[1]));if(dy){scrollFuncY.offset&&removeContentOffset();var isTouch=yArray[2]===dy,y=isTouch?startScrollY+self.startY-self.y:scrollFuncY()+dy-yArray[1],yClamped=scrollClampY(y);isTouch&&y!==yClamped&&(startScrollY+=yClamped-y);scrollFuncY(yClamped);} (dy||dx)&&_updateAll();};vars.onEnable=function(){_allowNativePanning(target,normalizeScrollX?false:"x");ScrollTrigger$2.addEventListener("refresh",onResize);_addListener$2(_win$7,"resize",onResize);if(scrollFuncY.smooth){scrollFuncY.target.style.scrollBehavior="auto";scrollFuncY.smooth=scrollFuncX.smooth=false;} inputObserver.enable();};vars.onDisable=function(){_allowNativePanning(target,true);_removeListener$2(_win$7,"resize",onResize);ScrollTrigger$2.removeEventListener("refresh",onResize);inputObserver.kill();};vars.lockAxis=vars.lockAxis!==false;self=new Observer(vars);self.iOS=_fixIOSBug;_fixIOSBug&&!scrollFuncY()&&scrollFuncY(1);_fixIOSBug&&gsap$b.ticker.add(_passThrough$1);onStopDelayedCall=self._dc;tween=gsap$b.to(self,{ease:"power4",paused:true,scrollX:normalizeScrollX?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:onStopDelayedCall.vars.onComplete});return self;};ScrollTrigger$2.sort=function(func){return _triggers.sort(func||function(a,b){return(a.vars.refreshPriority||0)*-1e6+a.start-(b.start+(b.vars.refreshPriority||0)*-1e6);});};ScrollTrigger$2.observe=function(vars){return new Observer(vars);};ScrollTrigger$2.normalizeScroll=function(vars){if(typeof vars==="undefined"){return _normalizer$1;} if(vars===true&&_normalizer$1){return _normalizer$1.enable();} if(vars===false){return _normalizer$1&&_normalizer$1.kill();} var normalizer=vars instanceof Observer?vars:_getScrollNormalizer(vars);_normalizer$1&&_normalizer$1.target===normalizer.target&&_normalizer$1.kill();_isViewport$1(normalizer.target)&&(_normalizer$1=normalizer);return normalizer;};ScrollTrigger$2.core={_getVelocityProp:_getVelocityProp,_inputObserver:_inputObserver,_scrollers:exports._scrollers,_proxies:exports._proxies,bridge:{ss:function ss(){_lastScrollTime||_dispatch$1("scrollStart");_lastScrollTime=_getTime$2();},ref:function ref(){return _refreshing;}}};_getGSAP$9()&&gsap$b.registerPlugin(ScrollTrigger$2);var _trimExp=/(?:^\s+|\s+$)/g;var emojiExp=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function getText(e){var type=e.nodeType,result="";if(type===1||type===9||type===11){if(typeof e.textContent==="string"){return e.textContent;}else{for(e=e.firstChild;e;e=e.nextSibling){result+=getText(e);}}}else if(type===3||type===4){return e.nodeValue;} return result;} function splitInnerHTML(element,delimiter,trim,preserveSpaces){var node=element.firstChild,result=[],s;while(node){if(node.nodeType===3){s=(node.nodeValue+"").replace(/^\n+/g,"");if(!preserveSpaces){s=s.replace(/\s+/g," ");} result.push.apply(result,emojiSafeSplit(s,delimiter,trim,preserveSpaces));}else if((node.nodeName+"").toLowerCase()==="br"){result[result.length-1]+="
";}else{result.push(node.outerHTML);} node=node.nextSibling;} s=result.length;while(s--){result[s]==="&"&&result.splice(s,1,"&");} return result;} function emojiSafeSplit(text,delimiter,trim,preserveSpaces){text+="";trim&&(text=text.trim?text.trim():text.replace(_trimExp,""));if(delimiter&&delimiter!==""){return text.replace(/>/g,">").replace(/=0xD800&&character.charCodeAt(0)<=0xDBFF||text.charCodeAt(i+1)>=0xFE00&&text.charCodeAt(i+1)<=0xFE0F){j=((text.substr(i,12).split(emojiExp)||[])[1]||"").length||2;character=text.substr(i,j);result.emoji=1;i+=j-1;} result.push(character===">"?">":character==="<"?"<":preserveSpaces&&character===" "&&(text.charAt(i-1)===" "||text.charAt(i+1)===" ")?" ":character);} return result;}/*! * TextPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */ var gsap$c,_tempDiv$2,_getGSAP$a=function _getGSAP(){return gsap$c||typeof window!=="undefined"&&(gsap$c=window.gsap)&&gsap$c.registerPlugin&&gsap$c;};var TextPlugin={version:"3.11.4",name:"text",init:function init(target,value,tween){typeof value!=="object"&&(value={value:value});var i=target.nodeName.toUpperCase(),data=this,_value=value,newClass=_value.newClass,oldClass=_value.oldClass,preserveSpaces=_value.preserveSpaces,rtl=_value.rtl,delimiter=data.delimiter=value.delimiter||"",fillChar=data.fillChar=value.fillChar||(value.padSpace?" ":""),_short,text,original,j,condensedText,condensedOriginal,aggregate,s;data.svg=target.getBBox&&(i==="TEXT"||i==="TSPAN");if(!("innerHTML"in target)&&!data.svg){return false;} data.target=target;if(!("value"in value)){data.text=data.original=[""];return;} original=splitInnerHTML(target,delimiter,false,preserveSpaces);_tempDiv$2||(_tempDiv$2=document.createElement("div"));_tempDiv$2.innerHTML=value.value;text=splitInnerHTML(_tempDiv$2,delimiter,false,preserveSpaces);data.from=tween._from;if((data.from||rtl)&&!(rtl&&data.from)){i=original;original=text;text=i;} data.hasClass=!!(newClass||oldClass);data.newClass=rtl?oldClass:newClass;data.oldClass=rtl?newClass:oldClass;i=original.length-text.length;_short=i<0?original:text;if(i<0){i=-i;} while(--i>-1){_short.push(fillChar);} if(value.type==="diff"){j=0;condensedText=[];condensedOriginal=[];aggregate="";for(i=0;i1){ratio=1;}else if(ratio<0){ratio=0;} if(data.from){ratio=1-ratio;} var text=data.text,hasClass=data.hasClass,newClass=data.newClass,oldClass=data.oldClass,delimiter=data.delimiter,target=data.target,fillChar=data.fillChar,original=data.original,rtl=data.rtl,l=text.length,i=(rtl?1-ratio:ratio)*l+0.5|0,applyNew,applyOld,str;if(hasClass&&ratio){applyNew=newClass&&i;applyOld=oldClass&&i!==l;str=(applyNew?"":"")+text.slice(0,i).join(delimiter)+(applyNew?"":"")+(applyOld?"":"")+delimiter+original.slice(i).join(delimiter)+(applyOld?"":"");}else{str=text.slice(0,i).join(delimiter)+delimiter+original.slice(i).join(delimiter);} if(data.svg){target.textContent=str;}else{target.innerHTML=fillChar===" "&&~str.indexOf(" ")?str.split(" ").join("  "):str;}}};TextPlugin.splitInnerHTML=splitInnerHTML;TextPlugin.emojiSafeSplit=emojiSafeSplit;TextPlugin.getText=getText;_getGSAP$a()&&gsap$c.registerPlugin(TextPlugin);/*! * DrawSVGPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$d,_toArray$5,_win$8,_isEdge,_coreInitted$9,_warned,_getStyleSaver$2,_reverting$3,_windowExists$8=function _windowExists(){return typeof window!=="undefined";},_getGSAP$b=function _getGSAP(){return gsap$d||_windowExists$8()&&(gsap$d=window.gsap)&&gsap$d.registerPlugin&&gsap$d;},_numExp$3=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,_types={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},_round$6=function _round(value){return Math.round(value*10000)/10000;},_parseNum=function _parseNum(value){return parseFloat(value)||0;},_parseSingleVal=function _parseSingleVal(value,length){var num=_parseNum(value);return~value.indexOf("%")?num/100*length:num;},_getAttributeAsNumber=function _getAttributeAsNumber(target,attr){return _parseNum(target.getAttribute(attr));},_sqrt$2=Math.sqrt,_getDistance=function _getDistance(x1,y1,x2,y2,scaleX,scaleY){return _sqrt$2(Math.pow((_parseNum(x2)-_parseNum(x1))*scaleX,2)+Math.pow((_parseNum(y2)-_parseNum(y1))*scaleY,2));},_warn$3=function _warn(message){return console.warn(message);},_hasNonScalingStroke=function _hasNonScalingStroke(target){return target.getAttribute("vector-effect")==="non-scaling-stroke";},_bonusValidated=1,_parse=function _parse(value,length,defaultStart){var i=value.indexOf(" "),s,e;if(i<0){s=defaultStart!==undefined?defaultStart+"":value;e=value;}else{s=value.substr(0,i);e=value.substr(i+1);} s=_parseSingleVal(s,length);e=_parseSingleVal(e,length);return s>e?[e,s]:[s,e];},_getLength=function _getLength(target){target=_toArray$5(target)[0];if(!target){return 0;} var type=target.tagName.toLowerCase(),style=target.style,scaleX=1,scaleY=1,length,bbox,points,prevPoint,i,rx,ry;if(_hasNonScalingStroke(target)){scaleY=target.getScreenCTM();scaleX=_sqrt$2(scaleY.a*scaleY.a+scaleY.b*scaleY.b);scaleY=_sqrt$2(scaleY.d*scaleY.d+scaleY.c*scaleY.c);} try{bbox=target.getBBox();}catch(e){_warn$3("Some browsers won't measure invisible elements (like display:none or masks inside defs).");} var _ref=bbox||{x:0,y:0,width:0,height:0},x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height;if((!bbox||!width&&!height)&&_types[type]){width=_getAttributeAsNumber(target,_types[type][0]);height=_getAttributeAsNumber(target,_types[type][1]);if(type!=="rect"&&type!=="line"){width*=2;height*=2;} if(type==="line"){x=_getAttributeAsNumber(target,"x1");y=_getAttributeAsNumber(target,"y1");width=Math.abs(width-x);height=Math.abs(height-y);}} if(type==="path"){prevPoint=style.strokeDasharray;style.strokeDasharray="none";length=target.getTotalLength()||0;_round$6(scaleX)!==_round$6(scaleY)&&!_warned&&(_warned=1)&&_warn$3("Warning: length cannot be measured when vector-effect is non-scaling-stroke and the element isn't proportionally scaled.");length*=(scaleX+scaleY)/2;style.strokeDasharray=prevPoint;}else if(type==="rect"){length=width*2*scaleX+height*2*scaleY;}else if(type==="line"){length=_getDistance(x,y,x+width,y+height,scaleX,scaleY);}else if(type==="polyline"||type==="polygon"){points=target.getAttribute("points").match(_numExp$3)||[];type==="polygon"&&points.push(points[0],points[1]);length=0;for(i=2;ilength&&(dash=length);return[-offset||0,dash-offset||0];},_initCore$9=function _initCore(){if(_windowExists$8()){_win$8=window;_coreInitted$9=gsap$d=_getGSAP$b();_toArray$5=gsap$d.utils.toArray;_getStyleSaver$2=gsap$d.core.getStyleSaver;_reverting$3=gsap$d.core.reverting||function(){};_isEdge=((_win$8.navigator||{}).userAgent||"").indexOf("Edge")!==-1;}};var DrawSVGPlugin={version:"3.11.4",name:"drawSVG",register:function register(core){gsap$d=core;_initCore$9();},init:function init(target,value,tween,index,targets){if(!target.getBBox){return false;} _coreInitted$9||_initCore$9();var length=_getLength(target),start,end,cs;this.styles=_getStyleSaver$2&&_getStyleSaver$2(target,"strokeDashoffset,strokeDasharray,strokeMiterlimit");this.tween=tween;this._style=target.style;this._target=target;if(value+""==="true"){value="0 100%";}else if(!value){value="0 0";}else if((value+"").indexOf(" ")===-1){value="0 "+value;} start=_getPosition(target,length);end=_parse(value,length,start[0]);this._length=_round$6(length);this._dash=_round$6(start[1]-start[0]);this._offset=_round$6(-start[0]);this._dashPT=this.add(this,"_dash",this._dash,_round$6(end[1]-end[0]),0,0,0,0,0,1);this._offsetPT=this.add(this,"_offset",this._offset,_round$6(-end[0]),0,0,0,0,0,1);if(_isEdge){cs=_win$8.getComputedStyle(target);if(cs.strokeLinecap!==cs.strokeLinejoin){end=_parseNum(cs.strokeMiterlimit);this.add(target.style,"strokeMiterlimit",end,end+0.01);}} this._live=_hasNonScalingStroke(target)||~(value+"").indexOf("live");this._nowrap=~(value+"").indexOf("nowrap");this._props.push("drawSVG");return _bonusValidated;},render:function render(ratio,data){if(data.tween._time||!_reverting$3()){var pt=data._pt,style=data._style,length,lengthRatio,dash,offset;if(pt){if(data._live){length=_getLength(data._target);if(length!==data._length){lengthRatio=length/data._length;data._length=length;if(data._offsetPT){data._offsetPT.s*=lengthRatio;data._offsetPT.c*=lengthRatio;} if(data._dashPT){data._dashPT.s*=lengthRatio;data._dashPT.c*=lengthRatio;}else{data._dash*=lengthRatio;}}} while(pt){pt.r(ratio,pt.d);pt=pt._next;} dash=data._dash||ratio&&ratio!==1&&0.0001||0;length=data._length-dash+0.1;offset=data._offset;dash&&offset&&dash+Math.abs(offset%data._length)>data._length-0.2&&(offset+=offset<0?0.1:-0.1)&&(length+=0.1);style.strokeDashoffset=dash?offset:offset+0.001;style.strokeDasharray=length<0.2?"none":dash?dash+"px,"+(data._nowrap?999999:length)+"px":"0px, 999999px";}}else{data.styles.revert();}},getLength:_getLength,getPosition:_getPosition};_getGSAP$b()&&gsap$d.registerPlugin(DrawSVGPlugin);/*! * Physics2DPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$e,_coreInitted$a,_getUnit$1,_getStyleSaver$3,_reverting$4,_DEG2RAD$5=Math.PI/180,_getGSAP$c=function _getGSAP(){return gsap$e||typeof window!=="undefined"&&(gsap$e=window.gsap)&&gsap$e.registerPlugin&&gsap$e;},_round$7=function _round(value){return Math.round(value*10000)/10000;},_initCore$a=function _initCore(core){gsap$e=core||_getGSAP$c();if(!_coreInitted$a){_getUnit$1=gsap$e.utils.getUnit;_getStyleSaver$3=gsap$e.core.getStyleSaver;_reverting$4=gsap$e.core.reverting||function(){};_coreInitted$a=1;}};var PhysicsProp=function PhysicsProp(target,p,velocity,acceleration,stepsPerTimeUnit){var cache=target._gsap,curVal=cache.get(target,p);this.p=p;this.set=cache.set(target,p);this.s=this.val=parseFloat(curVal);this.u=_getUnit$1(curVal)||0;this.vel=velocity||0;this.v=this.vel/stepsPerTimeUnit;if(acceleration||acceleration===0){this.acc=acceleration;this.a=this.acc/(stepsPerTimeUnit*stepsPerTimeUnit);}else{this.acc=this.a=0;}};var Physics2DPlugin={version:"3.11.4",name:"physics2D",register:_initCore$a,init:function init(target,value,tween){_coreInitted$a||_initCore$a();var data=this,angle=+value.angle||0,velocity=+value.velocity||0,acceleration=+value.acceleration||0,xProp=value.xProp||"x",yProp=value.yProp||"y",aAngle=value.accelerationAngle||value.accelerationAngle===0?+value.accelerationAngle:angle;data.styles=_getStyleSaver$3&&_getStyleSaver$3(target,value.xProp&&value.xProp!=="x"?value.xProp+","+value.yProp:"transform");data.target=target;data.tween=tween;data.step=0;data.sps=30;if(value.gravity){acceleration=+value.gravity;aAngle=90;} angle*=_DEG2RAD$5;aAngle*=_DEG2RAD$5;data.fr=1-(+value.friction||0);data._props.push(xProp,yProp);data.xp=new PhysicsProp(target,xProp,Math.cos(angle)*velocity,Math.cos(aAngle)*acceleration,data.sps);data.yp=new PhysicsProp(target,yProp,Math.sin(angle)*velocity,Math.sin(aAngle)*acceleration,data.sps);data.skipX=data.skipY=0;},render:function render(ratio,data){var xp=data.xp,yp=data.yp,tween=data.tween,target=data.target,step=data.step,sps=data.sps,fr=data.fr,skipX=data.skipX,skipY=data.skipY,time=tween._from?tween._dur-tween._time:tween._time,x,y,tt,steps,remainder,i;if(tween._time||!_reverting$4()){if(fr===1){tt=time*time*0.5;x=xp.s+xp.vel*time+xp.acc*tt;y=yp.s+yp.vel*time+yp.acc*tt;}else{time*=sps;steps=i=(time|0)-step;if(i<0){xp.v=xp.vel/sps;yp.v=yp.vel/sps;xp.val=xp.s;yp.val=yp.s;data.step=0;steps=i=time|0;} remainder=time%1*fr;while(i--){xp.v+=xp.a;yp.v+=yp.a;xp.v*=fr;yp.v*=fr;xp.val+=xp.v;yp.val+=yp.v;} x=xp.val+xp.v*remainder;y=yp.val+yp.v*remainder;data.step+=steps;} skipX||xp.set(target,xp.p,_round$7(x)+xp.u);skipY||yp.set(target,yp.p,_round$7(y)+yp.u);}else{data.styles.revert();}},kill:function kill(property){if(this.xp.p===property){this.skipX=1;} if(this.yp.p===property){this.skipY=1;}}};_getGSAP$c()&&gsap$e.registerPlugin(Physics2DPlugin);/*! * PhysicsPropsPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$f,_coreInitted$b,_getUnit$2,_getStyleSaver$4,_reverting$5,_getGSAP$d=function _getGSAP(){return gsap$f||typeof window!=="undefined"&&(gsap$f=window.gsap)&&gsap$f.registerPlugin&&gsap$f;},_round$8=function _round(value){return Math.round(value*10000)/10000;},_initCore$b=function _initCore(core){gsap$f=core||_getGSAP$d();if(!_coreInitted$b){_getUnit$2=gsap$f.utils.getUnit;_getStyleSaver$4=gsap$f.core.getStyleSaver;_reverting$5=gsap$f.core.reverting||function(){};_coreInitted$b=1;}};var PhysicsProp$1=function PhysicsProp(target,p,velocity,acceleration,friction,stepsPerTimeUnit){var cache=target._gsap,curVal=cache.get(target,p);this.p=p;this.set=cache.set(target,p);this.s=this.val=parseFloat(curVal);this.u=_getUnit$2(curVal)||0;this.vel=velocity||0;this.v=this.vel/stepsPerTimeUnit;if(acceleration||acceleration===0){this.acc=acceleration;this.a=this.acc/(stepsPerTimeUnit*stepsPerTimeUnit);}else{this.acc=this.a=0;} this.fr=1-(friction||0);};var PhysicsPropsPlugin={version:"3.11.4",name:"physicsProps",register:_initCore$b,init:function init(target,value,tween){_coreInitted$b||_initCore$b();var data=this,p;data.styles=_getStyleSaver$4&&_getStyleSaver$4(target);data.target=target;data.tween=tween;data.step=0;data.sps=30;data.vProps=[];for(p in value){var _value$p=value[p],velocity=_value$p.velocity,acceleration=_value$p.acceleration,friction=_value$p.friction;if(velocity||acceleration){data.vProps.push(new PhysicsProp$1(target,p,velocity,acceleration,friction,data.sps));data._props.push(p);_getStyleSaver$4&&data.styles.save(p);friction&&(data.hasFr=1);}}},render:function render(ratio,data){var vProps=data.vProps,tween=data.tween,target=data.target,step=data.step,hasFr=data.hasFr,sps=data.sps,i=vProps.length,time=tween._from?tween._dur-tween._time:tween._time,curProp,steps,remainder,j,tt;if(tween._time||!_reverting$5()){if(hasFr){time*=sps;steps=(time|0)-step;if(steps<0){while(i--){curProp=vProps[i];curProp.v=curProp.vel/sps;curProp.val=curProp.s;} i=vProps.length;data.step=step=0;steps=time|0;} remainder=time%1;while(i--){curProp=vProps[i];j=steps;while(j--){curProp.v+=curProp.a;curProp.v*=curProp.fr;curProp.val+=curProp.v;} curProp.set(target,curProp.p,_round$8(curProp.val+curProp.v*remainder*curProp.fr)+curProp.u);} data.step+=steps;}else{tt=time*time*0.5;while(i--){curProp=vProps[i];curProp.set(target,curProp.p,_round$8(curProp.s+curProp.vel*time+curProp.acc*tt)+curProp.u);}}}else{data.styles.revert();}},kill:function kill(property){var vProps=this.vProps,i=vProps.length;while(i--){vProps[i].p===property&&vProps.splice(i,1);}}};_getGSAP$d()&&gsap$f.registerPlugin(PhysicsPropsPlugin);/*! * ScrambleTextPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var CharSet=function(){function CharSet(chars){this.chars=emojiSafeSplit(chars);this.sets=[];this.length=50;for(var i=0;i<20;i++){this.sets[i]=_scrambleText(80,this.chars);}} var _proto=CharSet.prototype;_proto.grow=function grow(newLength){for(var i=0;i<20;i++){this.sets[i]+=_scrambleText(newLength-this.length,this.chars);} this.length=newLength;};return CharSet;}();var gsap$g,_coreInitted$c,_getGSAP$e=function _getGSAP(){return gsap$g||typeof window!=="undefined"&&(gsap$g=window.gsap)&&gsap$g.registerPlugin&&gsap$g;},_bonusValidated$1=1,_spacesExp=/\s+/g,_scrambleText=function _scrambleText(length,chars){var l=chars.length,s="";while(--length>-1){s+=chars[~~(Math.random()*l)];} return s;},_upper="ABCDEFGHIJKLMNOPQRSTUVWXYZ",_lower=_upper.toLowerCase(),_charsLookup={upperCase:new CharSet(_upper),lowerCase:new CharSet(_lower),upperAndLowerCase:new CharSet(_upper+_lower)},_initCore$c=function _initCore(){_coreInitted$c=gsap$g=_getGSAP$e();};var ScrambleTextPlugin={version:"3.11.4",name:"scrambleText",register:function register(core,Plugin,propTween){gsap$g=core;_initCore$c();},init:function init(target,value,tween,index,targets){_coreInitted$c||_initCore$c();this.prop="innerHTML"in target?"innerHTML":"textContent"in target?"textContent":0;if(!this.prop){return;} this.target=target;if(typeof value!=="object"){value={text:value};} var text=value.text||value.value||"",trim=value.trim!==false,data=this,delim,maxLength,charset,splitByChars;data.delimiter=delim=value.delimiter||"";data.original=emojiSafeSplit(getText(target).replace(_spacesExp," ").split(" ").join(""),delim,trim);if(text==="{original}"||text===true||text==null){text=data.original.join(delim);} data.text=emojiSafeSplit((text||"").replace(_spacesExp," "),delim,trim);data.hasClass=!!(value.newClass||value.oldClass);data.newClass=value.newClass;data.oldClass=value.oldClass;splitByChars=delim==="";data.textHasEmoji=splitByChars&&!!data.text.emoji;data.charsHaveEmoji=!!value.chars&&!!emojiSafeSplit(value.chars).emoji;data.length=splitByChars?data.original.length:data.original.join(delim).length;data.lengthDif=(splitByChars?data.text.length:data.text.join(delim).length)-data.length;data.fillChar=value.fillChar||value.chars&&~value.chars.indexOf(" ")?" ":"";data.charSet=charset=_charsLookup[value.chars||"upperCase"]||new CharSet(value.chars);data.speed=0.05/(value.speed||1);data.prevScrambleTime=0;data.setIndex=Math.random()*20|0;maxLength=data.length+Math.max(data.lengthDif,0);if(maxLength>charset.length){charset.grow(maxLength);} data.chars=charset.sets[data.setIndex];data.revealDelay=value.revealDelay||0;data.tweenLength=value.tweenLength!==false;data.tween=tween;data.rightToLeft=!!value.rightToLeft;data._props.push("scrambleText","text");return _bonusValidated$1;},render:function render(ratio,data){var target=data.target,prop=data.prop,text=data.text,delimiter=data.delimiter,tween=data.tween,prevScrambleTime=data.prevScrambleTime,revealDelay=data.revealDelay,setIndex=data.setIndex,chars=data.chars,charSet=data.charSet,length=data.length,textHasEmoji=data.textHasEmoji,charsHaveEmoji=data.charsHaveEmoji,lengthDif=data.lengthDif,tweenLength=data.tweenLength,oldClass=data.oldClass,newClass=data.newClass,rightToLeft=data.rightToLeft,fillChar=data.fillChar,speed=data.speed,original=data.original,hasClass=data.hasClass,l=text.length,time=tween._time,timeDif=time-prevScrambleTime,i,i2,startText,endText,applyNew,applyOld,str,startClass,endClass,position,r;if(revealDelay){if(tween._from){time=tween._dur-time;} ratio=time===0?0:time1){ratio=1;} if(rightToLeft){ratio=1-ratio;} i=~~(ratio*l+0.5);if(ratio){if(timeDif>speed||timeDif<-speed){data.setIndex=setIndex=(setIndex+(Math.random()*19|0))%20;data.chars=charSet.sets[setIndex];data.prevScrambleTime+=timeDif;} endText=chars;}else{endText=original.join(delimiter);} r=tween._from?ratio:1-ratio;position=length+(tweenLength?tween._from?r*r*r:1-r*r*r:1)*lengthDif;if(rightToLeft){if(ratio===1&&(tween._from||tween.data==="isFromStart")){startText="";endText=original.join(delimiter);}else{str=text.slice(i).join(delimiter);if(charsHaveEmoji){startText=emojiSafeSplit(endText).slice(0,position-(textHasEmoji?emojiSafeSplit(str):str).length+0.5|0).join("");}else{startText=endText.substr(0,position-(textHasEmoji?emojiSafeSplit(str):str).length+0.5|0);} endText=str;}}else{startText=text.slice(0,i).join(delimiter);i2=(textHasEmoji?emojiSafeSplit(startText):startText).length;if(charsHaveEmoji){endText=emojiSafeSplit(endText).slice(i2,position+0.5|0).join("");}else{endText=endText.substr(i2,position-i2+0.5|0);}} if(hasClass){startClass=rightToLeft?oldClass:newClass;endClass=rightToLeft?newClass:oldClass;applyNew=startClass&&i!==0;applyOld=endClass&&i!==l;str=(applyNew?"":"")+startText+(applyNew?"":"")+(applyOld?"":"")+delimiter+endText+(applyOld?"":"");}else{str=startText+delimiter+endText;} target[prop]=fillChar===" "&&~str.indexOf(" ")?str.split(" ").join("  "):str;}};ScrambleTextPlugin.emojiSafeSplit=emojiSafeSplit;ScrambleTextPlugin.getText=getText;_getGSAP$e()&&gsap$g.registerPlugin(ScrambleTextPlugin);/*! * CustomBounce 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$h,_coreInitted$d,createCustomEase,_getGSAP$f=function _getGSAP(){return gsap$h||typeof window!=="undefined"&&(gsap$h=window.gsap)&&gsap$h.registerPlugin&&gsap$h;},_initCore$d=function _initCore(required){gsap$h=_getGSAP$f();createCustomEase=gsap$h&&gsap$h.parseEase("_CE");if(createCustomEase){_coreInitted$d=1;gsap$h.parseEase("bounce").config=function(vars){return typeof vars==="object"?_create("",vars):_create("bounce("+vars+")",{strength:+vars});};}else{required&&console.warn("Please gsap.registerPlugin(CustomEase, CustomBounce)");}},_normalizeX=function _normalizeX(a){var l=a.length,s=1/a[l-2],rnd=1000,i;for(i=2;imax){break;}} if(vars.endAtStart&&vars.endAtStart!=="false"){x=-0.1;path.unshift(x,1,x,1,-0.07,0);if(originalGap){gap=originalGap*2.5;x-=gap;path.unshift(x,1,x,1,x,1);squashPath.splice(0,6);squashPath.unshift(x,0,x,0,x,1,x+gap/2,1,x+gap,1,x+gap,0,x+gap,0,x+gap,-0.6,x+gap+0.033,0);for(i=0;i0?-1:1)*yEase(i*inc);easedX=xEase(x);path.push(xEase(x-inc/2),y,easedX,y);} path.push(xEase(x+inc/4),y,xEase(x+inc/4),0,1,0);} i=path.length;while(--i>-1){path[i]=~~(path[i]*rnd)/rnd;} path[2]="C"+path[2];return createCustomEase$1(id,"M"+path.join(","));}};var CustomWiggle=function(){function CustomWiggle(id,vars){this.ease=_create$1(id,vars);} CustomWiggle.create=function create(id,vars){return _create$1(id,vars);};CustomWiggle.register=function register(core){gsap$i=core;_initCore$e();};return CustomWiggle;}();_getGSAP$g()&&gsap$i.registerPlugin(CustomWiggle);CustomWiggle.version="3.11.4";/*! * GSDevTools 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$j,_coreInitted$f,_doc$7,_docEl$3,_win$9,_recordedRoot,Animation$1,_rootTween,_rootInstance,_keyboardInstance,_globalTimeline$1,_independentRoot,_delayedCall,_startupPhase=true,_globalStartTime=0,_windowExists$9=function _windowExists(){return typeof window!=="undefined";},_getGSAP$h=function _getGSAP(){return gsap$j||_windowExists$9()&&(gsap$j=window.gsap)&&gsap$j.registerPlugin&&gsap$j;},_isString$5=function _isString(value){return typeof value==="string";},_isFunction$5=function _isFunction(value){return typeof value==="function";},_isObject$3=function _isObject(value){return typeof value==="object";},_isUndefined$3=function _isUndefined(value){return typeof value==="undefined";},_svgNS="http://www.w3.org/2000/svg",_domNS="http://www.w3.org/1999/xhtml",_idSeed=0,_lookup$1={},_supportsStorage=function(){try{sessionStorage.setItem("gsTest","1");sessionStorage.removeItem("gsTest");return true;}catch(e){return false;}}(),_parseAnimation=function _parseAnimation(animationOrId){return animationOrId instanceof Animation$1?animationOrId:animationOrId?gsap$j.getById(animationOrId):null;},_createElement$2=function _createElement(type,container,cssText){var element=_doc$7.createElementNS?_doc$7.createElementNS(type==="svg"?_svgNS:_domNS,type):_doc$7.createElement(type);if(container){if(_isString$5(container)){container=_doc$7.querySelector(container);} container.appendChild(element);} if(type==="svg"){element.setAttribute("xmlns",_svgNS);element.setAttribute("xmlns:xlink",_domNS);} cssText&&(element.style.cssText=cssText);return element;},_clearSelection=function _clearSelection(){if(_doc$7.selection){_doc$7.selection.empty();}else if(_win$9.getSelection){_win$9.getSelection().removeAllRanges();}},_getChildrenOf=function _getChildrenOf(timeline,includeTimelines){var a=[],cnt=0,Tween=gsap$j.core.Tween,tween=timeline._first;while(tween){if(tween instanceof Tween){if(tween.vars.id){a[cnt++]=tween;}}else{if(includeTimelines&&tween.vars.id){a[cnt++]=tween;} a=a.concat(_getChildrenOf(tween,includeTimelines));cnt=a.length;} tween=tween._next;} return a;},_getClippedDuration=function _getClippedDuration(animation,excludeRootRepeats){var max=0,repeat=Math.max(0,animation._repeat),t=animation._first;if(!t){max=animation.duration();} while(t){max=Math.max(max,t.totalDuration()>999?t.endTime(false):t._start+t._tDur/t._ts);t=t._next;} return!excludeRootRepeats&&repeat?max*(repeat+1)+animation._rDelay*repeat:max;},_globalizeTime=function _globalizeTime(animation,rawTime){var a=animation,time=arguments.length>1?+rawTime:a.rawTime();while(a){time=a._start+time/(a._ts||1);a=a.parent;} return time;},_timeToProgress=function _timeToProgress(time,animation,defaultValue,relativeProgress){var add,i,a;if(_isString$5(time)){if(time.charAt(1)==="="){add=parseInt(time.charAt(0)+"1",10)*parseFloat(time.substr(2));if(add<0&&relativeProgress===0){relativeProgress=100;} time=relativeProgress/100*animation.duration()+add;}else if(isNaN(time)&&animation.labels&&animation.labels[time]!==-1){time=animation.labels[time];}else if(animation===_recordedRoot){i=time.indexOf("=");if(i>0){add=parseInt(time.charAt(i-1)+"1",10)*parseFloat(time.substr(i+1));time=time.substr(0,i-1);}else{add=0;} a=gsap$j.getById(time);if(a){time=_globalizeTime(a,defaultValue/100*a.duration())+add;}}} time=isNaN(time)?defaultValue:parseFloat(time);return Math.min(100,Math.max(0,time/animation.duration()*100));},_addedCSS,_createRootElement=function _createRootElement(element,minimal,css){if(!_addedCSS){_createElement$2("style",_docEl$3).innerHTML='.gs-dev-tools{height:51px;bottom:0;left:0;right:0;display:block;position:fixed;overflow:visible;padding:0}.gs-dev-tools *{box-sizing:content-box;visibility:visible}.gs-dev-tools .gs-top{position:relative;z-index:499}.gs-dev-tools .gs-bottom{display:flex;align-items:center;justify-content:space-between;background-color:rgba(0,0,0,.6);height:42px;border-top:1px solid #999;position:relative}.gs-dev-tools .timeline{position:relative;height:8px;margin-left:15px;margin-right:15px;overflow:visible}.gs-dev-tools .progress-bar,.gs-dev-tools .timeline-track{height:8px;width:100%;position:absolute;top:0;left:0}.gs-dev-tools .timeline-track{background-color:#999;opacity:.6}.gs-dev-tools .progress-bar{background-color:#91e600;height:8px;top:0;width:0;pointer-events:none}.gs-dev-tools .seek-bar{width:100%;position:absolute;height:24px;top:-12px;left:0;background-color:transparent}.gs-dev-tools .in-point,.gs-dev-tools .out-point{width:15px;height:26px;position:absolute;top:-18px}.gs-dev-tools .in-point-shape{fill:#6d9900;stroke:rgba(0,0,0,.5);stroke-width:1}.gs-dev-tools .out-point-shape{fill:#994242;stroke:rgba(0,0,0,.5);stroke-width:1}.gs-dev-tools .in-point{transform:translateX(-100%)}.gs-dev-tools .out-point{left:100%}.gs-dev-tools .grab{stroke:rgba(255,255,255,.3);stroke-width:1}.gs-dev-tools .playhead{position:absolute;top:-5px;transform:translate(-50%,0);left:0;border-radius:50%;width:16px;height:16px;border:1px solid #6d9900;background-color:#91e600}.gs-dev-tools .gs-btn-white{fill:#fff}.gs-dev-tools .pause{opacity:0}.gs-dev-tools .select-animation{vertical-align:middle;position:relative;padding:6px 10px}.gs-dev-tools .select-animation-container{flex-grow:4;width:40%}.gs-dev-tools .select-arrow{display:inline-block;width:12px;height:7px;margin:0 7px;transform:translate(0,-2px)}.gs-dev-tools .select-arrow-shape{stroke:rgba(255,255,255,.6);stroke-width:2px;fill:none}.gs-dev-tools .rewind{height:16px;width:19px;padding:10px 4px;min-width:24px}.gs-dev-tools .rewind-path{opacity:.6}.gs-dev-tools .play-pause{width:24px;height:24px;padding:6px 10px;min-width:24px}.gs-dev-tools .ease{width:30px;height:30px;padding:10px;min-width:30px;display:none}.gs-dev-tools .ease-path{fill:none;stroke:rgba(255,255,255,.6);stroke-width:2px}.gs-dev-tools .ease-border{fill:rgba(255,255,255,.25)}.gs-dev-tools .time-scale{font-family:monospace;font-size:18px;text-align:center;color:rgba(255,255,255,.6);padding:4px 4px 4px 0;min-width:30px;margin-left:7px}.gs-dev-tools .loop{width:20px;padding:5px;min-width:20px}.gs-dev-tools .loop-path{fill:rgba(255,255,255,.6)}.gs-dev-tools label span{color:#fff;font-family:monospace;text-decoration:none;font-size:16px;line-height:18px}.gs-dev-tools .time-scale span{color:rgba(255,255,255,.6)}.gs-dev-tools button:focus,.gs-dev-tools select:focus{outline:0}.gs-dev-tools label{position:relative;cursor:pointer}.gs-dev-tools label.locked{text-decoration:none;cursor:auto}.gs-dev-tools label input,.gs-dev-tools label select{position:absolute;left:0;top:0;z-index:1;font:inherit;font-size:inherit;line-height:inherit;height:100%;width:100%;color:#000!important;opacity:0;background:0 0;border:none;padding:0;margin:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer}.gs-dev-tools label input+.display{position:relative;z-index:2}.gs-dev-tools .gs-bottom-right{vertical-align:middle;display:flex;align-items:center;flex-grow:4;width:40%;justify-content:flex-end}.gs-dev-tools .time-container{font-size:18px;font-family:monospace;color:rgba(255,255,255,.6);margin:0 5px}.gs-dev-tools .logo{width:32px;height:32px;position:relative;top:2px;margin:0 12px}.gs-dev-tools .gs-hit-area{background-color:transparent;width:100%;height:100%;top:0;position:absolute}.gs-dev-tools.minimal{height:auto;display:flex;align-items:stretch}.gs-dev-tools.minimal .gs-top{order:2;flex-grow:4;background-color:rgba(0,0,0,1)}.gs-dev-tools.minimal .gs-bottom{background-color:rgba(0,0,0,1);border-top:none}.gs-dev-tools.minimal .timeline{top:50%;transform:translate(0,-50%)}.gs-dev-tools.minimal .in-point,.gs-dev-tools.minimal .out-point{display:none}.gs-dev-tools.minimal .select-animation-container{display:none}.gs-dev-tools.minimal .rewind{display:none}.gs-dev-tools.minimal .play-pause{width:20px;height:20px;padding:4px 6px;margin-left:14px}.gs-dev-tools.minimal .time-scale{min-width:26px}.gs-dev-tools.minimal .loop{width:18px;min-width:18px;display:none}.gs-dev-tools.minimal .gs-bottom-right{display:none}@media only screen and (max-width:600px){.gs-dev-tools{height:auto;display:flex;align-items:stretch}.gs-dev-tools .gs-top{order:2;flex-grow:4;background-color:rgba(0,0,0,1);height:42px}.gs-dev-tools .gs-bottom{background-color:rgba(0,0,0,1);border-top:none}.gs-dev-tools .timeline{top:50%;transform:translate(0,-50%)}.gs-dev-tools .in-point,.gs-dev-tools .out-point{display:none}.gs-dev-tools .select-animation-container{display:none}.gs-dev-tools .rewind{display:none}.gs-dev-tools .play-pause{width:20px;height:20px;padding:4px 6px;margin-left:14px}.gs-dev-tools .time-scale{min-width:26px}.gs-dev-tools .loop{width:18px;min-width:18px;display:none}.gs-dev-tools .gs-bottom-right{display:none}}';_addedCSS=true;} if(_isString$5(element)){element=_doc$7.querySelector(element);} var root=_createElement$2("div",element||_docEl$3.getElementsByTagName("body")[0]||_docEl$3);root.setAttribute("class","gs-dev-tools"+(minimal?" minimal":""));root.innerHTML='
IconIcon

Global Timeline
Global TimelineIcon
IconIconIconIcon
1x
1x
0.00 / 0.00
Icon
';if(element){root.style.position="absolute";root.style.top=minimal?"calc(100% - 42px)":"calc(100% - 51px)";} if(css){if(_isString$5(css)){root.style.cssText=css;}else if(_isObject$3(css)){css.data="root";gsap$j.set(root,css).kill();} if(root.style.top){root.style.bottom="auto";} if(root.style.width){gsap$j.set(root,{xPercent:-50,left:"50%",right:"auto",data:"root"}).kill();}} if(!minimal&&root.offsetWidth<600){root.setAttribute("class","gs-dev-tools minimal");if(element){root.style.top="calc(100% - 42px)";}} return root;},_clickedOnce=true,_addListener$3=function _addListener(e,type,callback,capture){var handler,altType;if(type==="mousedown"||type==="mouseup"){e.style.cursor="pointer";} if(type==="mousedown"){altType=!_isUndefined$3(e.onpointerdown)?"pointerdown":!_isUndefined$3(e.ontouchstart)?"touchstart":null;if(altType){handler=function handler(event){if(event.target.nodeName.toLowerCase()!=="select"&&event.type===altType){event.stopPropagation();if(_clickedOnce){event.preventDefault();callback.call(e,event);}}else if(event.type!==altType){callback.call(e,event);} _clickedOnce=true;};e.addEventListener(altType,handler,capture);if(altType!=="pointerdown"){e.addEventListener(type,handler,capture);} return;}} e.addEventListener(type,callback,capture);},_removeListener$3=function _removeListener(e,type,callback){e.removeEventListener(type,callback);type=type!=="mousedown"?null:!_isUndefined$3(e.onpointerdown)?"pointerdown":!_isUndefined$3(e.ontouchstart)?"touchstart":null;if(type){e.removeEventListener(type,callback);}},_selectValue=function _selectValue(element,value,label,insertIfAbsent){var options=element.options,i=options.length,option;value+="";while(--i>-1){if(options[i].innerHTML===value||options[i].value===value){element.selectedIndex=i;label.innerHTML=options[i].innerHTML;return options[i];}} if(insertIfAbsent){option=_createElement$2("option",element);option.setAttribute("value",value);option.innerHTML=label.innerHTML=_isString$5(insertIfAbsent)?insertIfAbsent:value;element.selectedIndex=options.length-1;}},_shiftSelectedValue=function _shiftSelectedValue(element,amount,label){var options=element.options,i=Math.min(options.length-1,Math.max(0,element.selectedIndex+amount));element.selectedIndex=i;if(label){label.innerHTML=options[i].innerHTML;} return options[i].value;},_merge$1=function _merge(){var t=_globalTimeline$1._first,duration,next,target;if(_rootInstance){duration=_recordedRoot._dur;while(t){next=t._next;target=t._targets&&t._targets[0];if(!(_isFunction$5(target)&&target===t.vars.onComplete&&!t._dur)&&!(target&&target._gsIgnore)){_recordedRoot.add(t,t._start-t._delay);} t=next;} return duration!==_recordedRoot.duration();}},_buildPlayPauseMorph=function _buildPlayPauseMorph(svg){var tl=gsap$j.timeline({data:"root",parent:_independentRoot,onComplete:function onComplete(){return tl.kill();}},_independentRoot._time);tl.to(svg.querySelector(".play-1"),{duration:0.4,attr:{d:"M5.75,3.13 C5.75,9.79 5.75,16.46 5.75,23.13 4.08,23.13 2.41,23.13 0.75,23.13 0.75,16.46 0.75,9.79 0.75,3.12 2.41,3.12 4.08,3.12 5.75,3.12"},ease:"power2.inOut",rotation:360,transformOrigin:"50% 50%"}).to(svg.querySelector(".play-2"),{duration:0.4,attr:{d:"M16.38,3.13 C16.38,9.79 16.38,16.46 16.38,23.13 14.71,23.13 13.04,23.13 11.38,23.13 11.38,16.46 11.38,9.79 11.38,3.12 13.04,3.12 14.71,3.12 16.38,3.12"},ease:"power2.inOut",rotation:360,transformOrigin:"50% 50%"},0.05);return tl;},_buildLoopAnimation=function _buildLoopAnimation(svg){var tl=gsap$j.timeline({data:"root",id:"loop",parent:_independentRoot,paused:true,onComplete:function onComplete(){return tl.kill();}},_independentRoot._time);tl.to(svg,{duration:0.5,rotation:360,ease:"power3.inOut",transformOrigin:"50% 50%"}).to(svg.querySelectorAll(".loop-path"),{duration:0.5,fill:"#91e600",ease:"none"},0);return tl;},_getAnimationById=function _getAnimationById(id){return gsap$j.getById(id)||_independentRoot.getById(id)||id===_recordedRoot.vars.id&&_recordedRoot;},_initCore$f=function _initCore(core){gsap$j=core||_getGSAP$h();if(!_coreInitted$f){if(gsap$j&&_windowExists$9()){_doc$7=document;_docEl$3=_doc$7.documentElement;_win$9=window;gsap$j.registerPlugin(Draggable);_globalTimeline$1=gsap$j.globalTimeline;_globalTimeline$1._sort=true;_globalTimeline$1.autoRemoveChildren=false;Animation$1=gsap$j.core.Animation;_independentRoot=gsap$j.timeline({data:"indy",autoRemoveChildren:true,smoothChildTiming:true});_independentRoot.kill();_independentRoot._dp=0;_independentRoot.to({},{duration:1e12});_recordedRoot=gsap$j.timeline({data:"root",id:"Global Timeline",autoRemoveChildren:false,smoothChildTiming:true,parent:_independentRoot},0);_rootTween=gsap$j.to(_recordedRoot,{duration:1,time:1,ease:"none",data:"root",id:"_rootTween",paused:true,immediateRender:false,parent:_independentRoot},0);_globalTimeline$1.killTweensOf=function(targets,props,onlyActive){_recordedRoot.killTweensOf(targets,props,onlyActive);_recordedRoot.killTweensOf.call(_globalTimeline$1,targets,props,onlyActive);};_independentRoot._start=gsap$j.ticker.time;gsap$j.ticker.add(function(time){return _independentRoot.render(time-_independentRoot._start);});_globalTimeline$1._start+=_globalTimeline$1._time;_recordedRoot._start=_globalTimeline$1._time=_globalTimeline$1._tTime=0;_delayedCall=function _delayedCall(delay,callback,params,scope){return gsap$j.to(callback,{delay:delay,duration:0,onComplete:callback,onReverseComplete:callback,onCompleteParams:params,onReverseCompleteParams:params,callbackScope:scope,parent:_independentRoot},_independentRoot._time);};_delayedCall(0.01,function(){return _rootInstance?_rootInstance.update():_merge$1();});_delayedCall(2,function(){var t,next,offset;if(!_rootInstance){_merge$1();t=_recordedRoot._first;offset=_recordedRoot._start;while(t){next=t._next;if(t._tDur!==t._tTime||!t._dur&&t.progress()!==1){_globalTimeline$1.add(t,t._start-t._delay+offset);}else{t.kill();} t=next;}} if(GSDevTools.globalRecordingTime>2){_delayedCall(GSDevTools.globalRecordingTime-2,function(){_rootInstance&&_rootInstance.update();_globalTimeline$1.autoRemoveChildren=true;});}else{_globalTimeline$1.autoRemoveChildren=true;} _startupPhase=false;});_coreInitted$f=1;}}},_checkIndependence=function _checkIndependence(animation,vars){if(!vars.globalSync&&animation.parent!==_globalTimeline$1){_globalTimeline$1.add(animation,_globalTimeline$1.time());}},GSDevTools=function GSDevTools(vars){if(!_coreInitted$f){_initCore$f();gsap$j||console.warn("Please gsap.registerPlugin(GSDevTools)");} this.vars=vars=vars||{};if(vars.animation){(GSDevTools.getByAnimation(vars.animation)||{kill:function kill(){return 0;}}).kill();} vars.id=vars.id||(_isString$5(vars.animation)?vars.animation:_idSeed++);_lookup$1[vars.id+""]=this;"globalSync"in vars||(vars.globalSync=!vars.animation);var _self=this,root=_createRootElement(vars.container,vars.minimal,vars.css),find=function find(s){return root.querySelector(s);},record=function record(key,value){if(vars.persist!==false&&_supportsStorage){sessionStorage.setItem("gs-dev-"+key+vars.id,value);} return value;},recall=function recall(key){var value;if(vars.persist!==false&&_supportsStorage){value=sessionStorage.getItem("gs-dev-"+key+vars.id);return key==="animation"?value:key==="loop"?value==="true":parseFloat(value);}},playhead=find(".playhead"),timelineTrack=find(".timeline-track"),progressBar=find(".progress-bar"),timeLabel=find(".time"),durationLabel=find(".duration"),pixelToTimeRatio,timeAtDragStart,dragged,skipDragUpdates,progress=0,inPoint=find(".in-point"),outPoint=find(".out-point"),inProgress=0,outProgress=100,pausedWhenDragStarted,list=find(".animation-list"),animationLabel=find(".animation-label"),selectedAnimation,linkedAnimation,declaredAnimation,startTime,endTime,_fullyInitialized,keyboardHandler,playPauseButton=find(".play-pause"),playPauseMorph=_buildPlayPauseMorph(playPauseButton),paused=false,loopButton=find(".loop"),loopAnimation=_buildLoopAnimation(loopButton),loopEnabled,timeScale=find(".time-scale select"),timeScaleLabel=find(".time-scale-label"),onPressTimeline=function onPressTimeline(element,originRatio,limitToInOut){return function(e){var trackBounds=timelineTrack.getBoundingClientRect(),elementBounds=element.getBoundingClientRect(),left=elementBounds.width*originRatio,x=gsap$j.getProperty(element,"x"),minX=trackBounds.left-elementBounds.left-left+x,maxX=trackBounds.right-elementBounds.right+(elementBounds.width-left)+x,unlimitedMinX=minX,limitBounds;if(limitToInOut){if(element!==inPoint){limitBounds=inPoint.getBoundingClientRect();if(limitBounds.left){minX+=limitBounds.left+limitBounds.width-trackBounds.left;}} if(element!==outPoint){limitBounds=outPoint.getBoundingClientRect();if(limitBounds.left){maxX-=trackBounds.left+trackBounds.width-limitBounds.left;}}} pausedWhenDragStarted=paused;this.applyBounds({minX:minX,maxX:maxX});pixelToTimeRatio=linkedAnimation.duration()/trackBounds.width;timeAtDragStart=-unlimitedMinX*pixelToTimeRatio;if(!skipDragUpdates){linkedAnimation.pause(timeAtDragStart+pixelToTimeRatio*this.x);}else{linkedAnimation.pause();} if(this.target===playhead){if(this.activated){this.allowEventDefault=false;} this.activated=true;} dragged=true;};},progressDrag=Draggable.create(playhead,{type:"x",cursor:"ew-resize",allowNativeTouchScrolling:false,allowEventDefault:true,onPress:onPressTimeline(playhead,0.5,true),onDrag:function onDrag(){var time=timeAtDragStart+pixelToTimeRatio*this.x;if(time<0){time=0;}else if(time>linkedAnimation._dur){time=linkedAnimation._dur;} if(!skipDragUpdates){linkedAnimation.time(time);} progressBar.style.width=Math.min(outProgress-inProgress,Math.max(0,time/linkedAnimation._dur*100-inProgress))+"%";timeLabel.innerHTML=time.toFixed(2);},onRelease:function onRelease(){paused||linkedAnimation.resume();}})[0],resetInOut=function resetInOut(){inProgress=0;outProgress=100;inPoint.style.left="0%";outPoint.style.left="100%";record("in",inProgress);record("out",outProgress);updateProgress(true);},inDrag=Draggable.create(inPoint,{type:"x",cursor:"ew-resize",zIndexBoost:false,allowNativeTouchScrolling:false,allowEventDefault:true,onPress:onPressTimeline(inPoint,1,true),onDoubleClick:resetInOut,onDrag:function onDrag(){inProgress=(timeAtDragStart+pixelToTimeRatio*this.x)/linkedAnimation.duration()*100;linkedAnimation.progress(inProgress/100);updateProgress(true);},onRelease:function onRelease(){if(inProgress<0){inProgress=0;} _clearSelection();inPoint.style.left=inProgress+"%";record("in",inProgress);gsap$j.set(inPoint,{x:0,data:"root",display:"block"});if(!paused){linkedAnimation.resume();}}})[0],outDrag=Draggable.create(outPoint,{type:"x",cursor:"ew-resize",allowNativeTouchScrolling:false,allowEventDefault:true,zIndexBoost:false,onPress:onPressTimeline(outPoint,0,true),onDoubleClick:resetInOut,onDrag:function onDrag(){outProgress=(timeAtDragStart+pixelToTimeRatio*this.x)/linkedAnimation.duration()*100;linkedAnimation.progress(outProgress/100);updateProgress(true);},onRelease:function onRelease(){if(outProgress>100){outProgress=100;} _clearSelection();outPoint.style.left=outProgress+"%";record("out",outProgress);gsap$j.set(outPoint,{x:0,data:"root",display:"block"});if(!pausedWhenDragStarted){play();linkedAnimation.resume();}}})[0],updateProgress=function updateProgress(force){if(progressDrag.isPressed&&force!==true){return;} var p=!loopEnabled&&selectedAnimation._repeat===-1?selectedAnimation.totalTime()/selectedAnimation.duration()*100:linkedAnimation.progress()*100||0,repeatDelayPhase=selectedAnimation._repeat&&selectedAnimation._rDelay&&selectedAnimation.totalTime()%(selectedAnimation.duration()+selectedAnimation._rDelay)>selectedAnimation.duration(),target;if(p>100){p=100;} if(p>=outProgress){if(loopEnabled&&!linkedAnimation.paused()&&!progressDrag.isDragging){if(!repeatDelayPhase){p=inProgress;target=linkedAnimation._targets&&linkedAnimation._targets[0];if(target===selectedAnimation){target.seek(startTime+(endTime-startTime)*inProgress/100);} if(selectedAnimation._repeat>0&&!inProgress&&outProgress===100){if(selectedAnimation.totalProgress()===1){linkedAnimation.totalProgress(0,true).resume();}}else{linkedAnimation.progress(p/100,true).resume();}}}else{if(p!==outProgress||selectedAnimation._repeat===-1){p=outProgress;linkedAnimation.progress(p/100);} if(!paused&&(outProgress<100||selectedAnimation.totalProgress()===1||selectedAnimation._repeat===-1)){pause();}}}else if(poutProgress){outProgress=p=Math.min(100,p);outPoint.style.left=outProgress+"%";outDrag.startDrag(e);return;} linkedAnimation.progress(p/100).pause();updateProgress(true);progressDrag.startDrag(e);},play=function play(){if(linkedAnimation.progress()>=outProgress/100){_checkIndependence(linkedAnimation,vars);var target=linkedAnimation._targets&&linkedAnimation._targets[0];if(target===selectedAnimation){target.seek(startTime+(endTime-startTime)*inProgress/100);} if(linkedAnimation._repeat&&!inProgress){linkedAnimation.totalProgress(0,true);}else if(!linkedAnimation.reversed()){linkedAnimation.progress(inProgress/100,true);}} playPauseMorph.play();linkedAnimation.resume();if(paused){_self.update();} paused=false;},pause=function pause(){playPauseMorph.reverse();if(linkedAnimation){linkedAnimation.pause();} paused=true;},togglePlayPause=function togglePlayPause(){if(paused){play();}else{pause();}},onPressRewind=function onPressRewind(e){if(progressDrag.isPressed){return;} _checkIndependence(linkedAnimation,vars);var target=linkedAnimation._targets&&linkedAnimation._targets[0];if(target===selectedAnimation){target.seek(startTime+(endTime-startTime)*inProgress/100);} linkedAnimation.progress(inProgress/100,true);if(!paused){linkedAnimation.resume();}},loop=function loop(value){loopEnabled=value;record("loop",loopEnabled);if(loopEnabled){loopAnimation.play();if(linkedAnimation.progress()>=outProgress/100){var target=linkedAnimation._targets&&linkedAnimation._targets[0];if(target===selectedAnimation){target.seek(startTime+(endTime-startTime)*inProgress/100);} if(selectedAnimation._repeat&&!inProgress&&outProgress===100){linkedAnimation.totalProgress(0,true);}else{linkedAnimation.progress(inProgress/100,true);} play();}}else{loopAnimation.reverse();}},toggleLoop=function toggleLoop(){return loop(!loopEnabled);},updateList=function updateList(){var animations=_getChildrenOf(declaredAnimation&&!vars.globalSync?declaredAnimation:_recordedRoot,true),options=list.children,matches=0,option,i;if(declaredAnimation&&!vars.globalSync){animations.unshift(declaredAnimation);}else if(!vars.hideGlobalTimeline){animations.unshift(_recordedRoot);} for(i=0;i99999999){endTime=tl.duration();} while(tl.parent){startTime=startTime/tl._ts+tl._start;endTime=endTime/tl._ts+tl._start;tl=tl.parent;}}else{endTime=_recordedRoot.duration();} if(endTime-startTime>maxDuration){endTime=startTime+maxDuration;} _recordedRoot.pause(startTime);_rootTween.vars.time=endTime;_rootTween.invalidate();_rootTween.duration(endTime-startTime).timeScale(ts);if(paused){_rootTween.progress(1,true).pause(0,true);}else{_delayedCall(0.01,function(){_rootTween.resume().progress(inProgress/100);paused&&play();});}}else{if(_rootInstance===_self){_rootInstance=null;} startTime=Math.min(inProgress*selectedAnimation.duration(),selectedAnimation.time());if(selectedAnimation===declaredAnimation||!declaredAnimation){linkedAnimation=selectedAnimation;if(!loopEnabled&&linkedAnimation._repeat){loop(true);}}else{tl=selectedAnimation;endTime=tl.totalDuration();if(endTime>99999999){endTime=tl.duration();} while(tl.parent.parent&&tl!==declaredAnimation){startTime=startTime/(tl._ts||tl._pauseTS)+tl._start;endTime=endTime/(tl._ts||tl._pauseTS)+tl._start;tl=tl.parent;} if(endTime-startTime>maxDuration){endTime=startTime+maxDuration;} declaredAnimation.pause(startTime);linkedAnimation=gsap$j.to(declaredAnimation,{duration:endTime-startTime,time:endTime,ease:"none",data:"root",parent:_independentRoot},_independentRoot._time);} linkedAnimation.timeScale(ts);_rootTween.pause();_recordedRoot.resume();linkedAnimation.seek(0);} durationLabel.innerHTML=linkedAnimation.duration().toFixed(2);_selectValue(list,selectedAnimation.vars.id,animationLabel);},updateRootDuration=function updateRootDuration(){var time,ratio,duration;if(selectedAnimation===_recordedRoot){time=_recordedRoot._time;_recordedRoot.progress(1,true).time(time,true);time=(_rootTween._dp._time-_rootTween._start)*_rootTween._ts;duration=Math.min(1000,_recordedRoot.duration());if(duration===1000){duration=Math.min(1000,_getClippedDuration(_recordedRoot));} ratio=_rootTween.duration()/duration;if(ratio!==1&&duration){inProgress*=ratio;if(outProgress<100){outProgress*=ratio;} _rootTween.seek(0);_rootTween.vars.time=duration;_rootTween.invalidate();_rootTween.duration(duration);_rootTween.time(time);durationLabel.innerHTML=duration.toFixed(2);inPoint.style.left=inProgress+"%";outPoint.style.left=outProgress+"%";updateProgress(true);}}},onChangeAnimation=function onChangeAnimation(e){animation(list.options[list.selectedIndex].animation);if(e.target&&e.target.blur){e.target.blur();} paused&&play();},onChangeTimeScale=function onChangeTimeScale(e){var ts=parseFloat(timeScale.options[timeScale.selectedIndex].value)||1,target;linkedAnimation.timeScale(ts);record("timeScale",ts);if(!paused){if(linkedAnimation.progress()>=outProgress/100){target=linkedAnimation._targets&&linkedAnimation._targets[0];if(target===selectedAnimation){target.seek(startTime+(endTime-startTime)*inProgress/100);} linkedAnimation.progress(inProgress/100,true).pause();}else{linkedAnimation.pause();} _delayedCall(0.01,function(){return linkedAnimation.resume();});} timeScaleLabel.innerHTML=ts+"x";if(timeScale.blur){timeScale.blur();}},autoHideTween=gsap$j.to([find(".gs-bottom"),find(".gs-top")],{duration:0.3,autoAlpha:0,y:50,ease:"power2.in",data:"root",paused:true,parent:_independentRoot},_independentRoot._time),hidden=false,onMouseOut=function onMouseOut(e){if(!Draggable.hitTest(e,root)&&!progressDrag.isDragging&&!inDrag.isDragging&&!outDrag.isDragging){autoHideDelayedCall.restart(true);}},hide=function hide(){if(!hidden){autoHideTween.play();autoHideDelayedCall.pause();hidden=true;}},show=function show(){autoHideDelayedCall.pause();if(hidden){autoHideTween.reverse();hidden=false;}},toggleHide=function toggleHide(){if(hidden){show();}else{hide();}},autoHideDelayedCall=_delayedCall(1.3,hide).pause(),initialize=function initialize(preliminary){if(_startupPhase&&!_globalStartTime){_globalStartTime=_recordedRoot._start;} _fullyInitialized=!preliminary;declaredAnimation=_parseAnimation(vars.animation);if(declaredAnimation&&!declaredAnimation.vars.id){declaredAnimation.vars.id="[no id]";} _merge$1();updateList();var savedAnimation=_getAnimationById(recall("animation"));if(savedAnimation){savedAnimation._inProgress=recall("in")||0;savedAnimation._outProgress=recall("out")||100;} vars.paused&&pause();selectedAnimation=null;animation(declaredAnimation||savedAnimation||_recordedRoot);var ts=vars.timeScale||recall("timeScale"),savedInOut=savedAnimation===selectedAnimation;if(ts){_selectValue(timeScale,ts,timeScaleLabel,ts+"x");linkedAnimation.timeScale(ts);} inProgress=("inTime"in vars?_timeToProgress(vars.inTime,selectedAnimation,0,0):savedInOut?savedAnimation._inProgress:0)||0;if(inProgress===100&&!vars.animation&&savedAnimation){animation(_recordedRoot);inProgress=_timeToProgress(vars.inTime,selectedAnimation,0,0)||0;} if(inProgress){inPoint.style.left=inProgress+"%";inPoint.style.display=outPoint.style.display="block";} outProgress=("outTime"in vars?_timeToProgress(vars.outTime,selectedAnimation,100,inProgress):savedInOut?savedAnimation._outProgress:0)||100;if(outProgress=0.05){_time2$1=_time1$1;_time1$1=time;while(pt){val=pt.g(pt.t,pt.p);if(val!==pt.v1||time-pt.t1>0.2){pt.v2=pt.v1;pt.v1=val;pt.t2=pt.t1;pt.t1=time;} pt=pt._next;}}},_types$1={deg:360,rad:Math.PI*2},_initCore$g=function _initCore(){gsap$k=_getGSAP$i();if(gsap$k){_toArray$6=gsap$k.utils.toArray;_getUnit$3=gsap$k.utils.getUnit;_getCache$1=gsap$k.core.getCache;_ticker$1=gsap$k.ticker;_coreInitted$g=1;}};var PropTracker=function PropTracker(target,property,type,next){this.t=target;this.p=property;this.g=target._gsap.get;this.rCap=_types$1[type||_getUnit$3(this.g(target,property))];this.v1=this.v2=0;this.t1=this.t2=_ticker$1.time;if(next){this._next=next;next._prev=this;}};var VelocityTracker=function(){function VelocityTracker(target,property){if(!_coreInitted$g){_initCore$g();} this.target=_toArray$6(target)[0];_lookup$2[_getID$1(this.target)]=this;this._props={};property&&this.add(property);} VelocityTracker.register=function register(core){gsap$k=core;_initCore$g();};var _proto=VelocityTracker.prototype;_proto.get=function get(property,skipRecentTick){var pt=this._props[property]||console.warn("Not tracking "+property+" velocity."),val,dif,rotationCap;val=parseFloat(skipRecentTick?pt.v1:pt.g(pt.t,pt.p));dif=val-parseFloat(pt.v2);rotationCap=pt.rCap;if(rotationCap){dif=dif%rotationCap;if(dif!==dif%(rotationCap/2)){dif=dif<0?dif+rotationCap:dif-rotationCap;}} return _round$9(dif/((skipRecentTick?pt.t1:_ticker$1.time)-pt.t2));};_proto.getAll=function getAll(){var result={},props=this._props,p;for(p in props){result[p]=this.get(p);} return result;};_proto.isTracking=function isTracking(property){return property in this._props;};_proto.add=function add(property,type){if(!(property in this._props)){if(!_first){_ticker$1.add(_onTick);_time1$1=_time2$1=_ticker$1.time;} _first=this._props[property]=new PropTracker(this.target,property,type,_first);}};_proto.remove=function remove(property){var pt=this._props[property],prev,next;if(pt){prev=pt._prev;next=pt._next;if(prev){prev._next=next;} if(next){next._prev=prev;}else if(_first===pt){_ticker$1.remove(_onTick);_first=0;} delete this._props[property];}};_proto.kill=function kill(shallow){for(var p in this._props){this.remove(p);} if(!shallow){delete _lookup$2[_getID$1(this.target)];}};VelocityTracker.track=function track(targets,properties,types){if(!_coreInitted$g){_initCore$g();} var result=[],targs=_toArray$6(targets),a=properties.split(","),t=(types||"").split(","),i=targs.length,tracker,j;while(i--){tracker=_getByTarget(targs[i])||new VelocityTracker(targs[i]);j=a.length;while(j--){tracker.add(a[j],t[j]||t[0]);} result.push(tracker);} return result;};VelocityTracker.untrack=function untrack(targets,properties){var props=(properties||"").split(",");_toArray$6(targets).forEach(function(target){var tracker=_getByTarget(target);if(tracker){if(!props.length){tracker.kill(1);}else{props.forEach(function(p){return tracker.remove(p);});}}});};VelocityTracker.isTracking=function isTracking(target,property){var tracker=_getByTarget(target);return tracker&&tracker.isTracking(property);};VelocityTracker.getVelocity=function getVelocity(target,property){var tracker=_getByTarget(target);return!tracker||!tracker.isTracking(property)?console.warn("Not tracking velocity of "+property):tracker.get(property);};return VelocityTracker;}();VelocityTracker.getByTarget=_getByTarget;_getGSAP$i()&&gsap$k.registerPlugin(VelocityTracker);/*! * InertiaPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$l,_coreInitted$h,_parseEase$2,_toArray$7,_power3,_config$2,_getUnit$4,PropTween$3,_getCache$2,_checkPointRatio,_clamp$3,_processingVars,_getStyleSaver$5,_reverting$6,_getTracker=VelocityTracker.getByTarget,_getGSAP$j=function _getGSAP(){return gsap$l||typeof window!=="undefined"&&(gsap$l=window.gsap)&&gsap$l.registerPlugin&&gsap$l;},_isString$6=function _isString(value){return typeof value==="string";},_isNumber$3=function _isNumber(value){return typeof value==="number";},_isObject$4=function _isObject(value){return typeof value==="object";},_isFunction$6=function _isFunction(value){return typeof value==="function";},_bonusValidated$2=1,_isArray$2=Array.isArray,_emptyFunc$3=function _emptyFunc(p){return p;},_bigNum$4=1e10,_tinyNum$1=1/_bigNum$4,_checkPoint=0.05,_round$a=function _round(value){return Math.round(value*10000)/10000;},_extend$1=function _extend(obj,defaults,exclude){for(var p in defaults){if(!(p in obj)&&p!==exclude){obj[p]=defaults[p];}} return obj;},_deepClone=function _deepClone(obj){var copy={},p,v;for(p in obj){copy[p]=_isObject$4(v=obj[p])&&!_isArray$2(v)?_deepClone(v):v;} return copy;},_getClosest=function _getClosest(n,values,max,min,radius){var i=values.length,closest=0,absDif=_bigNum$4,val,dif,p,dist;if(_isObject$4(n)){while(i--){val=values[i];dif=0;for(p in n){dist=val[p]-n[p];dif+=dist*dist;} if(dif=min&&val<=max){closest=i;absDif=dif;}}} return values[closest];},_parseEnd=function _parseEnd(curProp,end,max,min,name,radius,velocity){if(curProp.end==="auto"){return curProp;} var endVar=curProp.end,adjustedEnd,p;max=isNaN(max)?_bigNum$4:max;min=isNaN(min)?-_bigNum$4:min;if(_isObject$4(end)){adjustedEnd=end.calculated?end:(_isFunction$6(endVar)?endVar(end,velocity):_getClosest(end,endVar,max,min,radius))||end;if(!end.calculated){for(p in adjustedEnd){end[p]=adjustedEnd[p];} end.calculated=true;} adjustedEnd=adjustedEnd[name];}else{adjustedEnd=_isFunction$6(endVar)?endVar(end,velocity):_isArray$2(endVar)?_getClosest(end,endVar,max,min,radius):parseFloat(endVar);} if(adjustedEnd>max){adjustedEnd=max;}else if(adjustedEnd+curProp.max+_tinyNum$1){unitFactor=curProp.unitFactor||_config$2.unitFactors[p]||1;curClippedDuration=curVal>curProp.max&&curProp.min!==curProp.max||curVelocity*unitFactor>-15&&curVelocity*unitFactor<45?minDuration+(maxDuration-minDuration)*0.1:_calculateDuration(curVal,curProp.max,curVelocity);if(curClippedDuration+overshootTolerance-45&&curVelocity*unitFactor<15?minDuration+(maxDuration-minDuration)*0.1:_calculateDuration(curVal,curProp.min,curVelocity);if(curClippedDuration+overshootToleranceduration&&(duration=curClippedDuration);} curDuration>duration&&(duration=curDuration);}} duration>clippedDuration&&(duration=clippedDuration);return duration>maxDuration?maxDuration:durationend){if(preventOvershoot||curProp.preventOvershoot){change1=curProp.min-curVal;}else{change2=curProp.min-curVal-change1;}}} this._props.push(p);this.styles&&this.styles.save(p);this._pt=new PropTween$3(this._pt,target,p,curVal,0,_emptyFunc$3,0,cache.set(target,p,this));this._pt.u=unit||0;this._pt.c1=change1;this._pt.c2=change2;}} tween.duration(duration);return _bonusValidated$2;},render:function render(ratio,data){var pt=data._pt;ratio=_power3(data.tween._time/data.tween._dur);if(ratio||!_reverting$6()){while(pt){pt.set(pt.t,pt.p,_round$a(pt.s+pt.c1*ratio+pt.c2*ratio*ratio)+pt.u,pt.d,ratio);pt=pt._next;}}else{data.styles.revert();}}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(name){return InertiaPlugin$1[name]=VelocityTracker[name];});_getGSAP$j()&&gsap$l.registerPlugin(InertiaPlugin$1);/*! * MorphSVGPlugin 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var gsap$m,_toArray$8,_lastLinkedAnchor,_coreInitted$i,PluginClass,_getGSAP$k=function _getGSAP(){return gsap$m||typeof window!=="undefined"&&(gsap$m=window.gsap)&&gsap$m.registerPlugin&&gsap$m;},_isFunction$7=function _isFunction(value){return typeof value==="function";},_atan2$2=Math.atan2,_cos$2=Math.cos,_sin$2=Math.sin,_sqrt$3=Math.sqrt,_PI=Math.PI,_2PI$1=_PI*2,_angleMin=_PI*0.3,_angleMax=_PI*0.7,_bigNum$5=1e20,_numExp$4=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,_selectorExp$1=/(^[#\.][a-z]|[a-y][a-z])/i,_commands=/[achlmqstvz]/i,_log=function _log(message){return console&&console.warn(message);},_bonusValidated$3=1,_getAverageXY=function _getAverageXY(segment){var l=segment.length,x=0,y=0,i;for(i=0;ixMax){xMax=x;}else if(xyMax){yMax=y;}else if(y-1){segment=rawPath[j];l=segment.length;for(i=6;i-1){t=inc*k;inv=1-t;x=(t*t*x4+3*inv*(t*x3+inv*x2))*t+x1;y=(t*t*y4+3*inv*(t*y3+inv*y2))*t+y1;if(x>xMax){xMax=x;}else if(xyMax){yMax=y;}else if(y-1){segment=rawPath[j];l=segment.length;for(i=0;imax){ax=segment[i-2];ay=segment[i-1];cp1x=segment[i];cp1y=segment[i+1];cp2x=segment[i+2];cp2y=segment[i+3];bx=segment[i+4];by=segment[i+5];t=1/((Math.floor(tally)||1)+1);x1=ax+(cp1x-ax)*t;x2=cp1x+(cp2x-cp1x)*t;x1+=(x2-x1)*t;x2+=(cp2x+(bx-cp2x)*t-x2)*t;y1=ay+(cp1y-ay)*t;y2=cp1y+(cp2y-cp1y)*t;y1+=(y2-y1)*t;y2+=(cp2y+(by-cp2y)*t-y2)*t;segment.splice(i,4,ax+(cp1x-ax)*t,ay+(cp1y-ay)*t,x1,y1,x1+(x2-x1)*t,y1+(y2-y1)*t,x2,y2,cp2x+(bx-cp2x)*t,cp2y+(by-cp2y)*t);i+=6;l+=6;tally--;}} return segment;},_equalizeSegmentQuantity=function _equalizeSegmentQuantity(start,end,shapeIndex,map,fillSafe){var dif=end.length-start.length,longer=dif>0?end:start,shorter=dif>0?start:end,added=0,sortMethod=map==="complexity"?_sortByComplexity:_sortBySize,sortRatio=map==="position"?0:typeof map==="number"?map:0.8,i=shorter.length,shapeIndices=typeof shapeIndex==="object"&&shapeIndex.push?shapeIndex.slice(0):[shapeIndex],reverse=shapeIndices[0]==="reverse"||shapeIndices[0]<0,log=shapeIndex==="log",eb,sb,b,x,y,offsetX,offsetY;if(!shorter[0]){return;} if(longer.length>1){start.sort(sortMethod);end.sort(sortMethod);offsetX=longer.size||_getTotalSize(longer);offsetX=shorter.size||_getTotalSize(shorter);offsetX=longer.centerX-shorter.centerX;offsetY=longer.centerY-shorter.centerY;if(sortMethod===_sortBySize){for(i=0;ishorter[0].length){_subdivideSegmentQty(shorter[0],(longer[0].length-shorter[0].length)/6|0);} i=shorter.length;while(added0){_subdivideSegmentQty(sb,dif/6|0);} if(reverse&&fillSafe!==false&&!sb.reversed){reverseSegment(sb);} shapeIndex=shapeIndices[i]||shapeIndices[i]===0?shapeIndices[i]:"auto";if(shapeIndex){if(sb.closed||Math.abs(sb[0]-sb[sb.length-2])<0.5&&Math.abs(sb[1]-sb[sb.length-1])<0.5){if(shapeIndex==="auto"||shapeIndex==="log"){shapeIndices[i]=shapeIndex=_getClosestShapeIndex(sb,eb,!i||fillSafe===false);if(shapeIndex<0){reverse=true;reverseSegment(sb);shapeIndex=-shapeIndex;} _offsetSegment(sb,shapeIndex*6);}else if(shapeIndex!=="reverse"){if(i&&shapeIndex<0){reverseSegment(sb);} _offsetSegment(sb,(shapeIndex<0?-shapeIndex:shapeIndex)*6);}}else if(!reverse&&(shapeIndex==="auto"&&Math.abs(eb[0]-sb[0])+Math.abs(eb[1]-sb[1])+Math.abs(eb[eb.length-2]-sb[sb.length-2])+Math.abs(eb[eb.length-1]-sb[sb.length-1])>Math.abs(eb[0]-sb[sb.length-2])+Math.abs(eb[1]-sb[sb.length-1])+Math.abs(eb[eb.length-2]-sb[0])+Math.abs(eb[eb.length-1]-sb[1])||shapeIndex%2)){reverseSegment(sb);shapeIndices[i]=-1;reverse=true;}else if(shapeIndex==="auto"){shapeIndices[i]=0;}else if(shapeIndex==="reverse"){shapeIndices[i]=-1;} if(sb.closed!==eb.closed){sb.closed=eb.closed=false;}}} log&&_log("shapeIndex:["+shapeIndices.join(",")+"]");start.shapeIndex=shapeIndices;return shapeIndices;},_pathFilter=function _pathFilter(a,shapeIndex,map,precompile,fillSafe){var start=stringToRawPath(a[0]),end=stringToRawPath(a[1]);if(!_equalizeSegmentQuantity(start,end,shapeIndex||shapeIndex===0?shapeIndex:"auto",map,fillSafe)){return;} a[0]=rawPathToString(start);a[1]=rawPathToString(end);if(precompile==="log"||precompile===true){_log('precompile:["'+a[0]+'","'+a[1]+'"]');}},_offsetPoints=function _offsetPoints(text,offset){if(!offset){return text;} var a=text.match(_numExp$4)||[],l=a.length,s="",inc,i,j;if(offset==="reverse"){i=l-1;inc=-2;}else{i=((parseInt(offset,10)||0)*2+1+l*100)%l;inc=2;} for(j=0;jmax){factor=1/(Math.floor(tally)+1);j=1;while(tally>max){s+=(x+(nextX-x)*factor*j).toFixed(2)+","+(y+(nextY-y)*factor*j).toFixed(2)+" ";tally--;j++;}} s+=nextX+","+nextY+" ";x=nextX;y=nextY;} return s;},_pointsFilter=function _pointsFilter(a){var startNums=a[0].match(_numExp$4)||[],endNums=a[1].match(_numExp$4)||[],dif=endNums.length-startNums.length;if(dif>0){a[0]=_equalizePointQuantity(startNums,dif);}else{a[1]=_equalizePointQuantity(endNums,-dif);}},_buildPointsFilter=function _buildPointsFilter(shapeIndex){return!isNaN(shapeIndex)?function(a){_pointsFilter(a);a[1]=_offsetPoints(a[1],parseInt(shapeIndex,10));}:_pointsFilter;},_parseShape=function _parseShape(shape,forcePath,target){var isString=typeof shape==="string",e,type;if(!isString||_selectorExp$1.test(shape)||(shape.match(_numExp$4)||[]).length<3){e=_toArray$8(shape)[0];if(e){type=(e.nodeName+"").toUpperCase();if(forcePath&&type!=="PATH"){e=convertToPath(e,false);type="PATH";} shape=e.getAttribute(type==="PATH"?"d":"points")||"";if(e===target){shape=e.getAttributeNS(null,"data-original")||shape;}}else{_log("WARNING: invalid morph to: "+shape);shape=false;}} return shape;},_populateSmoothData=function _populateSmoothData(rawPath,tolerance){var j=rawPath.length,limit=0.2*(tolerance||1),smooth,segment,x,y,x2,y2,i,l,a,a2,isSmooth,smoothData;while(--j>-1){segment=rawPath[j];isSmooth=segment.isSmooth=segment.isSmooth||[0,0,0,0];smoothData=segment.smoothData=segment.smoothData||[0,0,0,0];isSmooth.length=4;l=segment.length-2;for(i=6;i_angleMax?angleDif:_short,sl:d,cl:_sqrt$3(dx*dx+dy*dy)-d,i:i};},_initCore$i=function _initCore(required){gsap$m=_getGSAP$k();PluginClass=PluginClass||gsap$m&&gsap$m.plugins.morphSVG;if(gsap$m&&PluginClass){_toArray$8=gsap$m.utils.toArray;PluginClass.prototype._tweenRotation=_tweenRotation;_coreInitted$i=1;}else if(required){_log("Please gsap.registerPlugin(MorphSVGPlugin)");}};var MorphSVGPlugin={version:"3.11.4",name:"morphSVG",rawVars:1,register:function register(core,Plugin){gsap$m=core;PluginClass=Plugin;_initCore$i();},init:function init(target,value,tween,index,targets){_coreInitted$i||_initCore$i(1);if(!value){_log("invalid shape");return false;} _isFunction$7(value)&&(value=value.call(tween,index,target,targets));var type,p,pt,shape,isPoly,shapeIndex,map,startSmooth,endSmooth,start,end,i,j,l,startSeg,endSeg,precompiled,sData,eData,originFactors,useRotation,offset;if(typeof value==="string"||value.getBBox||value[0]){value={shape:value};}else if(typeof value==="object"){type={};for(p in value){type[p]=_isFunction$7(value[p])&&p!=="render"?value[p].call(tween,index,target,targets):value[p];} value=type;} var cs=target.nodeType?window.getComputedStyle(target):{},fill=cs.fill+"",fillSafe=!(fill==="none"||(fill.match(_numExp$4)||[])[3]==="0"||cs.fillRule==="evenodd"),origins=(value.origin||"50 50").split(",");type=(target.nodeName+"").toUpperCase();isPoly=type==="POLYLINE"||type==="POLYGON";if(type!=="PATH"&&!isPoly&&!value.prop){_log("Cannot morph a <"+type+"> element. "+_morphMessage);return false;} p=type==="PATH"?"d":"points";if(!value.prop&&!_isFunction$7(target.setAttribute)){return false;} shape=_parseShape(value.shape||value.d||value.points||"",p==="d",target);if(isPoly&&_commands.test(shape)){_log("A <"+type+"> cannot accept path data. "+_morphMessage);return false;} shapeIndex=value.shapeIndex||value.shapeIndex===0?value.shapeIndex:"auto";map=value.map||MorphSVGPlugin.defaultMap;this._prop=value.prop;this._render=value.render||MorphSVGPlugin.defaultRender;this._apply="updateTarget"in value?value.updateTarget:MorphSVGPlugin.defaultUpdateTarget;this._rnd=Math.pow(10,isNaN(value.precision)?2:+value.precision);this._tween=tween;if(shape){this._target=target;precompiled=typeof value.precompile==="object";start=this._prop?target[this._prop]:target.getAttribute(p);if(!this._prop&&!target.getAttributeNS(null,"data-original")){target.setAttributeNS(null,"data-original",start);} if(p==="d"||this._prop){start=stringToRawPath(precompiled?value.precompile[0]:start);end=stringToRawPath(precompiled?value.precompile[1]:shape);if(!precompiled&&!_equalizeSegmentQuantity(start,end,shapeIndex,map,fillSafe)){return false;} if(value.precompile==="log"||value.precompile===true){_log('precompile:["'+rawPathToString(start)+'","'+rawPathToString(end)+'"]');} useRotation=(value.type||MorphSVGPlugin.defaultType)!=="linear";if(useRotation){start=_populateSmoothData(start,value.smoothTolerance);end=_populateSmoothData(end,value.smoothTolerance);if(!start.size){_getTotalSize(start);} if(!end.size){_getTotalSize(end);} originFactors=_parseOriginFactors(origins[0]);this._origin=start.origin={x:start.left+originFactors.x*start.width,y:start.top+originFactors.y*start.height};if(origins[1]){originFactors=_parseOriginFactors(origins[1]);} this._eOrigin={x:end.left+originFactors.x*end.width,y:end.top+originFactors.y*end.height};} this._rawPath=target._gsRawPath=start;j=start.length;while(--j>-1){startSeg=start[j];endSeg=end[j];startSmooth=startSeg.isSmooth||[];endSmooth=endSeg.isSmooth||[];l=startSeg.length;_lastLinkedAnchor=0;for(i=0;i30){_history.length=30;}},_round$b=function _round(value){return~~(value*1000+(value<0?-.5:.5))/1000;},_getSquarePathData=function _getSquarePathData(size){size=_round$b(size);return["M-"+size,-size,size,-size,size,size,-size,size+"z"].join(_comma);},_getCirclePathData=function _getCirclePathData(size){var circ=0.552284749831,rcirc=_round$b(size*circ);size=_round$b(size);return "M"+size+",0C"+[size,rcirc,rcirc,size,0,size,-rcirc,size,-size,rcirc,-size,0,-size,-rcirc,-rcirc,-size,0,-size,rcirc,-size,size,-rcirc,size,0].join(_comma)+"z";},_checkDeselect=function _checkDeselect(e){if(!e.target._gsSelection&&!_isPressed&&_getTime$3()-_lastInteraction>100){var i=_selectedPaths.length;while(--i>-1){_selectedPaths[i].deselect();} _selectedPaths.length=0;}},_tempDiv$3,_touchEventLookup$1,_isMultiTouching$1=0,_addListener$4=function _addListener(element,type,func,capture){if(element.addEventListener){var touchType=_touchEventLookup$1[type];capture=capture||{passive:false};element.addEventListener(touchType||type,func,capture);if(touchType&&type!==touchType&&touchType.substr(0,7)!=="pointer"){element.addEventListener(type,func,capture);}}else if(element.attachEvent){element.attachEvent("on"+type,func);}},_removeListener$4=function _removeListener(element,type,func){if(element.removeEventListener){var touchType=_touchEventLookup$1[type];element.removeEventListener(touchType||type,func);if(touchType&&type!==touchType&&touchType.substr(0,7)!=="pointer"){element.removeEventListener(type,func);}}else if(element.detachEvent){element.detachEvent("on"+type,func);}},_hasTouchID$1=function _hasTouchID(list,ID){var i=list.length;while(--i>-1){if(list[i].identifier===ID){return true;}} return false;},_onMultiTouchDocumentEnd$1=function _onMultiTouchDocumentEnd(e){_isMultiTouching$1=e.touches&&_dragCount-1){obj[standard[i]]=converted[i];obj[converted[i]]=standard[i];} return obj;}("touchstart,touchmove,touchend,touchcancel");SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(e){return e.getScreenCTM().inverse().multiply(this.getScreenCTM());};_doc$8.addEventListener("keydown",function(e){var key=e.keyCode||e.which,keyString=e.key||key,i,state,a,path;if(keyString==="Shift"||key===16){_SHIFT=true;}else if(keyString==="Control"||key===17){_CTRL=true;}else if(keyString==="Meta"||key===91){_CMD=true;}else if(keyString==="Alt"||key===18){_ALT=true;i=_selectedPaths.length;while(--i>-1){_selectedPaths[i]._onPressAlt();}}else if((keyString==="z"||key===90)&&(_CTRL||_CMD)&&_history.length>1){_history.shift();state=_history[0];if(state){path=state.path;path.path.setAttribute("d",state.d);path.path.setAttribute("transform",state.transform);path.init();a=path._anchors;for(i=0;i-1){_selectedPaths[i]._deleteSelectedAnchors();}}else if((keyString==="a"||key===65)&&(_CMD||_CTRL)){i=_selectedPaths.length;while(--i>-1){_selectedPaths[i].select(true);}}},true);_doc$8.addEventListener("keyup",function(e){var key=e.key||e.keyCode||e.which;if(key==="Shift"||key===16){_SHIFT=false;}else if(key==="Control"||key===17){_CTRL=false;}else if(key==="Meta"||key===91){_CMD=false;}else if(key==="Alt"||key===18){_ALT=false;var i=_selectedPaths.length;while(--i>-1){_selectedPaths[i]._onReleaseAlt();}}},true);_supportsPointer$1=!!_win$a.PointerEvent;_addListener$4(_doc$8,"mouseup",_checkDeselect);_addListener$4(_doc$8,"touchend",_checkDeselect);_addListener$4(_doc$8,"touchcancel",_emptyFunc$4);_addListener$4(_win$a,"touchmove",_emptyFunc$4);_body$6&&_body$6.addEventListener("touchstart",_emptyFunc$4);_coreInitted$j=1;},_onPress=function _onPress(e){var self=this,ctm=getGlobalMatrix(self.target.parentNode,true),touchEventTarget,temp;this._matrix=this.target.transform.baseVal.getItem(0).matrix;this._ctm=ctm;if(_touchEventLookup$1[e.type]){touchEventTarget=e.type.indexOf("touch")!==-1?e.currentTarget||e.target:_doc$8;_addListener$4(touchEventTarget,"touchend",self._onRelease);_addListener$4(touchEventTarget,"touchmove",self._onMove);_addListener$4(touchEventTarget,"touchcancel",self._onRelease);_addListener$4(_doc$8,"touchstart",_onMultiTouchDocument$1);_addListener$4(_win$a,"touchforcechange",_preventDefault$1);}else{touchEventTarget=null;_addListener$4(_doc$8,"mousemove",self._onMove);} if(!_supportsPointer$1){_addListener$4(_doc$8,"mouseup",self._onRelease);} _preventDefault$1(e);_resetSelection();if(e.changedTouches){e=self.touch=e.changedTouches[0];self.touchID=e.identifier;}else if(e.pointerId){self.touchID=e.pointerId;}else{self.touch=self.touchID=null;} self._startPointerY=self.pointerY=e.pageY;self._startPointerX=self.pointerX=e.pageX;self._startElementX=self._matrix.e;self._startElementY=self._matrix.f;if(this._ctm.a===1&&this._ctm.b===0&&this._ctm.c===0&&this._ctm.d===1){this._ctm=null;}else{temp=self._startPointerX*this._ctm.a+self._startPointerY*this._ctm.c+this._ctm.e;self._startPointerY=self._startPointerX*this._ctm.b+self._startPointerY*this._ctm.d+this._ctm.f;self._startPointerX=temp;} self.isPressed=_isPressed=true;self.touchEventTarget=touchEventTarget;if(self.vars.onPress){self.vars.onPress.call(self.vars.callbackScope||self,self.pointerEvent);}},_onMove=function _onMove(e){var self=this,originalEvent=e,touches,i;if(!self._enabled||_isMultiTouching$1||!self.isPressed||!e){return;} self.pointerEvent=e;touches=e.changedTouches;if(touches){e=touches[0];if(e!==self.touch&&e.identifier!==self.touchID){i=touches.length;while(--i>-1&&(e=touches[i]).identifier!==self.touchID){} if(i<0){return;}}}else if(e.pointerId&&self.touchID&&e.pointerId!==self.touchID){return;} _preventDefault$1(originalEvent);self.setPointerPosition(e.pageX,e.pageY);if(self.vars.onDrag){self.vars.onDrag.call(self.vars.callbackScope||self,self.pointerEvent);}},_onRelease=function _onRelease(e,force){var self=this;if(!self._enabled||!self.isPressed||e&&self.touchID!=null&&!force&&(e.pointerId&&e.pointerId!==self.touchID||e.changedTouches&&!_hasTouchID$1(e.changedTouches,self.touchID))){return;} _interacted();self.isPressed=_isPressed=false;var originalEvent=e,wasDragging=self.isDragging,touchEventTarget=self.touchEventTarget,touches,i;if(touchEventTarget){_removeListener$4(touchEventTarget,"touchend",self._onRelease);_removeListener$4(touchEventTarget,"touchmove",self._onMove);_removeListener$4(touchEventTarget,"touchcancel",self._onRelease);_removeListener$4(_doc$8,"touchstart",_onMultiTouchDocument$1);}else{_removeListener$4(_doc$8,"mousemove",self._onMove);} if(!_supportsPointer$1){_removeListener$4(_doc$8,"mouseup",self._onRelease);if(e&&e.target){_removeListener$4(e.target,"mouseup",self._onRelease);}} if(wasDragging){self.isDragging=false;}else if(self.vars.onClick){self.vars.onClick.call(self.vars.callbackScope||self,originalEvent);} if(e){touches=e.changedTouches;if(touches){e=touches[0];if(e!==self.touch&&e.identifier!==self.touchID){i=touches.length;while(--i>-1&&(e=touches[i]).identifier!==self.touchID){} if(i<0){return;}}} self.pointerEvent=originalEvent;self.pointerX=e.pageX;self.pointerY=e.pageY;} if(originalEvent&&!wasDragging&&self.vars.onDragRelease){self.vars.onDragRelease.call(self,self.pointerEvent);}else{if(originalEvent){_preventDefault$1(originalEvent);} if(self.vars.onRelease){self.vars.onRelease.call(self.vars.callbackScope||self,self.pointerEvent);}} if(wasDragging&&self.vars.onDragEnd){self.vars.onDragEnd.call(self.vars.callbackScope||self,self.pointerEvent);} return true;},_createSegmentAnchors=function _createSegmentAnchors(rawPath,j,editor,vars){var segment=rawPath[j],l=segment.length-(segment.closed?6:0),a=[],i;for(i=0;i-_minimumMovement){yChange=0;} if(xChange<_minimumMovement&&xChange>-_minimumMovement){xChange=0;} x=((this._startElementX+xChange)*rnd|0)/rnd;y=((this._startElementY+yChange)*rnd|0)/rnd;if(this.snap&&!_SHIFT){_point.x=x;_point.y=y;this.snap.call(this,_point);x=_point.x;y=_point.y;} if(this.x!==x||this.y!==y){this._matrix.f=this.y=y;this._matrix.e=this.x=x;if(!this.isDragging&&this.isPressed){this.isDragging=true;_callback$2("onDragStart",this,this.pointerEvent);}}};_proto.enabled=function enabled(_enabled){if(!arguments.length){return this._enabled;} var dragging;this._enabled=_enabled;if(_enabled){if(!_supportsPointer$1){_addListener$4(this.target,"mousedown",this._onPress);} _addListener$4(this.target,"touchstart",this._onPress);_addListener$4(this.target,"click",this._onClick,true);}else{dragging=this.isDragging;_removeListener$4(this.target,"mousedown",this._onPress);_removeListener$4(this.target,"touchstart",this._onPress);_removeListener$4(_win$a,"touchforcechange",_preventDefault$1);_removeListener$4(this.target,"click",this._onClick);if(this.touchEventTarget){_removeListener$4(this.touchEventTarget,"touchcancel",this._onRelease);_removeListener$4(this.touchEventTarget,"touchend",this._onRelease);_removeListener$4(this.touchEventTarget,"touchmove",this._onMove);} _removeListener$4(_doc$8,"mouseup",this._onRelease);_removeListener$4(_doc$8,"mousemove",this._onMove);this.isDragging=this.isPressed=false;if(dragging){_callback$2("onDragEnd",this,this.pointerEvent);}} return this;};_proto.endDrag=function endDrag(e){this._onRelease(e);};return DraggableSVG;}();var Anchor=function(){function Anchor(editor,rawPath,j,i,vars){this.editor=editor;this.element=_createSVG("path",editor._selection,{fill:_selectionColor,stroke:_selectionColor,strokeWidth:2,vectorEffect:"non-scaling-stroke"});this.update(rawPath,j,i);this.element._gsSelection=true;this.vars=vars||{};this._draggable=new DraggableSVG(this.element,{callbackScope:this,onDrag:this.onDrag,snap:this.vars.snap,onPress:this.onPress,onRelease:this.onRelease,onClick:this.onClick,onDragEnd:this.onDragEnd});} var _proto2=Anchor.prototype;_proto2.onPress=function onPress(){_callback$2("onPress",this);};_proto2.onClick=function onClick(){_callback$2("onClick",this);};_proto2.onDrag=function onDrag(){var s=this.segment;this.vars.onDrag.call(this.vars.callbackScope||this,this,this._draggable.x-s[this.i],this._draggable.y-s[this.i+1]);};_proto2.onDragEnd=function onDragEnd(){_callback$2("onDragEnd",this);};_proto2.onRelease=function onRelease(){_callback$2("onRelease",this);};_proto2.update=function update(rawPath,j,i){if(rawPath){this.rawPath=rawPath;} if(arguments.length<=1){j=this.j;i=this.i;}else{this.j=j;this.i=i;} var prevSmooth=this.smooth,segment=this.rawPath[j],pi=i===0&&segment.closed?segment.length-4:i-2;this.segment=segment;this.smooth=i>0&&i-1){selectionItems[i]._gsSelection=true;} if(vars.draggable!==false){this._draggable=new DraggableSVG(this._selectionHittest,{callbackScope:this,onPress:this.select,onRelease:this._onRelease,onDrag:this._onDragPath,onDragEnd:this._saveState,maxX:this.vars.maxX,minX:this.vars.minX});} this.init();this._selection.style.visibility=vars.selected===false?"hidden":"visible";if(vars.selected!==false){this.path._gsSelection=true;_selectedPaths.push(this);} this._saveState();if(!_supportsPointer$1){_addListener$4(this._selectionHittest,"mousedown",_bind(this._onClickSelectionPath,this));_addListener$4(this._selectionHittest,"mouseup",_bind(this._onRelease,this));} _addListener$4(this._selectionHittest,"touchstart",_bind(this._onClickSelectionPath,this));_addListener$4(this._selectionHittest,"touchend",_bind(this._onRelease,this));_context$4(this);} var _proto3=PathEditor.prototype;_proto3._onRelease=function _onRelease(e){var anchor=this._editingAnchor;if(anchor){_editingAxis.x=anchor.segment[anchor.i];_editingAxis.y=anchor.segment[anchor.i+1];} _removeListener$4(_win$a,"touchforcechange",_preventDefault$1);_callback$2("onRelease",this,e);};_proto3.init=function init(){var pathData=this.path.getAttribute("d"),rawPath=stringToRawPath(pathData),transform=this.path.getAttribute("transform")||"translate(0,0)",createAnchors=!this._rawPath||rawPath.totalPoints!==this._rawPath.totalPoints||rawPath.length!==this._rawPath.length,anchorVars={callbackScope:this,snap:this.vars.anchorSnap,onDrag:this._onDragAnchor,onPress:this._onPressAnchor,onRelease:this._onRelease,onClick:this._onClickAnchor,onDragEnd:this._onDragEndAnchor,maxX:this.vars.maxX,minX:this.vars.minX},l,i;if(createAnchors&&this._anchors&&this._anchors.length){for(i=0;i1){for(i=1;i-1){this._anchors[i].update(rawPath);}} this._selection.appendChild(this._handle1);this._selection.appendChild(this._handle2);this._selectionPath.setAttribute("d",pathData);this._selectionHittest.setAttribute("d",pathData);this._g.setAttribute("transform",_getConcatenatedTransforms(this.path.parentNode)||"translate(0,0)");this._selection.setAttribute("transform",transform);this._selectionHittest.setAttribute("transform",transform);this._updateAnchors();return this;};_proto3._saveState=function _saveState(){_addHistory(this);};_proto3._onClickSelectionPath=function _onClickSelectionPath(e){if(this._selection.style.visibility==="hidden"){this.select();}else if(_ALT||e&&e.altKey){var anchorVars={callbackScope:this,snap:this.vars.anchorSnap,onDrag:this._onDragAnchor,onPress:this._onPressAnchor,onRelease:this._onRelease,onClick:this._onClickAnchor,onDragEnd:this._onDragEndAnchor,maxX:this.vars.maxX,minX:this.vars.minX},ctm=this._selection.getScreenCTM().inverse(),newIndex,_i,anchor,x,y,closestData;if(this._draggable){this._draggable._onRelease(e);} if(ctm){x=e.clientX*ctm.a+e.clientY*ctm.c+ctm.e;y=e.clientX*ctm.b+e.clientY*ctm.d+ctm.f;} closestData=getClosestData(this._rawPath,x,y);subdivideSegment(this._rawPath[closestData.j],closestData.i,closestData.t);newIndex=closestData.i+6;for(_i=0;_i=newIndex){this._anchors[_i].i+=6;}} anchor=new Anchor(this,this._rawPath,closestData.j,newIndex,anchorVars);this._selection.appendChild(this._handle1);this._selection.appendChild(this._handle2);anchor._draggable._onPress(e);_recentlyAddedAnchor=anchor;this._anchors.push(anchor);this._selectedAnchors.length=0;this._selectedAnchors.push(anchor);this._updateAnchors();this.update();this._saveState();} _resetSelection();_addListener$4(_win$a,"touchforcechange",_preventDefault$1);_callback$2("onPress",this);};_proto3._onClickHandle1=function _onClickHandle1(){var anchor=this._editingAnchor,i=anchor.i,s=anchor.segment,pi=anchor.isClosedStart?s.length-4:i-2;if(_ALT&&Math.abs(s[i]-s[pi])<5&&Math.abs(s[i+1]-s[pi+1])<5){this._onClickAnchor(anchor);}};_proto3._onClickHandle2=function _onClickHandle2(){var anchor=this._editingAnchor,i=anchor.i,s=anchor.segment;if(_ALT&&Math.abs(s[i]-s[i+2])<5&&Math.abs(s[i+1]-s[i+3])<5){this._onClickAnchor(anchor);}};_proto3._onDragEndAnchor=function _onDragEndAnchor(e){_recentlyAddedAnchor=null;this._saveState();};_proto3.isSelected=function isSelected(){return this._selectedAnchors.length>0;};_proto3.select=function select(allAnchors){this._selection.style.visibility="visible";this._editingAnchor=null;this.path._gsSelection=true;if(allAnchors===true){var _i2=this._anchors.length;while(--_i2>-1){this._selectedAnchors[_i2]=this._anchors[_i2];}} if(_selectedPaths.indexOf(this)===-1){_selectedPaths.push(this);} this._updateAnchors();return this;};_proto3.deselect=function deselect(){this._selection.style.visibility="hidden";this._selectedAnchors.length=0;this._editingAnchor=null;this.path._gsSelection=false;_selectedPaths.splice(_selectedPaths.indexOf(this),1);this._updateAnchors();return this;};_proto3._onDragPath=function _onDragPath(e){var transform=this._selectionHittest.getAttribute("transform")||"translate(0,0)";this._selection.setAttribute("transform",transform);this.path.setAttribute("transform",transform);};_proto3._onPressAnchor=function _onPressAnchor(anchor){if(this._selectedAnchors.indexOf(anchor)===-1){if(!_SHIFT){this._selectedAnchors.length=0;} this._selectedAnchors.push(anchor);}else if(_SHIFT){this._selectedAnchors.splice(this._selectedAnchors.indexOf(anchor),1);anchor._draggable.endDrag();} _editingAxis.x=anchor.segment[anchor.i];_editingAxis.y=anchor.segment[anchor.i+1];this._updateAnchors();_callback$2("onPress",this);};_proto3._deleteSelectedAnchors=function _deleteSelectedAnchors(){var anchors=this._selectedAnchors,i=anchors.length,anchor,index,j;while(--i>-1){anchor=anchors[i];anchor.element.parentNode.removeChild(anchor.element);anchor._draggable.enabled(false);index=anchor.i;if(!index){anchor.segment.splice(index,6);}else if(index=index){this._anchors[j].i-=6;}}} this._updateAnchors();this.update();this._saveState();if(this.vars.onDeleteAnchor){this.vars.onDeleteAnchor.call(this.vars.callbackScope||this);}};_proto3._onClickAnchor=function _onClickAnchor(anchor){var i=anchor.i,segment=anchor.segment,pi=anchor.isClosedStart?segment.length-4:i-2,rnd=1000,isEnd=!i||i>=segment.length-2,angle1,angle2,length1,length2,sin,cos;if(_ALT&&_recentlyAddedAnchor!==anchor&&this._editingAnchor){anchor.smooth=!anchor.smooth;if(isEnd&&!anchor.isClosedStart){anchor.smooth=false;} anchor.element.setAttribute("d",anchor.smooth?this._circleHandle:this._squareHandle);if(anchor.smooth&&(!isEnd||anchor.isClosedStart)){angle1=Math.atan2(segment[i+1]-segment[pi+1],segment[i]-segment[pi]);angle2=Math.atan2(segment[i+3]-segment[i+1],segment[i+2]-segment[i]);angle1=(angle1+angle2)/2;length1=_getLength$1(segment,pi,i);length2=_getLength$1(segment,i,i+2);if(length1<0.2){length1=_getLength$1(segment,i,pi-4)/4;angle1=angle2||Math.atan2(segment[i+7]-segment[pi-3],segment[i+6]-segment[pi-4]);} if(length2<0.2){length2=_getLength$1(segment,i,i+6)/4;angle2=angle1||Math.atan2(segment[i+7]-segment[pi-3],segment[i+6]-segment[pi-4]);} sin=Math.sin(angle1);cos=Math.cos(angle1);if(Math.abs(angle2-angle1)-1){this._anchors[i]._draggable.enabled(_enabled2);} this._enabled=_enabled2;this._handle1._draggable.enabled(_enabled2);this._handle2._draggable.enabled(_enabled2);if(this._draggable){this._draggable.enabled(_enabled2);} if(!_enabled2){this.deselect();this._selectionHittest.parentNode&&this._selectionHittest.parentNode.removeChild(this._selectionHittest);this._selection.parentNode&&this._selection.parentNode.removeChild(this._selection);}else if(!this._selection.parentNode){this.path.ownerSVGElement.appendChild(this._selectionHittest);this.path.ownerSVGElement.appendChild(this._selection);this.init();this._saveState();} this._updateAnchors();return this.update();};_proto3.update=function update(readPath){var d="",anchor=this._editingAnchor,i,s,x,y,pi;if(readPath){this.init();} if(anchor){i=anchor.i;s=anchor.segment;if(i||anchor.isClosedStart){pi=anchor.isClosedStart?s.length-4:i-2;x=s[pi];y=s[pi+1];this._handle1.setAttribute("transform","translate("+x+_comma+y+")");this._line1.setAttribute("points",x+_comma+y+_comma+s[i]+_comma+s[i+1]);} if(i7){d+="M"+s[0]+_comma+s[1]+"C"+s.slice(2).join(_comma);}} this.path.setAttribute("d",d);this._selectionPath.setAttribute("d",d);this._selectionHittest.setAttribute("d",d);} if(this.vars.onUpdate&&this._enabled){_callback$2("onUpdate",this,d);} return this;};_proto3.getRawPath=function getRawPath(applyTransforms,offsetX,offsetY){if(applyTransforms){var m=_getConsolidatedMatrix(this.path);return transformRawPath(copyRawPath(this._rawPath),1,0,0,1,m.e+(offsetX||0),m.f+(offsetY||0));} return this._rawPath;};_proto3.getString=function getString(applyTransforms,offsetX,offsetY){if(applyTransforms){var m=_getConsolidatedMatrix(this.path);return rawPathToString(transformRawPath(copyRawPath(this._rawPath),1,0,0,1,m.e+(offsetX||0),m.f+(offsetY||0)));} return this.path.getAttribute("d");};_proto3.getNormalizedSVG=function getNormalizedSVG(height,originY,shorten,onEaseError){var s=this._rawPath[0],tx=s[0]*-1,ty=originY===0?0:-(originY||s[1]),l=s.length,sx=1/(s[l-2]+tx),sy=-height||s[l-1]+ty,rnd=1000,points,i,x1,y1,x2,y2;_temp$1.length=0;if(sy){sy=1/sy;}else{sy=-sx;} sx*=rnd;sy*=rnd;for(i=0;i1||x2<0){onEaseError();break;} x1=x2;}} if(shorten&&l===8&&_temp$1[0]===0&&_temp$1[1]===0&&_temp$1[l-2]===1&&_temp$1[l-1]===1){return _temp$1.slice(2,6).join(",");} _temp$1[2]="C"+_temp$1[2];return "M"+_temp$1.join(",");};_proto3.kill=function kill(){this.enabled(false);this._g.parentNode&&this._g.parentNode.removeChild(this._g);};_proto3.revert=function revert(){this.kill();};return PathEditor;}();PathEditor.simplifyPoints=simplifyPoints;PathEditor.pointsToSegment=pointsToSegment;PathEditor.simplifySVG=function(data,vars){var element,points,i,x1,x2,y1,y2,bezier,precision,tolerance,l,cornerThreshold;vars=vars||{};tolerance=vars.tolerance||1;precision=vars.precision||1/tolerance;cornerThreshold=(vars.cornerThreshold===undefined?18:+vars.cornerThreshold)*_DEG2RAD$6;if(typeof data!=="string"){element=data;data=element.getAttribute("d");} if(data.charAt(0)==="#"||data.charAt(0)==="."){element=_doc$8.querySelector(data);if(element){data=element.getAttribute("d");}} points=vars.curved===false&&!/[achqstvz]/ig.test(data)?data.match(_numbersExp$1):stringToRawPath(data)[0];if(vars.curved!==false){bezier=points;points=[];l=bezier.length;for(i=2;imaxX||(dx=maxX-x)*dxmaxY||(dy=maxY-y)*dyMath.abs(gapBottom)?gapTop:gapBottom)/(1-progress),offset=-change*progress,ratio,extraChange;if(change>0){ratio=b2.height/(_win$c.innerHeight+b2.height);extraChange=ratio===0.5?b2.height*2:Math.min(b2.height,-change*ratio/(2*ratio-1))*2*(progress||1);offset+=progress?-extraChange*progress:-extraChange/2;change+=extraChange;} return{change:change,offset:offset};},_wrap=function _wrap(el){var wrapper=_doc$a.querySelector(".ScrollSmoother-wrapper");if(!wrapper){wrapper=_doc$a.createElement("div");wrapper.classList.add("ScrollSmoother-wrapper");el.parentNode.insertBefore(wrapper,el);wrapper.appendChild(el);} return wrapper;};var ScrollSmoother=function(){function ScrollSmoother(vars){var _this=this;_coreInitted$k||ScrollSmoother.register(gsap$p)||console.warn("Please gsap.registerPlugin(ScrollSmoother)");vars=this.vars=vars||{};_mainInstance&&_mainInstance.kill();_mainInstance=this;_context$6(this);var _vars=vars,smoothTouch=_vars.smoothTouch,_onUpdate=_vars.onUpdate,onStop=_vars.onStop,smooth=_vars.smooth,onFocusIn=_vars.onFocusIn,normalizeScroll=_vars.normalizeScroll,wholePixels=_vars.wholePixels,content,wrapper,height,mainST,effects,sections,intervalID,wrapperCSS,contentCSS,paused,pausedNormalizer,recordedRefreshScroll,recordedRefreshScrub,self=this,resizeObserver=typeof ResizeObserver!=="undefined"&&vars.autoResize!==false&&new ResizeObserver(function(){return ScrollTrigger$3.isRefreshing||_onResizeDelayedCall.restart(true);}),effectsPrefix=vars.effectsPrefix||"",scrollFunc=ScrollTrigger$3.getScrollFunc(_win$c),smoothDuration=ScrollTrigger$3.isTouch===1?smoothTouch===true?0.8:parseFloat(smoothTouch)||0:smooth===0||smooth===false?0:parseFloat(smooth)||0.8,speed=smoothDuration&&+vars.speed||1,currentY=0,delta=0,startupPhase=1,tracker=_getVelocityProp$1(0),updateVelocity=function updateVelocity(){return tracker.update(-currentY);},scroll={y:0},removeScroll=function removeScroll(){return content.style.overflow="visible";},isProxyScrolling,killScrub=function killScrub(trigger){trigger.update();var scrub=trigger.getTween();if(scrub){scrub.pause();scrub._time=scrub._dur;scrub._tTime=scrub._tDur;} isProxyScrolling=false;trigger.animation.progress(trigger.progress,true);},render=function render(y,force){if(y!==currentY&&!paused||force){wholePixels&&(y=Math.round(y));if(smoothDuration){content.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+y+", 0, 1)";content._gsap.y=y+"px";} delta=y-currentY;currentY=y;ScrollTrigger$3.isUpdating||ScrollTrigger$3.update();}},scrollTop=function scrollTop(value){if(arguments.length){value<0&&(value=0);scroll.y=-value;isProxyScrolling=true;paused?currentY=-value:render(-value);ScrollTrigger$3.isRefreshing?mainST.update():scrollFunc(value);return this;} return-currentY;},lastFocusElement,_onFocusIn=function _onFocusIn(e){wrapper.scrollTop=0;if(e.target.contains&&e.target.contains(wrapper)||onFocusIn&&onFocusIn(_this,e)===false){return;} ScrollTrigger$3.isInViewport(e.target)||e.target===lastFocusElement||_this.scrollTo(e.target,false,"center center");lastFocusElement=e.target;},adjustParallaxPosition=function adjustParallaxPosition(triggers,createdAfterEffectWasApplied){var pins,start,dif,markers;effects.forEach(function(st){pins=st.pins;markers=st.markers;triggers.forEach(function(trig){if(st.trigger&&trig.trigger&&st!==trig&&(trig.trigger===st.trigger||trig.pinnedContainer===st.trigger||st.trigger.contains(trig.trigger))){start=trig.start;dif=(start-st.start-st.offset)/st.ratio-(start-st.start);pins.forEach(function(p){return dif-=p.distance/st.ratio-p.distance;});trig.setPositions(start+dif,trig.end+dif);trig.markerStart&&markers.push(gsap$p.quickSetter([trig.markerStart,trig.markerEnd],"y","px"));if(trig.pin&&trig.end>0){dif=trig.end-trig.start;pins.push({start:trig.start,end:trig.end,distance:dif,trig:trig});st.setPositions(st.start,st.end+dif);st.vars.onRefresh(st);}}});});},onRefresh=function onRefresh(){removeScroll();requestAnimationFrame(removeScroll);if(effects){effects.forEach(function(st){var start=st.start,end=st.auto?Math.min(ScrollTrigger$3.maxScroll(st.scroller),st.end):start+(st.end-start)/st.ratio,offset=(end-st.end)/2;start-=offset;end-=offset;st.offset=offset||0.0001;st.pins.length=0;st.setPositions(Math.min(start,end),Math.max(start,end));st.vars.onRefresh(st);});adjustParallaxPosition(ScrollTrigger$3.sort());} tracker.reset();},addOnRefresh=function addOnRefresh(){return ScrollTrigger$3.addEventListener("refresh",onRefresh);},restoreEffects=function restoreEffects(){return effects&&effects.forEach(function(st){return st.vars.onRefresh(st);});},revertEffects=function revertEffects(){effects&&effects.forEach(function(st){return st.vars.onRefreshInit(st);});return restoreEffects;},effectValueGetter=function effectValueGetter(name,value,index,el){return function(){var v=typeof value==="function"?value(index,el):value;v||v===0||(v=el.getAttribute("data-"+effectsPrefix+name)||(name==="speed"?1:0));el.setAttribute("data-"+effectsPrefix+name,v);return v==="auto"?v:parseFloat(v);};},createEffect=function createEffect(el,speed,lag,index,effectsPadding){effectsPadding=(typeof effectsPadding==="function"?effectsPadding(index,el):effectsPadding)||0;var getSpeed=effectValueGetter("speed",speed,index,el),getLag=effectValueGetter("lag",lag,index,el),startY=gsap$p.getProperty(el,"y"),cache=el._gsap,ratio,st,autoSpeed,scrub,progressOffset,yOffset,initDynamicValues=function initDynamicValues(){speed=getSpeed();lag=getLag();ratio=parseFloat(speed)||1;autoSpeed=speed==="auto";progressOffset=autoSpeed?0:0.5;scrub&&scrub.kill();scrub=lag&&gsap$p.to(el,{ease:_expo,overwrite:false,y:"+=0",duration:lag});if(st){st.ratio=ratio;st.autoSpeed=autoSpeed;}},revert=function revert(){cache.y=startY+"px";cache.renderTransform(1);initDynamicValues();},pins=[],markers=[],change=0,updateChange=function updateChange(self){if(autoSpeed){revert();var auto=_autoDistance(el,_clamp$4(0,1,-self.start/(self.end-self.start)));change=auto.change;yOffset=auto.offset;}else{change=(self.end-self.start)*(1-ratio);yOffset=0;} pins.forEach(function(p){return change-=p.distance*(1-ratio);});self.vars.onUpdate(self);scrub&&scrub.progress(1);};initDynamicValues();if(ratio!==1||autoSpeed||scrub){st=ScrollTrigger$3.create({trigger:autoSpeed?el.parentNode:el,start:"top bottom+="+effectsPadding,end:"bottom top-="+effectsPadding,scroller:wrapper,scrub:true,refreshPriority:-999,onRefreshInit:revert,onRefresh:updateChange,onKill:function onKill(self){var i=effects.indexOf(self);i>=0&&effects.splice(i,1);revert();},onUpdate:function onUpdate(self){var y=startY+change*(self.progress-progressOffset),i=pins.length,extraY=0,pin,scrollY,end;if(self.offset){if(i){scrollY=-currentY;end=self.end;while(i--){pin=pins[i];if(pin.trig.isActive||scrollY>=pin.start&&scrollY<=pin.end){if(scrub){pin.trig.progress+=pin.trig.direction<0?0.001:-0.001;pin.trig.update(0,0,1);scrub.resetTo("y",parseFloat(cache.y),-delta,true);startupPhase&&scrub.progress(1);} return;} scrollY>pin.end&&(extraY+=pin.distance);end-=pin.distance;} y=startY+extraY+change*((gsap$p.utils.clamp(self.start,self.end,scrollY)-self.start-extraY)/(end-self.start)-progressOffset);} y=_round$c(y+yOffset);markers.length&&!autoSpeed&&markers.forEach(function(setter){return setter(y-extraY);});if(scrub){scrub.resetTo("y",y,-delta,true);startupPhase&&scrub.progress(1);}else{cache.y=y+"px";cache.renderTransform(1);}}}});updateChange(st);gsap$p.core.getCache(st.trigger).stRevert=revertEffects;st.startY=startY;st.pins=pins;st.markers=markers;st.ratio=ratio;st.autoSpeed=autoSpeed;el.style.willChange="transform";} return st;};addOnRefresh();ScrollTrigger$3.addEventListener("killAll",addOnRefresh);gsap$p.delayedCall(0.5,function(){return startupPhase=0;});this.scrollTop=scrollTop;this.scrollTo=function(target,smooth,position){var p=gsap$p.utils.clamp(0,ScrollTrigger$3.maxScroll(_win$c),isNaN(target)?_this.offset(target,position):+target);!smooth?scrollTop(p):paused?gsap$p.to(_this,{duration:smoothDuration,scrollTop:p,overwrite:"auto",ease:_expo}):scrollFunc(p);};this.offset=function(target,position){target=_toArray$9(target)[0];var cssText=target.style.cssText,st=ScrollTrigger$3.create({trigger:target,start:position||"top top"}),y;effects&&adjustParallaxPosition([st]);y=st.start;st.kill(false);target.style.cssText=cssText;gsap$p.core.getCache(target).uncache=1;return y;};function refreshHeight(){height=content.clientHeight;content.style.overflow="visible";_body$8.style.height=_win$c.innerHeight+(height-_win$c.innerHeight)/speed+"px";return height-_win$c.innerHeight;} this.content=function(element){if(arguments.length){var newContent=_toArray$9(element||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||_body$8.children[0];if(newContent!==content){content=newContent;contentCSS=content.getAttribute("style")||"";resizeObserver&&resizeObserver.observe(content);gsap$p.set(content,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"});smoothDuration||gsap$p.set(content,{clearProps:"transform"});} return this;} return content;};this.wrapper=function(element){if(arguments.length){wrapper=_toArray$9(element||"#smooth-wrapper")[0]||_wrap(content);wrapperCSS=wrapper.getAttribute("style")||"";refreshHeight();gsap$p.set(wrapper,smoothDuration?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"});return this;} return wrapper;};this.effects=function(targets,config){var _effects;effects||(effects=[]);if(!targets){return effects.slice(0);} targets=_toArray$9(targets);targets.forEach(function(target){var i=effects.length;while(i--){effects[i].trigger===target&&effects[i].kill();}});config=config||{};var _config=config,speed=_config.speed,lag=_config.lag,effectsPadding=_config.effectsPadding,effectsToAdd=[],i,st;for(i=0;iscrub._dp._time;recordedRefreshScroll=currentY;scroll.y=0;if(smoothDuration){wrapper.style.pointerEvents="none";wrapper.scrollTop=0;setTimeout(function(){return wrapper.style.removeProperty("pointer-events");},50);}},onRefresh:function onRefresh(self){self.animation.invalidate();self.setPositions(self.start,refreshHeight()/speed);recordedRefreshScrub||killScrub(self);scroll.y=-scrollFunc();render(scroll.y);startupPhase||self.animation.progress(gsap$p.utils.clamp(0,1,recordedRefreshScroll/-self.end));if(recordedRefreshScrub){self.progress-=0.001;self.update();}},id:"ScrollSmoother",scroller:_win$c,invalidateOnRefresh:true,start:0,refreshPriority:-9999,end:function end(){return refreshHeight()/speed;},onScrubComplete:function onScrubComplete(){tracker.reset();onStop&&onStop(_this);},scrub:smoothDuration||true});this.smooth=function(value){if(arguments.length){smoothDuration=value||0;speed=smoothDuration&&+vars.speed||1;mainST.scrubDuration(value);} return mainST.getTween()?mainST.getTween().duration():0;};mainST.getTween()&&(mainST.getTween().vars.ease=vars.ease||_expo);this.scrollTrigger=mainST;vars.effects&&this.effects(vars.effects===true?"[data-"+effectsPrefix+"speed], [data-"+effectsPrefix+"lag]":vars.effects,{effectsPadding:vars.effectsPadding});vars.sections&&this.sections(vars.sections===true?"[data-section]":vars.sections);existingScrollTriggers.forEach(function(st){st.vars.scroller=wrapper;st.revert(false,true);st.init(st.vars,st.animation);});this.paused=function(value,allowNestedScroll){if(arguments.length){if(!!paused!==value){if(value){mainST.getTween()&&mainST.getTween().pause();scrollFunc(-currentY);tracker.reset();pausedNormalizer=ScrollTrigger$3.normalizeScroll();pausedNormalizer&&pausedNormalizer.disable();paused=ScrollTrigger$3.observe({preventDefault:true,type:"wheel,touch,scroll",debounce:false,allowClicks:true,onChangeY:function onChangeY(){return scrollTop(-currentY);}});paused.nested=_inputObserver$1(_docEl$5,"wheel,touch,scroll",true,allowNestedScroll!==false);}else{paused.nested.kill();paused.kill();paused=0;pausedNormalizer&&pausedNormalizer.enable();mainST.progress=(-currentY-mainST.start)/(mainST.end-mainST.start);killScrub(mainST);}} return this;} return!!paused;};this.kill=this.revert=function(){_this.paused(false);killScrub(mainST);mainST.kill();var triggers=(effects||[]).concat(sections||[]),i=triggers.length;while(i--){triggers[i].kill();} ScrollTrigger$3.scrollerProxy(wrapper);ScrollTrigger$3.removeEventListener("killAll",addOnRefresh);ScrollTrigger$3.removeEventListener("refresh",onRefresh);wrapper.style.cssText=wrapperCSS;content.style.cssText=contentCSS;var defaults=ScrollTrigger$3.defaults({});defaults&&defaults.scroller===wrapper&&ScrollTrigger$3.defaults({scroller:_win$c});_this.normalizer&&ScrollTrigger$3.normalizeScroll(false);clearInterval(intervalID);_mainInstance=null;resizeObserver&&resizeObserver.disconnect();_body$8.style.removeProperty("height");_win$c.removeEventListener("focusin",_onFocusIn);};this.refresh=function(soft,force){return mainST.refresh(soft,force);};if(normalizeScroll){this.normalizer=ScrollTrigger$3.normalizeScroll(normalizeScroll===true?{debounce:true,content:!smoothDuration&&content}:normalizeScroll);} ScrollTrigger$3.config(vars);"overscrollBehavior"in _win$c.getComputedStyle(_body$8)&&gsap$p.set([_body$8,_docEl$5],{overscrollBehavior:"none"});"scrollBehavior"in _win$c.getComputedStyle(_body$8)&&gsap$p.set([_body$8,_docEl$5],{scrollBehavior:"auto"});_win$c.addEventListener("focusin",_onFocusIn);intervalID=setInterval(updateVelocity,250);_doc$a.readyState==="loading"||requestAnimationFrame(function(){return ScrollTrigger$3.refresh();});} ScrollSmoother.register=function register(core){if(!_coreInitted$k){gsap$p=core||_getGSAP$l();if(_windowExists$a()&&window.document){_win$c=window;_doc$a=document;_docEl$5=_doc$a.documentElement;_body$8=_doc$a.body;} if(gsap$p){_toArray$9=gsap$p.utils.toArray;_clamp$4=gsap$p.utils.clamp;_expo=gsap$p.parseEase("expo");_context$6=gsap$p.core.context||function(){};_onResizeDelayedCall=gsap$p.delayedCall(0.2,function(){return ScrollTrigger$3.isRefreshing||_mainInstance&&_mainInstance.refresh();}).pause();ScrollTrigger$3=gsap$p.core.globals().ScrollTrigger;gsap$p.core.globals("ScrollSmoother",ScrollSmoother);if(_body$8&&ScrollTrigger$3){_getVelocityProp$1=ScrollTrigger$3.core._getVelocityProp;_inputObserver$1=ScrollTrigger$3.core._inputObserver;ScrollSmoother.refresh=ScrollTrigger$3.refresh;_coreInitted$k=1;}}} return _coreInitted$k;};_createClass(ScrollSmoother,[{key:"progress",get:function get(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0;}}]);return ScrollSmoother;}();ScrollSmoother.version="3.11.4";ScrollSmoother.create=function(vars){return _mainInstance&&vars&&_mainInstance.content()===_toArray$9(vars.content)[0]?_mainInstance:new ScrollSmoother(vars);};ScrollSmoother.get=function(){return _mainInstance;};_getGSAP$l()&&gsap$p.registerPlugin(ScrollSmoother);/*! * SplitText: 3.11.4 * https://greensock.com * * @license Copyright 2008-2022, GreenSock. All rights reserved. * Subject to the terms at https://greensock.com/standard-license or for * Club GreenSock members, the agreement issued with that membership. * @author: Jack Doyle, jack@greensock.com */var _doc$b,_win$d,_coreInitted$l,gsap$q,_context$7,_toArray$a,_stripExp=/(?:\r|\n|\t\t)/g,_multipleSpacesExp=/(?:\s\s+)/g,_initCore$l=function _initCore(core){_doc$b=document;_win$d=window;gsap$q=gsap$q||core||_win$d.gsap||console.warn("Please gsap.registerPlugin(SplitText)");if(gsap$q){_toArray$a=gsap$q.utils.toArray;_context$7=gsap$q.core.context||function(){};_coreInitted$l=1;}},_getComputedStyle$2=function _getComputedStyle(element){return _win$d.getComputedStyle(element);},_isAbsolute=function _isAbsolute(vars){return vars.position==="absolute"||vars.absolute===true;},_findSpecialChars=function _findSpecialChars(text,chars){var i=chars.length,s;while(--i>-1){s=chars[i];if(text.substr(0,s.length)===s){return s.length;}}},_divStart=" style='position:relative;display:inline-block;'",_cssClassFunc=function _cssClassFunc(cssClass,tag){if(cssClass===void 0){cssClass="";} var iterate=~cssClass.indexOf("++"),num=1;if(iterate){cssClass=cssClass.split("++").join("");} return function(){return "<"+tag+_divStart+(cssClass?" class='"+cssClass+(iterate?num++:"")+"'>":">");};},_swapText=function _swapText(element,oldText,newText){var type=element.nodeType;if(type===1||type===9||type===11){for(element=element.firstChild;element;element=element.nextSibling){_swapText(element,oldText,newText);}}else if(type===3||type===4){element.nodeValue=element.nodeValue.split(oldText).join(newText);}},_pushReversed=function _pushReversed(a,merge){var i=merge.length;while(--i>-1){a.push(merge[i]);}},_isBeforeWordDelimiter=function _isBeforeWordDelimiter(e,root,wordDelimiter){var next;while(e&&e!==root){next=e._next||e.nextSibling;if(next){return next.textContent.charAt(0)===wordDelimiter;} e=e.parentNode||e._parent;}},_deWordify=function _deWordify(e){var children=_toArray$a(e.childNodes),l=children.length,i,child;for(i=0;ilineThreshold&&(node.nodeName!=="BR"||i===0)){curLine=[];lines.push(curLine);lineOffsetY=offset;} if(absolute){node._x=node.offsetLeft;node._y=offset;node._w=node.offsetWidth;node._h=node.offsetHeight;} if(lines){if(node._isSplit&&isChild||!chars&&isChild||words&&isChild||!words&&node.parentNode.parentNode===element&&!node.parentNode._isSplit){curLine.push(node);node._x-=paddingLeft;if(_isBeforeWordDelimiter(node,element,wordDelimiter)){node._wordEnd=true;}} if(node.nodeName==="BR"&&(node.nextSibling&&node.nextSibling.nodeName==="BR"||i===0)){lines.push([]);}}}}} for(i=0;i-1){spaceNodesToRemove[i].parentNode.removeChild(spaceNodesToRemove[i]);} if(lines){if(absolute){lineNode=_doc$b.createElement(tag);element.appendChild(lineNode);lineWidth=lineNode.offsetWidth+"px";offset=lineNode.offsetParent===element?0:element.offsetLeft;element.removeChild(lineNode);} style=element.style.cssText;element.style.cssText="display:none;";while(element.firstChild){element.removeChild(element.firstChild);} addWordSpaces=wordDelimiter===" "&&(!absolute||!words&&!chars);for(i=0;ielement.clientHeight){element.style.height=origHeight-padTopAndBottom+"px";if(element.clientHeightelement.clientWidth){element.style.width=origWidth-padLeftAndRight+"px";if(element.clientWidth",wordIsOpen=1,specialChars=vars.specialChars?typeof vars.specialChars==="function"?vars.specialChars:_findSpecialChars:null,text,splitText,i,j,l,character,hasTagStart,testResult,container=_doc$b.createElement("div"),parent=element.parentNode;parent.insertBefore(container,element);container.textContent=element.nodeValue;parent.removeChild(element);element=container;text=getText(element);hasTagStart=text.indexOf("<")!==-1;if(vars.reduceWhiteSpace!==false){text=text.replace(_multipleSpacesExp," ").replace(_stripExp,"");} if(hasTagStart){text=text.split("<").join("{{LT}}");} l=text.length;splitText=(text.charAt(0)===" "?space:"")+wordStart();for(i=0;i":character;i+=testResult-1;}else if(character===wordDelimiter&&text.charAt(i-1)!==wordDelimiter&&i){splitText+=wordIsOpen?wordEnd:"";wordIsOpen=0;while(text.charAt(i+1)===wordDelimiter){splitText+=space;i++;} if(i===l-1){splitText+=space;}else if(text.charAt(i+1)!==")"){splitText+=space+wordStart();wordIsOpen=1;}}else if(character==="{"&&text.substr(i,6)==="{{LT}}"){splitText+=chars?charStart()+"{{LT}}"+"":"{{LT}}";i+=5;}else if(character.charCodeAt(0)>=0xD800&&character.charCodeAt(0)<=0xDBFF||text.charCodeAt(i+1)>=0xFE00&&text.charCodeAt(i+1)<=0xFE0F){j=((text.substr(i,12).split(emojiExp)||[])[1]||"").length||2;splitText+=chars&&character!==" "?charStart()+text.substr(i,j)+"":text.substr(i,j);i+=j-1;}else{splitText+=chars&&character!==" "?charStart()+character+"":character;}} element.outerHTML=splitText+(wordIsOpen?wordEnd:"");hasTagStart&&_swapText(parent,"{{LT}}","<");},_split=function _split(element,vars,wordStart,charStart){var children=_toArray$a(element.childNodes),l=children.length,absolute=_isAbsolute(vars),i,child;if(element.nodeType!==3||l>1){vars.absolute=false;for(i=0;i-1){e=this.elements[i];this._originals[i]=e.innerHTML;origHeight=e.clientHeight;origWidth=e.clientWidth;_split(e,vars,wordStart,charStart);_setPositionsAfterSplit(e,vars,this.chars,this.words,this.lines,origWidth,origHeight);} this.chars.reverse();this.words.reverse();this.lines.reverse();this.isSplit=true;return this;};_proto.revert=function revert(){var originals=this._originals;if(!originals){throw "revert() call wasn't scoped properly.";} this.elements.forEach(function(e,i){return e.innerHTML=originals[i];});this.chars=[];this.words=[];this.lines=[];this.isSplit=false;return this;};SplitText.create=function create(element,vars){return new SplitText(element,vars);};return SplitText;}();SplitText.version="3.11.4";SplitText.register=_initCore$l;var gsapWithCSS=gsap.registerPlugin(CSSPlugin)||gsap,TweenMaxWithCSS=gsapWithCSS.core.Tween;exports.Back=Back;exports.Bounce=Bounce;exports.CSSPlugin=CSSPlugin;exports.CSSRulePlugin=CSSRulePlugin;exports.Circ=Circ;exports.Cubic=Cubic;exports.CustomBounce=CustomBounce;exports.CustomEase=CustomEase;exports.CustomWiggle=CustomWiggle;exports.Draggable=Draggable;exports.DrawSVGPlugin=DrawSVGPlugin;exports.EasePack=EasePack;exports.EaselPlugin=EaselPlugin;exports.Elastic=Elastic;exports.Expo=Expo;exports.ExpoScaleEase=ExpoScaleEase;exports.Flip=Flip;exports.GSDevTools=GSDevTools;exports.InertiaPlugin=InertiaPlugin$1;exports.Linear=Linear;exports.MorphSVGPlugin=MorphSVGPlugin;exports.MotionPathHelper=MotionPathHelper;exports.MotionPathPlugin=MotionPathPlugin;exports.Observer=Observer;exports.Physics2DPlugin=Physics2DPlugin;exports.PhysicsPropsPlugin=PhysicsPropsPlugin;exports.PixiPlugin=PixiPlugin;exports.Power0=Power0;exports.Power1=Power1;exports.Power2=Power2;exports.Power3=Power3;exports.Power4=Power4;exports.Quad=Quad;exports.Quart=Quart;exports.Quint=Quint;exports.RoughEase=RoughEase;exports.ScrambleTextPlugin=ScrambleTextPlugin;exports.ScrollSmoother=ScrollSmoother;exports.ScrollToPlugin=ScrollToPlugin;exports.ScrollTrigger=ScrollTrigger$2;exports.Sine=Sine;exports.SlowMo=SlowMo;exports.SplitText=SplitText;exports.SteppedEase=SteppedEase;exports.Strong=Strong;exports.TextPlugin=TextPlugin;exports.TimelineLite=Timeline;exports.TimelineMax=Timeline;exports.TweenLite=Tween;exports.TweenMax=TweenMaxWithCSS;exports.VelocityTracker=VelocityTracker;exports._getProxyProp=_getProxyProp;exports._getScrollFunc=_getScrollFunc;exports._getTarget=_getTarget;exports._getVelocityProp=_getVelocityProp;exports._horizontal=_horizontal;exports._isViewport=_isViewport;exports._vertical=_vertical;exports.clamp=clamp;exports.default=gsapWithCSS;exports.distribute=distribute;exports.getUnit=getUnit;exports.gsap=gsapWithCSS;exports.interpolate=interpolate;exports.mapRange=mapRange;exports.normalize=normalize;exports.pipe=pipe;exports.random=random;exports.selector=selector;exports.shuffle=shuffle;exports.snap=snap;exports.splitColor=splitColor;exports.toArray=toArray;exports.unitize=unitize;exports.wrap=wrap;exports.wrapYoyo=wrapYoyo;Object.defineProperty(exports,'__esModule',{value:true});}))); # FILE: ./ignore/plugins.js !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t||self).Lenis=e()}(this,function(){function t(t,e){for(var i=0;i1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}),i(this,l)[l]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},t),i(this,a)[a]=new n,i(this,c)[c]={y:0,x:0,deltaX:0,deltaY:0},i(this,u)[u]={x:null,y:null},i(this,d)[d]=null,void 0!==i(this,l)[l].passive&&(this.listenerOptions={passive:i(this,l)[l].passive})}var e=t.prototype;return e._notify=function(t){var e=i(this,c)[c];e.x+=e.deltaX,e.y+=e.deltaY,i(this,a)[a].emit(s,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},e._bind=function(){r.hasWheelEvent&&i(this,h)[h].addEventListener("wheel",this._onWheel,this.listenerOptions),r.hasMouseWheelEvent&&i(this,h)[h].addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),r.hasTouch&&i(this,l)[l].useTouch&&(i(this,h)[h].addEventListener("touchstart",this._onTouchStart,this.listenerOptions),i(this,h)[h].addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),r.hasPointer&&r.hasTouchWin&&(i(this,d)[d]=document.body.style.msTouchAction,document.body.style.msTouchAction="none",i(this,h)[h].addEventListener("MSPointerDown",this._onTouchStart,!0),i(this,h)[h].addEventListener("MSPointerMove",this._onTouchMove,!0)),r.hasKeyDown&&i(this,l)[l].useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},e._unbind=function(){r.hasWheelEvent&&i(this,h)[h].removeEventListener("wheel",this._onWheel),r.hasMouseWheelEvent&&i(this,h)[h].removeEventListener("mousewheel",this._onMouseWheel),r.hasTouch&&(i(this,h)[h].removeEventListener("touchstart",this._onTouchStart),i(this,h)[h].removeEventListener("touchmove",this._onTouchMove)),r.hasPointer&&r.hasTouchWin&&(document.body.style.msTouchAction=i(this,d)[d],i(this,h)[h].removeEventListener("MSPointerDown",this._onTouchStart,!0),i(this,h)[h].removeEventListener("MSPointerMove",this._onTouchMove,!0)),r.hasKeyDown&&i(this,l)[l].useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},e.on=function(t,e){i(this,a)[a].on(s,t,e);var o=i(this,a)[a].e;o&&o[s]&&1===o[s].length&&this._bind()},e.off=function(t,e){i(this,a)[a].off(s,t,e);var o=i(this,a)[a].e;(!o[s]||o[s].length<=0)&&this._unbind()},e.destroy=function(){i(this,a)[a].off(),this._unbind()},t}()}()}(e),e.exports}();function l(t,e){var i=t%e;return(e>0&&i<0||e<0&&i>0)&&(i+=e),i}var h=["duration","easing"],a=function(){function t(){}var o=t.prototype;return o.to=function(t,e){var o=this,n=void 0===e?{}:e,r=n.duration,s=void 0===r?1:r,l=n.easing,a=void 0===l?function(t){return t}:l,c=function(t,e){if(null==t)return{};var i,o,n={},r=Object.keys(t);for(o=0;o=0||(n[i]=t[i]);return n}(n,h);this.target=t,this.fromKeys=i({},c),this.toKeys=i({},c),this.keys=Object.keys(i({},c)),this.keys.forEach(function(e){o.fromKeys[e]=t[e]}),this.duration=s,this.easing=a,this.currentTime=0,this.isRunning=!0},o.stop=function(){this.isRunning=!1},o.raf=function(t){var e=this;if(this.isRunning){this.currentTime=Math.min(this.currentTime+t,this.duration);var i=this.progress>=1?1:this.easing(this.progress);this.keys.forEach(function(t){var o=e.fromKeys[t];e.target[t]=o+(e.toKeys[t]-o)*i}),1===i&&this.stop()}},e(t,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),t}();return function(t){var i,n;function r(e){var i,o,n,r,l=void 0===e?{}:e,h=l.duration,c=void 0===h?1.2:h,u=l.easing,d=void 0===u?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:u,p=l.smooth,f=void 0===p||p,v=l.mouseMultiplier,w=void 0===v?1:v,y=l.smoothTouch,m=void 0!==y&&y,g=l.touchMultiplier,b=void 0===g?2:g,T=l.direction,M=void 0===T?"vertical":T,S=l.gestureDirection,_=void 0===S?"vertical":S,O=l.infinite,E=void 0!==O&&O,W=l.wrapper,x=void 0===W?window:W,D=l.content,N=void 0===D?document.body:D;(r=t.call(this)||this).onWindowResize=function(){r.wrapperWidth=window.innerWidth,r.wrapperHeight=window.innerHeight},r.onWrapperResize=function(t){var e=t[0];if(e){var i=e.contentRect;r.wrapperWidth=i.width,r.wrapperHeight=i.height}},r.onContentResize=function(t){var e=t[0];if(e){var i=e.contentRect;r.contentWidth=i.width,r.contentHeight=i.height}},r.onVirtualScroll=function(t){var e=t.deltaY,i=t.deltaX,o=t.originalEvent;if(!("vertical"===r.gestureDirection&&0===e||"horizontal"===r.gestureDirection&&0===i)){var n=!!o.composedPath().find(function(t){return t.hasAttribute&&t.hasAttribute("data-lenis-prevent")});o.ctrlKey||n||(r.smooth=o.changedTouches?r.smoothTouch:r.options.smooth,r.stopped?o.preventDefault():r.smooth&&4!==o.buttons&&(r.smooth&&o.preventDefault(),r.targetScroll-="both"===r.gestureDirection?i+e:"horizontal"===r.gestureDirection?i:e,r.scrollTo(r.targetScroll)))}},r.onScroll=function(t){r.isScrolling&&r.smooth||(r.targetScroll=r.scroll=r.lastScroll=r.wrapperNode[r.scrollProperty],r.notify())},window.lenisVersion="0.2.28",r.options={duration:c,easing:d,smooth:f,mouseMultiplier:w,smoothTouch:m,touchMultiplier:b,direction:M,gestureDirection:_,infinite:E,wrapper:x,content:N},r.duration=c,r.easing=d,r.smooth=f,r.mouseMultiplier=w,r.smoothTouch=m,r.touchMultiplier=b,r.direction=M,r.gestureDirection=_,r.infinite=E,r.wrapperNode=x,r.contentNode=N,r.wrapperNode.addEventListener("scroll",r.onScroll),r.wrapperNode===window?(r.wrapperNode.addEventListener("resize",r.onWindowResize),r.onWindowResize()):(r.wrapperHeight=r.wrapperNode.offsetHeight,r.wrapperWidth=r.wrapperNode.offsetWidth,r.wrapperObserver=new ResizeObserver(r.onWrapperResize),r.wrapperObserver.observe(r.wrapperNode)),r.contentHeight=r.contentNode.offsetHeight,r.contentWidth=r.contentNode.offsetWidth,r.contentObserver=new ResizeObserver(r.onContentResize),r.contentObserver.observe(r.contentNode),r.targetScroll=r.scroll=r.lastScroll=r.wrapperNode[r.scrollProperty],r.animate=new a;var P=(null==(i=navigator)||null==(o=i.userAgentData)?void 0:o.platform)||(null==(n=navigator)?void 0:n.platform)||"unknown";return r.virtualScroll=new s({el:r.wrapperNode,firefoxMultiplier:50,mouseMultiplier:r.mouseMultiplier*(P.includes("Win")||P.includes("Linux")?.84:.4),touchMultiplier:r.touchMultiplier,passive:!1,useKeyboard:!1,useTouch:!0}),r.virtualScroll.on(r.onVirtualScroll),r}n=t,(i=r).prototype=Object.create(n.prototype),i.prototype.constructor=i,o(i,n);var h=r.prototype;return h.start=function(){var t=this.wrapperNode;this.wrapperNode===window&&(t=document.documentElement),t.classList.remove("lenis-stopped"),this.stopped=!1},h.stop=function(){var t=this.wrapperNode;this.wrapperNode===window&&(t=document.documentElement),t.classList.add("lenis-stopped"),this.stopped=!0,this.animate.stop()},h.destroy=function(){var t;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.virtualScroll.destroy(),null==(t=this.wrapperObserver)||t.disconnect(),this.contentObserver.disconnect()},h.raf=function(t){var e=t-(this.now||0);this.now=t,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(.001*e),this.scroll===this.targetScroll&&(this.lastScroll=this.scroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},h.setScroll=function(t){var e=this.infinite?l(t,this.limit):t;"horizontal"===this.direction?this.wrapperNode.scrollTo(e,0):this.wrapperNode.scrollTo(0,e)},h.notify=function(){var t=this.infinite?l(this.scroll,this.limit):this.scroll;this.emit("scroll",{scroll:t,limit:this.limit,velocity:this.velocity,direction:0===this.velocity?0:this.velocity>0?1:-1,progress:t/this.limit})},h.scrollTo=function(t,e){var i=void 0===e?{}:e,o=i.offset,n=void 0===o?0:o,r=i.immediate,s=void 0!==r&&r,l=i.duration,h=void 0===l?this.duration:l,a=i.easing,c=void 0===a?this.easing:a;if(null!=t&&!this.stopped){var u;if("number"==typeof t)u=t;else if("top"===t||"#top"===t)u=0;else if("bottom"===t)u=this.limit;else{var d;if("string"==typeof t)d=document.querySelector(t);else{if(null==t||!t.nodeType)return;d=t}if(!d)return;var p=0;if(this.wrapperNode!==window){var f=this.wrapperNode.getBoundingClientRect();p="horizontal"===this.direction?f.left:f.top}var v=d.getBoundingClientRect();u=("horizontal"===this.direction?v.left:v.top)+this.scroll-p}u+=n,this.targetScroll=this.infinite?u:Math.max(0,Math.min(u,this.limit)),!this.smooth||s?(this.animate.stop(),this.scroll=this.lastScroll=this.targetScroll,this.setScroll(this.targetScroll)):this.animate.to(this,{duration:h,easing:c,scroll:this.targetScroll})}},e(r,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?"horizontal"===this.direction?"scrollX":"scrollY":"horizontal"===this.direction?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return"horizontal"===this.direction?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),r}(r)});/*! * Masonry PACKAGED v4.2.2 * Cascading grid layout library * https://masonry.desandro.com * MIT License * by David DeSandro */!function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,a){function h(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,h){var u=a.data(h,i);if(!u)return void s(i+" not initialized. Cannot call methods, i.e. "+r);var d=u[e];if(!d||"_"==e.charAt(0))return void s(r+" is not a valid method");var l=d.apply(u,n);o=void 0===o?l:o}),void 0!==o?o:t}function u(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(r.prototype.option||(r.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return h(this,t,e)}return u(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,s="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;oe;e++){var i=h[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s=200==Math.round(t(o.width)),r.isBoxSizeOuter=s,i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==r.boxSizing,l=0;u>l;l++){var c=h[l],f=r[c],m=parseFloat(f);a[c]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,z=a.borderTopWidth+a.borderBottomWidth,E=d&&s,b=t(r.width);b!==!1&&(a.width=b+(E?0:p+_));var x=t(r.height);return x!==!1&&(a.height=x+(E?0:g+z)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(g+z),a.outerWidth=a.width+y,a.outerHeight=a.height+v,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=h.length,d=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;is?"round":"floor";r=Math[a](r),this.cols=Math.max(r,1)},n.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},n._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",r=this[o](n,t),s={x:this.columnWidth*r.col,y:r.y},a=r.y+t.size.outerHeight,h=n+r.col,u=r.col;h>u;u++)this.colYs[u]=a;return s},n._getTopColPosition=function(t){var e=this._getTopColGroup(t),i=Math.min.apply(Math,e);return{col:e.indexOf(i),y:i}},n._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++)e[n]=this._getColGroupY(n,t);return e},n._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var i=this.colYs.slice(t,t+e);return Math.max.apply(Math,i)},n._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,n=t>1&&i+t>this.cols;i=n?0:i;var o=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=o?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},n._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,s=r+i.outerWidth,a=Math.floor(r/this.columnWidth);a=Math.max(0,a);var h=Math.floor(s/this.columnWidth);h-=s%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var u=this._getOption("originTop"),d=(u?n.top:n.bottom)+i.outerHeight,l=a;h>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},n._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i});"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(this,(function(){"use strict";function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){for(var i=0;it){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var g=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),m.element(t)?this.element=t:m.string(t)&&(this.element=document.querySelector(t)),m.element(this.element)&&m.empty(this.element.rangeTouch)&&(this.config=n({},a,{},i),this.init())}return function(e,i,s){i&&t(e.prototype,i),s&&t(e,s)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[i](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!m.event(t))return null;var i,s=t.target,n=t.changedTouches[0],a=parseFloat(s.getAttribute("min"))||0,l=parseFloat(s.getAttribute("max"))||100,r=parseFloat(s.getAttribute("step"))||1,o=s.getBoundingClientRect(),c=100/o.width*(this.config.thumbWidth/2)/100;return 0>(i=100/o.width*(n.clientX-o.left))?i=0:100i?i-=(100-2*i)*c:50null!=e?e.constructor:null,y=(e,t)=>Boolean(e&&t&&e instanceof t),b=e=>null==e,v=e=>f(e)===Object,w=e=>f(e)===String,T=e=>"function"==typeof e,k=e=>Array.isArray(e),C=e=>y(e,NodeList),A=e=>b(e)||(w(e)||k(e)||C(e))&&!e.length||v(e)&&!Object.keys(e).length;var S={nullOrUndefined:b,object:v,number:e=>f(e)===Number&&!Number.isNaN(e),string:w,boolean:e=>f(e)===Boolean,function:T,array:k,weakMap:e=>y(e,WeakMap),nodeList:C,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>f(e)===Text,event:e=>y(e,Event),keyboardEvent:e=>y(e,KeyboardEvent),cue:e=>y(e,window.TextTrackCue)||y(e,window.VTTCue),track:e=>y(e,TextTrack)||!b(e)&&w(e.kind),promise:e=>y(e,Promise)&&T(e.then),url:e=>{if(y(e,window.URL))return!0;if(!w(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!A(new URL(t).hostname)}catch(e){return!1}},empty:A};const E=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find((t=>void 0!==e.style[t]));return!!S.string(i)&&t[i]})();function P(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var M={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function N(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function x(e={},...t){if(!t.length)return e;const i=t.shift();return S.object(i)?(Object.keys(i).forEach((t=>{S.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),x(e[t],i[t])):Object.assign(e,{[t]:i[t]})})),x(e,...t)):e}function L(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach(((e,i)=>{const s=i>0?t.cloneNode(!0):t,n=e.parentNode,a=e.nextSibling;s.appendChild(e),a?n.insertBefore(s,a):n.appendChild(s)}))}function I(e,t){S.element(e)&&!S.empty(t)&&Object.entries(t).filter((([,e])=>!S.nullOrUndefined(e))).forEach((([t,i])=>e.setAttribute(t,i)))}function $(e,t,i){const s=document.createElement(e);return S.object(t)&&I(s,t),S.string(i)&&(s.innerText=i),s}function _(e,t,i,s){S.element(t)&&t.appendChild($(e,i,s))}function O(e){S.nodeList(e)||S.array(e)?Array.from(e).forEach(O):S.element(e)&&S.element(e.parentNode)&&e.parentNode.removeChild(e)}function j(e){if(!S.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function q(e,t){return S.element(t)&&S.element(t.parentNode)&&S.element(e)?(t.parentNode.replaceChild(e,t),e):null}function D(e,t){if(!S.string(e)||S.empty(e))return{};const i={},s=x({},t);return e.split(",").forEach((e=>{const t=e.trim(),n=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[l]=a,r=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":S.string(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=t.replace("#","");break;case"[":i[l]=r}})),x(s,i)}function H(e,t){if(!S.element(e))return;let i=t;S.boolean(i)||(i=!e.hidden),e.hidden=i}function R(e,t,i){if(S.nodeList(e))return Array.from(e).map((e=>R(e,t,i)));if(S.element(e)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),e.classList[s](t),e.classList.contains(t)}return!1}function F(e,t){return S.element(e)&&e.classList.contains(t)}function V(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function U(e){return this.elements.container.querySelectorAll(e)}function B(e){return this.elements.container.querySelector(e)}function W(e=null,t=!1){S.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const z={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},K={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const i=K[e]||"html5"!==t;return{api:i,ui:i&&K.rangeInput}},pip:!(M.isIPhone||!S.function($("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||$("video").disablePictureInPicture)),airplay:S.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(S.empty(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(z).includes(i)&&(i+=`; codecs="${z[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==E,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Y=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function Q(e,t,i,s=!1,n=!0,a=!1){if(!e||!("addEventListener"in e)||S.empty(t)||!S.function(i))return;const l=t.split(" ");let r=a;Y&&(r={passive:n,capture:a}),l.forEach((t=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:e,type:t,callback:i,options:r}),e[s?"addEventListener":"removeEventListener"](t,i,r)}))}function X(e,t="",i,s=!0,n=!1){Q.call(this,e,t,i,!0,s,n)}function J(e,t="",i,s=!0,n=!1){Q.call(this,e,t,i,!1,s,n)}function G(e,t="",i,s=!0,n=!1){const a=(...l)=>{J(e,t,a,s,n),i.apply(this,l)};Q.call(this,e,t,a,!0,s,n)}function Z(e,t="",i=!1,s={}){if(!S.element(e)||S.empty(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function ee(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)})),this.eventListeners=[])}function te(){return new Promise((e=>this.ready?setTimeout(e,0):X.call(this,this.elements.container,"ready",e))).then((()=>{}))}function ie(e){S.promise(e)&&e.then(null,(()=>{}))}function se(e){return S.array(e)?e.filter(((t,i)=>e.indexOf(t)===i)):e}function ne(e,t){return S.array(e)&&e.length?e.reduce(((e,i)=>Math.abs(i-t)({...e,[t/i]:[t,i]})),{});function re(e){if(!(S.array(e)||S.string(e)&&e.includes(":")))return!1;return(S.array(e)?e:e.split(":")).map(Number).every(S.number)}function oe(e){if(!S.array(e)||!e.every(S.number))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function ce(e){const t=e=>re(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!S.empty(this.embed)&&S.array(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return oe(i)}function ue(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=ce.call(this,e);if(!S.array(i))return{};const[s,n]=oe(i),a=100/s*n;if(ae(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:i}}function he(e,t,i=.05){const s=e/t,n=ne(Object.keys(le),s);return Math.abs(n-s)<=i?le[n]:[e,t]}const de={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!S.empty(t)||K.mime.call(this,t)}))},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:de.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,S.empty(this.config.ratio)||ue.call(e),Object.defineProperty(e.media,"quality",{get(){const t=de.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&S.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=de.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!i)return;const{currentTime:s,paused:n,preload:a,readyState:l,playbackRate:r}=e.media;e.media.src=i.getAttribute("src"),("none"!==a||l)&&(e.once("loadedmetadata",(()=>{e.speed=r,e.currentTime=s,n||ie(e.play())})),e.media.load())}Z.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(O(de.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function me(e,...t){return S.empty(e)?e:e.toString().replace(/{(\d+)}/g,((e,i)=>t[i].toString()))}const pe=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),ge=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function fe(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=pe(t,"-"," "),t=pe(t,"_"," "),t=ge(t),pe(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function ye(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const be={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ve={get(e="",t={}){if(S.empty(e)||S.empty(t))return"";let i=N(t.i18n,e);if(S.empty(i))return Object.keys(be).includes(e)?be[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach((([e,t])=>{i=pe(i,e,t)})),i}};class we{constructor(t){e(this,"get",(e=>{if(!we.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(S.empty(t))return null;const i=JSON.parse(t);return S.string(e)&&e.length?i[e]:i})),e(this,"set",(e=>{if(!we.supported||!this.enabled)return;if(!S.object(e))return;let t=this.get();S.empty(t)&&(t={}),x(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Te(e,t="text"){return new Promise(((i,s)=>{try{const s=new XMLHttpRequest;if(!("withCredentials"in s))return;s.addEventListener("load",(()=>{if("text"===t)try{i(JSON.parse(s.responseText))}catch(e){i(s.responseText)}else i(s.response)})),s.addEventListener("error",(()=>{throw new Error(s.status)})),s.open("GET",e,!0),s.responseType=t,s.send()}catch(e){s(e)}}))}function ke(e,t){if(!S.string(e))return;const i="cache",s=S.string(t);let n=!1;const a=()=>null!==document.getElementById(t),l=(e,t)=>{e.innerHTML=t,s&&a()||document.body.insertAdjacentElement("afterbegin",e)};if(!s||!a()){const a=we.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),s&&r.setAttribute("id",t),a){const e=window.localStorage.getItem(`${i}-${t}`);if(n=null!==e,n){const t=JSON.parse(e);l(r,t.content)}}Te(e).then((e=>{if(!S.empty(e)){if(a)try{window.localStorage.setItem(`${i}-${t}`,JSON.stringify({content:e}))}catch(e){}l(r,e)}})).catch((()=>{}))}}const Ce=e=>Math.trunc(e/60/60%60,10),Ae=e=>Math.trunc(e/60%60,10),Se=e=>Math.trunc(e%60,10);function Ee(e=0,t=!1,i=!1){if(!S.number(e))return Ee(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=Ce(e);const a=Ae(e),l=Se(e);return n=t||n>0?`${n}:`:"",`${i&&e>0?"-":""}${n}${s(a)}:${s(l)}`}const Pe={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||M.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=B.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:U.call(this,this.config.selectors.buttons.play),pause:B.call(this,this.config.selectors.buttons.pause),restart:B.call(this,this.config.selectors.buttons.restart),rewind:B.call(this,this.config.selectors.buttons.rewind),fastForward:B.call(this,this.config.selectors.buttons.fastForward),mute:B.call(this,this.config.selectors.buttons.mute),pip:B.call(this,this.config.selectors.buttons.pip),airplay:B.call(this,this.config.selectors.buttons.airplay),settings:B.call(this,this.config.selectors.buttons.settings),captions:B.call(this,this.config.selectors.buttons.captions),fullscreen:B.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=B.call(this,this.config.selectors.progress),this.elements.inputs={seek:B.call(this,this.config.selectors.inputs.seek),volume:B.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:B.call(this,this.config.selectors.display.buffer),currentTime:B.call(this,this.config.selectors.display.currentTime),duration:B.call(this,this.config.selectors.display.duration)},S.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i="http://www.w3.org/2000/svg",s=Pe.getIconUrl.call(this),n=`${s.cors?"":s.url}#${this.config.iconPrefix}`,a=document.createElementNS(i,"svg");I(a,x(t,{"aria-hidden":"true",focusable:"false"}));const l=document.createElementNS(i,"use"),r=`${n}-${e}`;return"href"in l&&l.setAttributeNS("http://www.w3.org/1999/xlink","href",r),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r),a.appendChild(l),a},createLabel(e,t={}){const i=ve.get(e,this.config);return $("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(S.empty(e))return null;const t=$("span",{class:this.config.classNames.menu.value});return t.appendChild($("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=x({},t);let s=fe(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])})),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((e=>e===this.config.classNames.control))||x(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:S.empty(n.label)&&(n.label=s),S.empty(n.icon)&&(n.icon=e)}const a=$(n.element);return n.toggle?(a.appendChild(Pe.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),a.appendChild(Pe.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),a.appendChild(Pe.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),a.appendChild(Pe.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(a.appendChild(Pe.createIcon.call(this,n.icon)),a.appendChild(Pe.createLabel.call(this,n.label))),x(i,D(this.config.selectors.buttons[s],i)),I(a,i),"play"===s?(S.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(a)):this.elements.buttons[s]=a,a},createRange(e,t){const i=$("input",x(D(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ve.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Pe.updateRangeFill.call(this,i),g.setup(i),i},createProgress(e,t){const i=$("progress",x(D(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild($("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?ve.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=D(this.config.selectors.display[e],t),s=$("div",x(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ve.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(e,t){X.call(this,e,"keydown keyup",(i=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=V(e,'[role="menuitemradio"]');if(!s&&[" ","ArrowRight"].includes(i.key))Pe.showMenuPanel.call(this,t,!0);else{let t;" "!==i.key&&("ArrowDown"===i.key||s&&"ArrowRight"===i.key?(t=e.nextElementSibling,S.element(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,S.element(t)||(t=e.parentNode.lastElementChild)),W.call(this,t,!0))}}),!1),X.call(this,e,"keyup",(e=>{"Return"===e.key&&Pe.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:i,title:s,badge:n=null,checked:a=!1}){const l=D(this.config.selectors.inputs[i]),r=$("button",x(l,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l.class?l.class:""}`.trim(),"aria-checked":a,value:e})),o=$("span");o.innerHTML=s,S.element(n)&&o.appendChild(n),r.appendChild(o),Object.defineProperty(r,"checked",{enumerable:!0,get:()=>"true"===r.getAttribute("aria-checked"),set(e){e&&Array.from(r.parentNode.children).filter((e=>V(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),r.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(r,"click keyup",(t=>{if(!S.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),r.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Pe.showMenuPanel.call(this,"home",S.keyboardEvent(t))}}),i,!1),Pe.bindMenuItemShortcuts.call(this,r,i),t.appendChild(r)},formatTime(e=0,t=!1){if(!S.number(e))return e;return Ee(e,Ce(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,i=!1){S.element(e)&&S.number(t)&&(e.innerText=Pe.formatTime(t,i))},updateVolume(){this.supported.ui&&(S.element(this.elements.inputs.volume)&&Pe.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),S.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){S.element(e)&&(e.value=t,Pe.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!S.event(e))return;let t=0;const i=(e,t)=>{const i=S.number(t)?t:0,s=S.element(e)?e:this.elements.display.buffer;if(S.element(s)){s.value=i;const e=s.getElementsByTagName("span")[0];S.element(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,t=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===e.type&&Pe.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(e){const t=S.event(e)?e.target:e;if(S.element(t)&&"range"===t.getAttribute("type")){if(V(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Pe.formatTime(this.currentTime),i=Pe.formatTime(this.duration),s=ve.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(V(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(M.isWebKit||M.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!S.element(this.elements.inputs.seek)||!S.element(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,a=e=>R(s,n,e);if(this.touch)return void a(!1);let l=0;const r=this.elements.progress.getBoundingClientRect();if(S.event(e))l=100/r.width*(e.pageX-r.left);else{if(!F(s,n))return;l=parseFloat(s.style.left,10)}l<0?l=0:l>100&&(l=100);const o=this.duration/100*l;s.innerText=Pe.formatTime(o);const c=null===(t=this.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(o)));c&&s.insertAdjacentHTML("afterbegin",`${c.label}
`),s.style.left=`${l}%`,S.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){const t=!S.element(this.elements.display.duration)&&this.config.invertTime;Pe.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Pe.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return H(this.elements.display.currentTime,!0),void H(this.elements.progress,!0);S.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=S.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Pe.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Pe.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Pe.setMarkers.call(this),Pe.updateSeekTooltip.call(this)},toggleMenuButton(e,t){H(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,a=t;if("captions"===e)n=this.currentTrack;else{if(n=S.empty(i)?this[e]:i,S.empty(n)&&(n=this.config[e].default),!S.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(S.element(a)||(a=s&&s.querySelector('[role="menu"]')),!S.element(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Pe.getLabel.call(this,e,n);const l=a&&a.querySelector(`[value="${n}"]`);S.element(l)&&(l.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?ve.get("normal",this.config):`${t}×`;case"quality":if(S.number(t)){const e=ve.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return ge(t);case"captions":return xe.getLabel.call(this);default:return null}},setQualityMenu(e){if(!S.element(this.elements.settings.panels.quality))return;const t="quality",i=this.elements.settings.panels.quality.querySelector('[role="menu"]');S.array(e)&&(this.options.quality=se(e).filter((e=>this.config.quality.options.includes(e))));const s=!S.empty(this.options.quality)&&this.options.quality.length>1;if(Pe.toggleMenuButton.call(this,t,s),j(i),Pe.checkMenu.call(this),!s)return;const n=e=>{const t=ve.get(`qualityBadge.${e}`,this.config);return t.length?Pe.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1})).forEach((e=>{Pe.createMenuItem.call(this,{value:e,list:i,type:t,title:Pe.getLabel.call(this,"quality",e),badge:n(e)})})),Pe.updateSetting.call(this,t,i)},setCaptionsMenu(){if(!S.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i=xe.getTracks.call(this),s=Boolean(i.length);if(Pe.toggleMenuButton.call(this,e,s),j(t),Pe.checkMenu.call(this),!s)return;const n=i.map(((e,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:xe.getLabel.call(this,e),badge:e.language&&Pe.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));n.unshift({value:-1,checked:!this.captions.toggled,title:ve.get("disabled",this.config),list:t,type:"language"}),n.forEach(Pe.createMenuItem.bind(this)),Pe.updateSetting.call(this,e,t)},setSpeedMenu(){if(!S.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const i=!S.empty(this.options.speed)&&this.options.speed.length>1;Pe.toggleMenuButton.call(this,e,i),j(t),Pe.checkMenu.call(this),i&&(this.options.speed.forEach((i=>{Pe.createMenuItem.call(this,{value:i,list:t,type:e,title:Pe.getLabel.call(this,"speed",i)})})),Pe.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!S.empty(e)&&Object.values(e).some((e=>!e.hidden));H(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;S.element(i)||(i=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const s=i.querySelector('[role^="menuitem"]');W.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!S.element(t)||!S.element(i))return;const{hidden:s}=t;let n=s;if(S.boolean(e))n=e;else if(S.keyboardEvent(e)&&"Escape"===e.key)n=!1;else if(S.event(e)){const s=S.function(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(s);if(a||!a&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),H(t,!n),R(this.elements.container,this.config.classNames.menu.open,n),n&&S.keyboardEvent(e)?Pe.focusFirstMenuItem.call(this,null,!0):n||s||W.call(this,i,S.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return O(t),{width:i,height:s}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!S.element(i))return;const s=i.parentNode,n=Array.from(s.children).find((e=>!e.hidden));if(K.transitions&&!K.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=Pe.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",J.call(this,s,E,t))};X.call(this,s,E,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}H(n,!0),H(i,!1),Pe.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;S.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:s,createRange:n,createTime:a,setQualityMenu:l,setSpeedMenu:r,showMenuPanel:o}=Pe;this.elements.controls=null,S.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=$("div",D(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return se(S.array(this.config.controls)?this.config.controls:[]).forEach((l=>{if("restart"===l&&c.appendChild(i.call(this,"restart",u)),"rewind"===l&&c.appendChild(i.call(this,"rewind",u)),"play"===l&&c.appendChild(i.call(this,"play",u)),"fast-forward"===l&&c.appendChild(i.call(this,"fast-forward",u)),"progress"===l){const t=$("div",{class:`${u.class} plyr__progress__container`}),i=$("div",D(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const e=$("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===l&&c.appendChild(a.call(this,"currentTime",u)),"duration"===l&&c.appendChild(a.call(this,"duration",u)),"mute"===l||"volume"===l){let{volume:t}=this.elements;if(S.element(t)&&c.contains(t)||(t=$("div",x({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===l&&t.appendChild(i.call(this,"mute")),"volume"===l&&!M.isIos&&!M.isIPadOS){const i={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",x(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===l&&c.appendChild(i.call(this,"captions",u)),"settings"===l&&!S.empty(this.config.settings)){const s=$("div",x({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=$("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),a=$("div"),l=$("div",{id:`plyr-settings-${e.id}-home`}),r=$("div",{role:"menu"});l.appendChild(r),a.appendChild(l),this.elements.settings.panels.home=l,this.config.settings.forEach((i=>{const s=$("button",x(D(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,s,i),X.call(this,s,"click",(()=>{o.call(this,i,!1)}));const n=$("span",null,ve.get(i,this.config)),l=$("span",{class:this.config.classNames.menu.value});l.innerHTML=e[i],n.appendChild(l),s.appendChild(n),r.appendChild(s);const c=$("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),u=$("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild($("span",{"aria-hidden":!0},ve.get(i,this.config))),u.appendChild($("span",{class:this.config.classNames.hidden},ve.get("menuBack",this.config))),X.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),o.call(this,"home",!0))}),!1),X.call(this,u,"click",(()=>{o.call(this,"home",!1)})),c.appendChild(u),c.appendChild($("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c})),n.appendChild(a),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===l&&K.pip&&c.appendChild(i.call(this,"pip",u)),"airplay"===l&&K.airplay&&c.appendChild(i.call(this,"airplay",u)),"download"===l){const e=x({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!S.url(t)&&this.isEmbed&&x(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===l&&c.appendChild(i.call(this,"fullscreen",u))})),this.isHTML5&&l.call(this,de.getQualityOptions.call(this)),r.call(this),c},inject(){if(this.config.loadSprite){const e=Pe.getIconUrl.call(this);e.cors&&ke(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i=!0;S.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),S.element(this.config.controls)||S.string(this.config.controls)?e=this.config.controls:(e=Pe.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:xe.getLabel.call(this)}),i=!1);let s;i&&S.string(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach((([e,t])=>{i=pe(i,`{${e}}`,t)})),i})(e)),S.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),S.element(s)||(s=this.elements.container);if(s[S.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),S.element(this.elements.controls)||Pe.findElements.call(this),!S.empty(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>F(e,t),set(i=!1){R(e,t,i),e.setAttribute("aria-pressed",i?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{S.array(t)||S.nodeList(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(M.isEdge&&P(s),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,s=U.call(this,i);Array.from(s).forEach((e=>{R(e,this.config.classNames.hidden,!1),R(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&eR(a,l,e);i.forEach((e=>{const t=$("span",{class:this.config.classNames.marker},""),i=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",(()=>{e.label||(a.style.left=i,a.innerHTML=e.label,r(!0))})),t.addEventListener("mouseleave",(()=>{r(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=i,n.appendChild(t)})),s.appendChild(n),this.config.tooltips.seek||(a=$("span",{class:this.config.classNames.tooltip},""),s.appendChild(a)),this.elements.markers={points:n,tip:a},this.elements.progress.appendChild(s)}};function Me(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Ne(e){const t=new URLSearchParams;return S.object(e)&&Object.entries(e).forEach((([e,i])=>{t.set(e,i)})),t}const xe={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!K.textTracks)return void(S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Pe.setCaptionsMenu.call(this));var e,t;if(S.element(this.elements.captions)||(this.elements.captions=$("div",D(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,S.element(e)&&S.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),M.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),i=Me(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&Te(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{O(e)}))}))}const i=se((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if(S.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";X.call(this,this.media.textTracks,e,xe.update.bind(this))}setTimeout(xe.update.bind(this),0)},update(){const e=xe.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,a=Boolean(e.find((e=>e.language===i)));this.isHTML5&&this.isVideo&&e.filter((e=>!s.get(e))).forEach((e=>{this.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),X.call(this,e,"cuechange",(()=>xe.updateCues.call(this)))})),(a&&this.language!==i||!e.includes(n))&&(xe.setLanguage.call(this,i),xe.toggle.call(this,t&&a)),this.elements&&R(this.elements.container,this.config.classNames.captions.enabled,!S.empty(e)),S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Pe.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=S.nullOrUndefined(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=xe.getTracks.call(this),t=xe.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void xe.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),R(this.elements.container,s,n),this.captions.toggled=n,Pe.updateSetting.call(this,"captions"),Z.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout((()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const i=xe.getTracks.call(this);if(-1!==e)if(S.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,Pe.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),Z.call(this,this.media,"languagechange")}xe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&xe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else xe.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!S.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=xe.getTracks.call(this),n=xe.findTrack.call(this,[i]);xe.set.call(this,s.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const i=xe.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort(((e,t)=>s(t)-s(e)));let a;return e.every((e=>(a=n.find((t=>t.language===e)),!a))),a||(t?n[0]:void 0)},getCurrentTrack(){return xe.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!S.track(t)&&K.textTracks&&this.captions.toggled&&(t=xe.getCurrentTrack.call(this)),S.track(t)?S.empty(t.label)?S.empty(t.language)?ve.get("enabled",this.config):e.language.toUpperCase():t.label:ve.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!S.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!S.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=xe.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(ye)}const i=t.map((e=>e.trim())).join("\n");if(i!==this.elements.captions.innerHTML){j(this.elements.captions);const e=$("span",D(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),Z.call(this,this.media,"cuechange")}}},Le={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.7/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Ie="picture-in-picture",$e="inline",_e={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Oe="audio",je="video";const qe=()=>{};class De{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):qe}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):qe}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):qe}}class He{constructor(t){e(this,"onChange",(()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;S.element(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;Z.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),e(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",R(this.target,this.player.config.classNames.fullscreen.fallback,e),M.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const s=S.string(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!s,s||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==i)).join(","))}this.onChange()})),e(this,"trapFocus",(e=>{if(M.isIos||M.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=U.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())})),e(this,"update",(()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":He.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");R(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),e(this,"enter",(()=>{this.supported&&(M.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!He.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?S.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),e(this,"exit",(()=>{if(this.supported)if(M.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ie(this.player.play());else if(!He.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!S.empty(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),e(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=He.prefix,this.property=He.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(V.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),X.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),X.call(this.player,this.player.elements.container,"dblclick",(e=>{S.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),X.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return He.nativeSupported&&!this.forceFallback}static get prefix(){if(S.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!S.function(document[`${t}ExitFullscreen`])&&!S.function(document[`${t}CancelFullScreen`]))&&(e=t,!0))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,He.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||He.nativeSupported||!M.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!He.nativeSupported||this.forceFallback)return F(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return M.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function Re(e,t=1){return new Promise(((i,s)=>{const n=new Image,a=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:s)(n)};Object.assign(n,{onload:a,onerror:a,src:e})}))}const Fe={addStyleHook(){R(this.elements.container,this.config.selectors.container.replace(".",""),!0),R(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Fe.toggleNativeControls.call(this,!0);S.element(this.elements.controls)||(Pe.inject.call(this),this.listeners.controls()),Fe.toggleNativeControls.call(this),this.isHTML5&&xe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Pe.updateVolume.call(this),Pe.timeUpdate.call(this),Pe.durationUpdate.call(this),Fe.checkPlaying.call(this),R(this.elements.container,this.config.classNames.pip.supported,K.pip&&this.isHTML5&&this.isVideo),R(this.elements.container,this.config.classNames.airplay.supported,K.airplay&&this.isHTML5),R(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{Z.call(this,this.media,"ready")}),0),Fe.setTitle.call(this),this.poster&&Fe.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Pe.durationUpdate.call(this),this.config.mediaMetadata&&Pe.setMediaMetadata.call(this)},setTitle(){let e=ve.get("play",this.config);if(S.string(this.config.title)&&!S.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=B.call(this,"iframe");if(!S.element(e))return;const t=S.empty(this.config.title)?"video":this.config.title,i=ve.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){R(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),te.call(this).then((()=>Re(e))).catch((t=>{throw e===this.poster&&Fe.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Fe.togglePoster.call(this,!0),e))))},checkPlaying(e){R(this.elements.container,this.config.classNames.playing,this.playing),R(this.elements.container,this.config.classNames.paused,this.paused),R(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",ve.get(this.playing?"pause":"play",this.config))})),S.event(e)&&"timeupdate"===e.type||Fe.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{R(this.elements.container,this.config.classNames.loading,this.loading),Fe.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!S.empty(e)&&S.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),S.empty(this.media.style)&&this.media.removeAttribute("style")}};class Ve{constructor(t){e(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,R(t.container,e.config.classNames.isTouch,!0)})),e(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&Q.call(t,window,"keydown keyup",this.handleKey,e,!1),Q.call(t,document.body,"click",this.toggleMenu,e),G.call(t,document.body,"touchstart",this.firstTouch)})),e(this,"container",(()=>{const{player:e}=this,{config:t,elements:i,timers:s}=e;!t.keyboard.global&&t.keyboard.focused&&X.call(e,i.container,"keydown keyup",this.handleKey,!1),X.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:n}=i;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Fe.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout((()=>Fe.toggleControls.call(e,!1)),a)}));const n=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:s}=e.fullscreen,[n,a]=ce.call(e),l=ae(`aspect-ratio: ${n} / ${a}`);if(!s)return void(l?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[r,o]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=r/o>n/a;l?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?o/a*n+"px":null,t.style.margin=c?"0 auto":null)},a=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};X.call(e,i.container,"enterfullscreen exitfullscreen",(t=>{const{target:s}=e.fullscreen;if(s!==i.container)return;if(!e.isEmbed&&S.empty(e.config.ratio))return;n();("enterfullscreen"===t.type?X:J).call(e,window,"resize",a)}))})),e(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(X.call(e,e.media,"timeupdate seeking seeked",(t=>Pe.timeUpdate.call(e,t))),X.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Pe.durationUpdate.call(e,t))),X.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),X.call(e,e.media,"progress playing seeking seeked",(t=>Pe.updateProgress.call(e,t))),X.call(e,e.media,"volumechange",(t=>Pe.updateVolume.call(e,t))),X.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>Fe.checkPlaying.call(e,t))),X.call(e,e.media,"waiting canplay seeked playing",(t=>Fe.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=B.call(e,`.${e.config.classNames.video}`);if(!S.element(i))return;X.call(e,t.container,"click",(s=>{([t.container,i].includes(s.target)||i.contains(s.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(s,e.restart,"restart"),this.proxy(s,(()=>{ie(e.play())}),"play")):this.proxy(s,(()=>{ie(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&X.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),X.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),X.call(e,e.media,"ratechange",(()=>{Pe.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),X.call(e,e.media,"qualitychange",(t=>{Pe.updateSetting.call(e,"quality",null,t.detail.quality)})),X.call(e,e.media,"ready qualitychange",(()=>{Pe.setDownloadUrl.call(e)}));const i=e.config.events.concat(["keyup","keydown"]).join(" ");X.call(e,e.media,i,(i=>{let{detail:s={}}=i;"error"===i.type&&(s=e.media.error),Z.call(e,t.container,i.type,!0,s)}))})),e(this,"proxy",((e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let a=!0;S.function(n)&&(a=n.call(s,e)),!1!==a&&S.function(t)&&t.call(s,e)})),e(this,"bind",((e,t,i,s,n=!0)=>{const{player:a}=this,l=a.config.listeners[s],r=S.function(l);X.call(a,e,t,(e=>this.proxy(e,i,s)),n&&!r)})),e(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,i=M.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{ie(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{Z.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Pe.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Pe.toggleMenu.call(e,t)):Pe.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Pe.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const i=t.progress.getBoundingClientRect(),s=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",s)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const i=t.currentTarget,s="play-on-seeked";if(S.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const n=i.hasAttribute(s),a=["mouseup","touchend","keyup"].includes(t.type);n&&a?(i.removeAttribute(s),ie(e.play())):!a&&e.playing&&(i.setAttribute(s,""),e.pause())})),M.isIos){const t=U.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,i,(e=>P(e.target)))))}this.bind(t.inputs.seek,i,(t=>{const i=t.currentTarget;let s=i.getAttribute("seek-value");S.empty(s)&&(s=i.value),i.removeAttribute("seek-value"),e.currentTime=s/i.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Pe.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)})),M.isWebKit&&Array.from(U.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Pe.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!S.element(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Pe.timeUpdate.call(e))})),this.bind(t.inputs.volume,i,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((i=>{this.bind(i,"mouseenter mouseleave",(i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:i,timers:s}=e;R(t.controls,i.classNames.noTransition,!0),Fe.toggleControls.call(e,!0),setTimeout((()=>{R(t.controls,i.classNames.noTransition,!1)}),0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout((()=>Fe.toggleControls.call(e,!1)),n)})),this.bind(t.inputs.volume,"wheel",(t=>{const i=t.webkitDirectionInvertedFromDevice,[s,n]=[t.deltaX,-t.deltaY].map((e=>i?-e:e)),a=Math.sign(Math.abs(s)>Math.abs(n)?s:n);e.increaseVolume(a/50);const{volume:l}=e.media;(1===a&&l<1||-1===a&&l>0)&&t.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:s,type:n,altKey:a,ctrlKey:l,metaKey:r,shiftKey:o}=e,c="keydown"===n,u=c&&s===this.lastKey;if(a||l||r||o)return;if(!s)return;if(c){const n=document.activeElement;if(S.element(n)){const{editable:s}=t.config.selectors,{seek:a}=i.inputs;if(n!==a&&V(n,s))return;if(" "===e.key&&V(n,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(h=parseInt(s,10),t.currentTime=t.duration/10*h);break;case" ":case"k":u||ie(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null;var h}toggleMenu(e){Pe.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ue=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},i={},s={};function n(e,t){e=e.push?e:[e];var n,a,l,r=[],o=e.length,c=o;for(n=function(e,i){i.length&&r.push(e),--c||t(r)};o--;)a=e[o],(l=i[a])?n(a,l):(s[a]=s[a]||[]).push(n)}function a(e,t){if(e){var n=s[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function l(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function r(t,i,s,n){var a,l,o=document,c=s.async,u=(s.numRetries||0)+1,h=s.before||e,d=t.replace(/[\?|#].*$/,""),m=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((l=o.createElement("link")).rel="stylesheet",l.href=m,(a="hideFocus"in l)&&l.relList&&(a=0,l.rel="preload",l.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(l=o.createElement("img")).src=m:((l=o.createElement("script")).src=t,l.async=void 0===c||c),l.onload=l.onerror=l.onbeforeload=function(e){var o=e.type[0];if(a)try{l.sheet.cssText.length||(o="e")}catch(e){18!=e.code&&(o="e")}if("e"==o){if((n+=1){Ue(e,{success:t,error:i})}))}function We(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Z.call(this,this.media,e?"play":"pause"))}const ze={setup(){const e=this;R(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,ue.call(e),S.object(window.Vimeo)?ze.ready.call(e):Be(e.config.urls.vimeo.sdk).then((()=>{ze.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:s,...n}=t;let a=e.media.getAttribute("src"),l="";S.empty(a)?(a=e.media.getAttribute(e.config.attributes.embed.id),l=e.media.getAttribute(e.config.attributes.embed.hash)):l=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(a);const r=l?{h:l}:{};i&&Object.assign(n,{controls:!1,sidedock:!1});const o=Ne({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...r,...n}),c=(u=a,S.empty(u)?null:S.number(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u);var u;const h=$("iframe"),d=me(e.config.urls.vimeo.iframe,c,o);if(h.setAttribute("src",d),h.setAttribute("allowfullscreen",""),h.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),S.empty(s)||h.setAttribute("referrerPolicy",s),i||!t.customControls)h.setAttribute("data-poster",e.poster),e.media=q(h,e.media);else{const t=$("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(h),e.media=q(t,e.media)}t.customControls||Te(me(e.config.urls.vimeo.api,d)).then((t=>{!S.empty(t)&&t.thumbnail_url&&Fe.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(h,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(We.call(e,!0),e.embed.play()),e.media.pause=()=>(We.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:m}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>m,set(t){const{embed:i,media:s,paused:n,volume:a}=e,l=n&&!i.hasPlayed;s.seeking=!0,Z.call(e,s,"seeking"),Promise.resolve(l&&i.setVolume(0)).then((()=>i.setCurrentTime(t))).then((()=>l&&i.pause())).then((()=>l&&i.setVolume(a))).catch((()=>{}))}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then((()=>{p=t,Z.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:g}=e.config;Object.defineProperty(e.media,"volume",{get:()=>g,set(t){e.embed.setVolume(t).then((()=>{g=t,Z.call(e,e.media,"volumechange")}))}});let{muted:f}=e.config;Object.defineProperty(e.media,"muted",{get:()=>f,set(t){const i=!!S.boolean(t)&&t;e.embed.setMuted(!!i||e.config.muted).then((()=>{f=i,Z.call(e,e.media,"volumechange")}))}});let y,{loop:b}=e.config;Object.defineProperty(e.media,"loop",{get:()=>b,set(t){const i=S.boolean(t)?t:e.config.loop.active;e.embed.setLoop(i).then((()=>{b=i}))}}),e.embed.getVideoUrl().then((t=>{y=t,Pe.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>y}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[i,s]=t;e.embed.ratio=he(i,s),ue.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,Fe.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{m=t,Z.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,Z.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,xe.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const i=t.map((e=>function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText}(e.text)));xe.updateCues.call(e,i)})),e.embed.on("loaded",(()=>{if(e.embed.getPaused().then((t=>{We.call(e,!t),t||Z.call(e,e.media,"playing")})),S.element(e.embed.element)&&e.supported.ui){e.embed.element.setAttribute("tabindex",-1)}})),e.embed.on("bufferstart",(()=>{Z.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{Z.call(e,e.media,"playing")})),e.embed.on("play",(()=>{We.call(e,!0),Z.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{We.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,m=t.seconds,Z.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,Z.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&Z.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,Z.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,Z.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,Z.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,Z.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>Fe.build.call(e)),0)}};function Ke(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Z.call(this,this.media,e?"play":"pause"))}function Ye(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const Qe={setup(){if(R(this.elements.wrapper,this.config.classNames.embed,!0),S.object(window.YT)&&S.function(window.YT.Player))Qe.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{S.function(e)&&e(),Qe.ready.call(this)},Be(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){Te(me(this.config.urls.youtube.api,e)).then((e=>{if(S.object(e)){const{title:t,height:i,width:s}=e;this.config.title=t,Fe.setTitle.call(this),this.embed.ratio=he(s,i)}ue.call(this)})).catch((()=>{ue.call(this)}))},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!S.empty(i)&&i.startsWith("youtube-"))return;let s=e.media.getAttribute("src");S.empty(s)&&(s=e.media.getAttribute(this.config.attributes.embed.id));const n=(a=s,S.empty(a)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a);var a;const l=$("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=q(l,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${n}/${e}default.jpg`;Re(t("maxres"),121).catch((()=>Re(t("sd"),121))).catch((()=>Re(t("hq")))).then((t=>Fe.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:n,host:Ye(t),playerVars:x({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,s={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occurred";e.media.error={code:i,message:s},Z.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),Z.call(e,e.media,"ratechange")},onReady(i){if(S.function(e.media.play))return;const s=i.target;Qe.getTitle.call(e,n),e.media.play=()=>{Ke.call(e,!0),s.playVideo()},e.media.pause=()=>{Ke.call(e,!1),s.pauseVideo()},e.media.stop=()=>{s.stopVideo()},e.media.duration=s.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(s.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Z.call(e,e.media,"seeking"),s.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>s.getPlaybackRate(),set(e){s.setPlaybackRate(e)}});let{volume:a}=e.config;Object.defineProperty(e.media,"volume",{get:()=>a,set(t){a=t,s.setVolume(100*a),Z.call(e,e.media,"volumechange")}});let{muted:l}=e.config;Object.defineProperty(e.media,"muted",{get:()=>l,set(t){const i=S.boolean(t)?t:l;l=i,s[i?"mute":"unMute"](),s.setVolume(100*a),Z.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>s.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const r=s.getAvailablePlaybackRates();e.options.speed=r.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),Z.call(e,e.media,"timeupdate"),Z.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=s.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBufferedFe.build.call(e)),50)},onStateChange(i){const s=i.target;clearInterval(e.timers.playing);switch(e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,Z.call(e,e.media,"seeked")),i.data){case-1:Z.call(e,e.media,"timeupdate"),e.media.buffered=s.getVideoLoadedFraction(),Z.call(e,e.media,"progress");break;case 0:Ke.call(e,!1),e.media.loop?(s.stopVideo(),s.playVideo()):Z.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ke.call(e,!0),Z.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{Z.call(e,e.media,"timeupdate")}),50),e.media.duration!==s.getDuration()&&(e.media.duration=s.getDuration(),Z.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ke.call(e,!1);break;case 3:Z.call(e,e.media,"waiting")}Z.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},Xe={setup(){this.media?(R(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),R(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&R(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=$("div",{class:this.config.classNames.video}),L(this.media,this.elements.wrapper),this.elements.poster=$("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?de.setup.call(this):this.isYouTube?Qe.setup.call(this):this.isVimeo&&ze.setup.call(this)):this.debug.warn("No media element found!")}};class Je{constructor(t){e(this,"load",(()=>{this.enabled&&(S.object(window.google)&&S.object(window.google.ima)?this.ready():Be(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),e(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),e(this,"setupIMA",(()=>{this.elements.container=$("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),e(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),e(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=Ee(Math.max(this.manager.getRemainingTime(),0)),t=`${ve.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),e(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),e(this,"addCuePoints",(()=>{S.empty(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e{const{container:t}=this.player.elements,i=e.getAd(),s=e.getAdData();switch((e=>{Z.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}})),e(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),e(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;S.empty(this.cuePoints)||this.cuePoints.forEach(((i,s)=>{t{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),e(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),e(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,ie(this.player.media.play())})),e(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),e(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),e(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),e(this,"trigger",((e,...t)=>{const i=this.events[e];S.array(i)&&i.forEach((e=>{S.function(e)&&e.apply(this,t)}))})),e(this,"on",((e,t)=>(S.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),e(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),e(this,"clearSafetyTimer",(e=>{S.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!S.empty(e.publisherId)||S.url(e.tagUrl))}get tagUrl(){const{config:e}=this;if(S.url(e.tagUrl))return e.tagUrl;return`https://go.aniview.com/api/adserver6/vast/?${Ne({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function Ge(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const Ze=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const i={};e.split(/\r\n|\n|\r/).forEach((e=>{if(S.number(i.startTime)){if(!S.empty(e.trim())&&S.empty(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),i.text&&t.push(i)})),t},et=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class tt{constructor(t){e(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),e(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(S.empty(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(S.function(t))t((e=>{this.thumbnails=e,i()}));else{const e=(S.string(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(i)}})))),e(this,"getThumbnail",(e=>new Promise((t=>{Te(e).then((i=>{const s={frames:Ze(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),t()},n.src=s.urlPrefix+s.frames[0].text}))})))),e(this,"startMove",(e=>{if(this.loaded&&S.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(e.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ee(this.seekTime);const a=null===(t=this.player.config.markers)||void 0===t||null===(i=t.points)||void 0===i?void 0:i.find((({time:e})=>e===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}
`)}this.showImageAtCurrentTime()}})),e(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),e(this,"startScrubbing",(e=>{(S.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),e(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):G.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),e(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),e(this,"render",(()=>{this.elements.thumb.container=$("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=$("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=$("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=$("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),S.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=$("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),e(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),e(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))})),e(this,"loadImage",((e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],a=i.frames[t].text,l=s+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,n,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=l,i.dataset.index=t,i.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${l}`),i.onload=()=>this.showImage(i,n,e,t,a,!0),this.loadingImage=i,this.removeOldImages(i)}})),e(this,"showImage",((e,t,i,s,n,a=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))})),e(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),i)}}))})),e(this,"preloadNearby",((e,t=!0)=>new Promise((i=>{setTimeout((()=>{const s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;n.forEach((e=>{const t=e.text;if(t!==s&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],s=e+t,n=new Image;n.src=s,n.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()}}})),a||i()}}),300)})))),e(this,"getHigherQuality",((e,t,i,s)=>{if(e{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))}),300)}})),e(this,"toggleThumbContainer",((e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),e(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),e(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,a=this.mousePosX-e.left-i.clientWidth/2,l=Ge(a,s,n);i.style.left=`${l}px`,i.style.setProperty("--preview-arrow-offset",a-l+"px")})),e(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=et(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),e(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*i+"px",e.style.width=e.naturalWidth*i+"px",e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=et(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const it={insertElements(e,t){S.string(t)?_(e,this.media,{src:t}):S.array(t)&&t.forEach((t=>{_(e,this.media,t)}))},change(e){N(e,"sources.length")?(de.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],O(this.media),this.media=null,S.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:s=_e.html5,src:n}]=t,a="html5"===s?i:"div",l="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:K.check(i,s,this.config.playsinline),media:$(a,l)}),this.elements.container.appendChild(this.media),S.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),S.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Fe.addStyleHook.call(this),this.isHTML5&&it.insertElements.call(this,"source",t),this.config.title=e.title,Xe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&it.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.isHTML5&&this.media.load(),S.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class st{constructor(t,i){if(e(this,"play",(()=>S.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>ie(this.media.play()))),this.media.play()):null)),e(this,"pause",(()=>this.playing&&S.function(this.media.pause)?this.media.pause():null)),e(this,"togglePlay",(e=>(S.boolean(e)?e:!this.playing)?this.play():this.pause())),e(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):S.function(this.media.stop)&&this.media.stop()})),e(this,"restart",(()=>{this.currentTime=0})),e(this,"rewind",(e=>{this.currentTime-=S.number(e)?e:this.config.seekTime})),e(this,"forward",(e=>{this.currentTime+=S.number(e)?e:this.config.seekTime})),e(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(S.number(e)?e:0)})),e(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),e(this,"airplay",(()=>{K.airplay&&this.media.webkitShowPlaybackTargetPicker()})),e(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=F(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=R(this.elements.container,this.config.classNames.hideControls,i);if(s&&S.array(this.config.controls)&&this.config.controls.includes("settings")&&!S.empty(this.config.settings)&&Pe.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";Z.call(this,this.media,e)}return!s}return!1})),e(this,"on",((e,t)=>{X.call(this,this.elements.container,e,t)})),e(this,"once",((e,t)=>{G.call(this,this.elements.container,e,t)})),e(this,"off",((e,t)=>{J(this.elements.container,e,t)})),e(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(O(this.elements.buttons.play),O(this.elements.captions),O(this.elements.controls),O(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),S.function(e)&&e()):(ee.call(this),de.cancelRequests.call(this),q(this.elements.original,this.elements.container),Z.call(this,this.elements.original,"destroyed",!0),S.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Fe.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&S.function(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))})),e(this,"supports",(e=>K.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=K.touch,this.media=t,S.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S.nodeList(this.media)||S.array(this.media))&&(this.media=this.media[0]),this.config=x({},Le,st.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new De(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",K),S.nullOrUndefined(this.media)||!S.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!K.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let a=null,l=null;switch(n){case"div":if(a=this.media.querySelector("iframe"),S.element(a)){if(l=Me(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?_e.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?_e.vimeo:null}(l.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",l.search.length){const e=["1","true"];e.includes(l.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(l.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(l.searchParams.get("playsinline")),this.config.youtube.hl=l.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(S.empty(this.provider)||!Object.values(_e).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=je;break;case"video":case"audio":this.type=n,this.provider=_e.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=K.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new Ve(this),this.storage=new we(this),this.media.plyr=this,S.element(this.elements.container)||(this.elements.container=$("div"),L(this.media,this.elements.container)),Fe.migrateStyles.call(this),Fe.addStyleHook.call(this),Xe.setup.call(this),this.config.debug&&X.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new He(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Fe.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Je(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>ie(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===_e.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===_e.youtube}get isVimeo(){return this.provider===_e.vimeo}get isVideo(){return this.type===je}get isAudio(){return this.type===Oe}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=S.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return S.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=S.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;S.string(t)&&(t=Number(t)),S.number(t)||(t=this.storage.get("volume")),S.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;S.boolean(t)||(t=this.storage.get("muted")),S.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;S.number(e)&&(t=e),S.number(t)||(t=this.storage.get("speed")),S.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=Ge(t,i,s),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!S.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(S.number),n=!0;if(!i.includes(s)){const e=ne(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=S.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){it.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return S.url(e)?e:this.source}set download(e){S.url(e)&&(this.config.urls.download=e,Pe.setDownloadUrl.call(this))}set poster(e){this.isVideo?Fe.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=oe(ce.call(this));return S.array(e)?e.join(":"):e}set ratio(e){this.isVideo?S.string(e)&&re(e)?(this.config.ratio=oe(e),ue.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=S.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){xe.toggle.call(this,e,!1)}set currentTrack(e){xe.set.call(this,e,!1),xe.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){xe.setLanguage.call(this,e,!1)}get language(){return(xe.getCurrentTrack.call(this)||{}).language}set pip(e){if(!K.pip)return;const t=S.boolean(e)?e:!this.pip;S.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Ie:$e),S.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return K.pip?S.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ie:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new tt(this))}static supported(e,t){return K.check(e,t)}static loadSprite(e,t){return ke(e,t)}static setup(e,t={}){let i=null;return S.string(e)?i=Array.from(document.querySelectorAll(e)):S.nodeList(e)?i=Array.from(e):S.array(e)&&(i=e.filter(S.element)),S.empty(i)?null:i.map((e=>new st(e,t)))}}var nt;return st.defaults=(nt=Le,JSON.parse(JSON.stringify(nt))),st}));!function(e,t){"use strict";var n,l,a=function(e){return new a.Instance(e)};a.SUPPORT="wheel",a.ADD_EVENT="addEventListener",a.REMOVE_EVENT="removeEventListener",a.PREFIX="",a.READY=!1,a.Instance=function(e){return a.READY||(a.normalise.browser(),a.READY=!0),this.element=e,this.handlers=[],this},a.Instance.prototype={wheel:function(e,t){return a.event.add(this,a.SUPPORT,e,t),"DOMMouseScroll"===a.SUPPORT&&a.event.add(this,"MozMousePixelScroll",e,t),this},unwheel:function(e,t){return void 0===e&&(e=this.handlers.slice(-1)[0])&&(e=e.original),a.event.remove(this,a.SUPPORT,e,t),"DOMMouseScroll"===a.SUPPORT&&a.event.remove(this,"MozMousePixelScroll",e,t),this}},a.event={add:function(t,n,l,o){var r=l;l=function(t){t||(t=e.event);var n=a.normalise.event(t),l=a.normalise.delta(t);return r(n,l[0],l[1],l[2])},t.element[a.ADD_EVENT](a.PREFIX+n,l,o||!1),t.handlers.push({original:r,normalised:l})},remove:function(e,t,n,l){for(var o,r=n,i={},s=0,d=e.handlers.length;s=9||(a.SUPPORT=void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll"),e.addEventListener||(a.ADD_EVENT="attachEvent",a.REMOVE_EVENT="detachEvent",a.PREFIX="on")},event:function(e){var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){e.stopPropagation?e.stopPropagation():e.cancelBubble=!1}};return e.wheelDelta&&(t.deltaY=-.025*e.wheelDelta),e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX),e.detail&&(t.deltaY=e.detail),t},delta:function(e){var t,a,o,r=0,i=0,s=0;return e.deltaY&&(r=s=-1*e.deltaY),e.deltaX&&(r=-1*(i=e.deltaX)),e.wheelDelta&&(r=e.wheelDelta),e.wheelDeltaY&&(s=e.wheelDeltaY),e.wheelDeltaX&&(i=-1*e.wheelDeltaX),e.detail&&(r=-1*e.detail),0===r?[0,0,0]:(t=Math.abs(r),(!n||t0?"floor":"ceil",[r=Math[o](r/n),i=Math[o](i/l),s=Math[o](s/l)])}},"function"==typeof e.define&&e.define.amd?e.define("hamster",[],function(){return a}):"object"==typeof exports?module.exports=a:e.Hamster=a}(window,window.document);/*! * imagesLoaded PACKAGED v5.0.0 * JavaScript is all like "You images are done yet or what?" * MIT License */!function(t,e){"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,(function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let i=this._events=this._events||{},s=i[t]=i[t]||[];return s.includes(e)||s.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){let i=this._events&&this._events[t];if(!i||!i.length)return this;let s=i.indexOf(e);return-1!=s&&i.splice(s,1),this},e.emitEvent=function(t,e){let i=this._events&&this._events[t];if(!i||!i.length)return this;i=i.slice(0),e=e||[];let s=this._onceEvents&&this._onceEvents[t];for(let n of i){s&&s[n]&&(this.off(t,n),delete s[n]),n.apply(this,e)}return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t})),/*! * imagesLoaded v5.0.0 * JavaScript is all like "You images are done yet or what?" * MIT License */function(t,e){"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,(function(t,e){let i=t.jQuery,s=t.console;function n(t,e,o){if(!(this instanceof n))return new n(t,e,o);let r=t;var h;("string"==typeof t&&(r=document.querySelectorAll(t)),r)?(this.elements=(h=r,Array.isArray(h)?h:"object"==typeof h&&"number"==typeof h.length?[...h]:[h]),this.options={},"function"==typeof e?o=e:Object.assign(this.options,e),o&&this.on("always",o),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):s.error(`Bad element for imagesLoaded ${r||t}`)}n.prototype=Object.create(e.prototype),n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const o=[1,9,11];n.prototype.addElementImages=function(t){"IMG"===t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);let{nodeType:e}=t;if(!e||!o.includes(e))return;let i=t.querySelectorAll("img");for(let t of i)this.addImage(t);if("string"==typeof this.options.background){let e=t.querySelectorAll(this.options.background);for(let t of e)this.addElementBackgroundImages(t)}};const r=/url\((['"])?(.*?)\1\)/gi;function h(t){this.img=t}function d(t,e){this.url=t,this.element=e,this.img=new Image}return n.prototype.addElementBackgroundImages=function(t){let e=getComputedStyle(t);if(!e)return;let i=r.exec(e.backgroundImage);for(;null!==i;){let s=i&&i[2];s&&this.addBackground(s,t),i=r.exec(e.backgroundImage)}},n.prototype.addImage=function(t){let e=new h(t);this.images.push(e)},n.prototype.addBackground=function(t,e){let i=new d(t,e);this.images.push(i)},n.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let t=(t,e,i)=>{setTimeout((()=>{this.progress(t,e,i)}))};this.images.forEach((function(e){e.once("progress",t),e.check()}))},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&s&&s.log(`progress: ${i}`,t,e)},n.prototype.complete=function(){let t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},h.prototype=Object.create(e.prototype),h.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},h.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},h.prototype.confirm=function(t,e){this.isLoaded=t;let{parentNode:i}=this.img,s="PICTURE"===i.nodeName?i:this.img;this.emitEvent("progress",[this,s,e])},h.prototype.handleEvent=function(t){let e="on"+t.type;this[e]&&this[e](t)},h.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},h.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},h.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype=Object.create(h.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&(i=e,i.fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(i(this))})},n.makeJQueryPlugin(),n}));!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,(function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(s,a){void 0===s&&(s={}),void 0===a&&(a={}),Object.keys(a).forEach((i=>{void 0===s[i]?s[i]=a[i]:e(a[i])&&e(s[i])&&Object.keys(a[i]).length>0&&t(s[i],a[i])}))}const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const e="undefined"!=typeof document?document:{};return t(e,s),e}const i={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function r(){const e="undefined"!=typeof window?window:{};return t(e,i),e}function n(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function l(){return Date.now()}function o(e,t){void 0===t&&(t="x");const s=r();let a,i,n;const l=function(e){const t=r();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),n=new s.WebKitCSSMatrix("none"===i?"":i)):(n=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=n.toString().split(",")),"x"===t&&(i=s.WebKitCSSMatrix?n.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=s.WebKitCSSMatrix?n.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0}function d(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function c(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function p(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let s=1;st.indexOf(e)<0));for(let t=0,i=s.length;tn?"next":"prev",p=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{l=(new Date).getTime(),null===o&&(o=l);const e=Math.max(Math.min((l-o)/d,1),0),r=.5-Math.cos(e*Math.PI)/2;let c=n+r*(s-n);if(p(c,s)&&(c=s),t.wrapperEl.scrollTo({[a]:c}),p(c,s))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:c})})),void i.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=i.requestAnimationFrame(u)};u()}function h(e){return e.querySelector(".swiper-slide-transform")||e.shadowEl&&e.shadowEl.querySelector(".swiper-slide-transform")||e}function f(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function g(e,t){void 0===t&&(t=[]);const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:[t]),s}function v(e){const t=r(),s=a(),i=e.getBoundingClientRect(),n=s.body,l=e.clientTop||n.clientTop||0,o=e.clientLeft||n.clientLeft||0,d=e===t?t.scrollY:e.scrollTop,c=e===t?t.scrollX:e.scrollLeft;return{top:i.top+d-l,left:i.left+c-o}}function w(e,t){return r().getComputedStyle(e,null).getPropertyValue(t)}function b(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function y(e,t){const s=[];let a=e.parentElement;for(;a;)t?a.matches(t)&&s.push(a):s.push(a),a=a.parentElement;return s}function E(e,t){t&&e.addEventListener("transitionend",(function s(a){a.target===e&&(t.call(e,a),e.removeEventListener("transitionend",s))}))}function x(e,t,s){const a=r();return s?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let S,T,M;function C(){return S||(S=function(){const e=r(),t=a();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),S}function P(e){return void 0===e&&(e={}),T||(T=function(e){let{userAgent:t}=void 0===e?{}:e;const s=C(),a=r(),i=a.navigator.platform,n=t||a.navigator.userAgent,l={ios:!1,android:!1},o=a.screen.width,d=a.screen.height,c=n.match(/(Android);?[\s\/]+([\d.]+)?/);let p=n.match(/(iPad).*OS\s([\d_]+)/);const u=n.match(/(iPod)(.*OS\s([\d_]+))?/),m=!p&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===i;let f="MacIntel"===i;return!p&&f&&s.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${d}`)>=0&&(p=n.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),f=!1),c&&!h&&(l.os="android",l.android=!0),(p||m||u)&&(l.os="ios",l.ios=!0),l}(e)),T}function L(){return M||(M=function(){const e=r();let t=!1;function s(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(s()){const s=String(e.navigator.userAgent);if(s.includes("Version/")){const[e,a]=s.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&a<2}}return{isSafari:t||s(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),M}var z={on(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!=typeof t)return a;const i=s?"unshift":"push";return e.split(" ").forEach((e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][i](t)})),a},once(e,t,s){const a=this;if(!a.eventsListeners||a.destroyed)return a;if("function"!=typeof t)return a;function i(){a.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,r=new Array(s),n=0;n=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach(((a,i)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&s.eventsListeners[e].splice(i,1)}))})),s):s},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,s,a;for(var i=arguments.length,r=new Array(i),n=0;n{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(a,[t,...s])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(a,s)}))})),e}};const A=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){const t=s.querySelector(`.${e.params.lazyPreloaderClass}`);t&&t.remove()}},$=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},I=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const a="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex,r=i+a-1;if(e.params.rewind)for(let a=i-t;a<=r+t;a+=1){const t=(a%s+s)%s;t!==i&&t>r&&$(e,t)}else for(let a=Math.max(r-t,0);a<=Math.min(r+t,s-1);a+=1)a!==i&&a>r&&$(e,a)};var k={updateSize:function(){const e=this;let t,s;const a=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:a.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(w(a,"padding-left")||0,10)-parseInt(w(a,"padding-right")||0,10),s=s-parseInt(w(a,"padding-top")||0,10)-parseInt(w(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function s(e,s){return parseFloat(e.getPropertyValue(t(s))||0)}const a=e.params,{wrapperEl:i,slidesEl:r,size:n,rtlTranslate:l,wrongRTL:o}=e,d=e.virtual&&a.virtual.enabled,c=d?e.virtual.slides.length:e.slides.length,p=f(r,`.${e.params.slideClass}, swiper-slide`),m=d?e.virtual.slides.length:p.length;let h=[];const g=[],v=[];let b=a.slidesOffsetBefore;"function"==typeof b&&(b=a.slidesOffsetBefore.call(e));let y=a.slidesOffsetAfter;"function"==typeof y&&(y=a.slidesOffsetAfter.call(e));const E=e.snapGrid.length,S=e.slidesGrid.length;let T=a.spaceBetween,M=-b,C=0,P=0;if(void 0===n)return;"string"==typeof T&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*n:"string"==typeof T&&(T=parseFloat(T)),e.virtualSize=-T,p.forEach((e=>{l?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),a.centeredSlides&&a.cssMode&&(u(i,"--swiper-centered-offset-before",""),u(i,"--swiper-centered-offset-after",""));const L=a.grid&&a.grid.rows>1&&e.grid;let z;L&&e.grid.initSlides(m);const A="auto"===a.slidesPerView&&a.breakpoints&&Object.keys(a.breakpoints).filter((e=>void 0!==a.breakpoints[e].slidesPerView)).length>0;for(let i=0;i1&&h.push(e.virtualSize-n)}if(d&&a.loop){const t=v[0]+T;if(a.slidesPerGroup>1){const s=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/a.slidesPerGroup),i=t*a.slidesPerGroup;for(let e=0;e!(a.cssMode&&!a.loop)||t!==p.length-1)).forEach((e=>{e.style[s]=`${T}px`}))}if(a.centeredSlides&&a.centeredSlidesBounds){let e=0;v.forEach((t=>{e+=t+(T||0)})),e-=T;const t=e-n;h=h.map((e=>e<0?-b:e>t?t+y:e))}if(a.centerInsufficientSlides){let e=0;if(v.forEach((t=>{e+=t+(T||0)})),e-=T,e{h[s]=e-t})),g.forEach(((e,s)=>{g[s]=e+t}))}}if(Object.assign(e,{slides:p,snapGrid:h,slidesGrid:g,slidesSizesGrid:v}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){u(i,"--swiper-centered-offset-before",-h[0]+"px"),u(i,"--swiper-centered-offset-after",e.size/2-v[v.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+s))}if(m!==c&&e.emit("slidesLengthChange"),h.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),g.length!==S&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset(),!(d||a.cssMode||"slide"!==a.effect&&"fade"!==a.effect)){const t=`${a.containerModifierClass}backface-hidden`,s=e.el.classList.contains(t);m<=a.maxBackfaceHiddenSlides?s||e.el.classList.add(t):s&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],a=t.virtual&&t.params.virtual.enabled;let i,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const n=e=>a?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{s.push(e)}));else for(i=0;it.slides.length&&!a)break;s.push(n(e))}else s.push(n(t.activeIndex));for(i=0;ir?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let a=0;a{e.classList.remove(s.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=s.spaceBetween;"string"==typeof l&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:"string"==typeof l&&(l=parseFloat(l));for(let e=0;e=0&&u1&&m<=t.size||u<=0&&m>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(e),a[e].classList.add(s.slideVisibleClass)),o.progress=i?-c:c,o.originalProgress=i?-p:p}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:r,isEnd:n,progressLoop:l}=t;const o=r,d=n;if(0===a)i=0,r=!0,n=!0;else{i=(e-t.minTranslate())/a;const s=Math.abs(e-t.minTranslate())<1,l=Math.abs(e-t.maxTranslate())<1;r=s||i<=0,n=l||i>=1,s&&(i=0),l&&(i=1)}if(s.loop){const s=t.getSlideIndexByData(0),a=t.getSlideIndexByData(t.slides.length-1),i=t.slidesGrid[s],r=t.slidesGrid[a],n=t.slidesGrid[t.slidesGrid.length-1],o=Math.abs(e);l=o>=i?(o-i)/n:(o+n-r)/n,l>1&&(l-=1)}Object.assign(t,{progress:i,progressLoop:l,isBeginning:r,isEnd:n}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),r&&!o&&t.emit("reachBeginning toEdge"),n&&!d&&t.emit("reachEnd toEdge"),(o&&!r||d&&!n)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:a,activeIndex:i}=e,r=e.virtual&&s.virtual.enabled,n=e=>f(a,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let l;if(t.forEach((e=>{e.classList.remove(s.slideActiveClass,s.slideNextClass,s.slidePrevClass)})),r)if(s.loop){let t=i-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=n(`[data-swiper-slide-index="${t}"]`)}else l=n(`[data-swiper-slide-index="${i}"]`);else l=t[i];if(l){l.classList.add(s.slideActiveClass);let e=function(e,t){const s=[];for(;e.nextElementSibling;){const a=e.nextElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}(l,`.${s.slideClass}, swiper-slide`)[0];s.loop&&!e&&(e=t[0]),e&&e.classList.add(s.slideNextClass);let a=function(e,t){const s=[];for(;e.previousElementSibling;){const a=e.previousElementSibling;t?a.matches(t)&&s.push(a):s.push(a),e=a}return s}(l,`.${s.slideClass}, swiper-slide`)[0];s.loop&&0===!a&&(a=t[t.length-1]),a&&a.classList.add(s.slidePrevClass)}e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:i,activeIndex:r,realIndex:n,snapIndex:l}=t;let o,d=e;const c=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===d&&(d=function(e){const{slidesGrid:t,params:s}=e,a=e.rtlTranslate?e.translate:-e.translate;let i;for(let e=0;e=t[e]&&a=t[e]&&a=t[e]&&(i=e);return s.normalizeSlideIndex&&(i<0||void 0===i)&&(i=0),i}(t)),a.indexOf(s)>=0)o=a.indexOf(s);else{const e=Math.min(i.slidesPerGroupSkip,d);o=e+Math.floor((d-e)/i.slidesPerGroup)}if(o>=a.length&&(o=a.length-1),d===r)return o!==l&&(t.snapIndex=o,t.emit("snapIndexChange")),void(t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=c(d)));let p;p=t.virtual&&i.virtual.enabled&&i.loop?c(d):t.slides[d]?parseInt(t.slides[d].getAttribute("data-swiper-slide-index")||d,10):d,Object.assign(t,{previousSnapIndex:l,snapIndex:o,previousRealIndex:n,realIndex:p,previousIndex:r,activeIndex:d}),t.initialized&&I(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),n!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,s=t.params,a=e.closest(`.${s.slideClass}, swiper-slide`);let i,r=!1;if(a)for(let e=0;eo?o:a&&en?"next":r=o.length&&(v=o.length-1);const w=-o[v];if(l.normalizeSlideIndex)for(let e=0;e=s&&t=s&&t=s&&(n=e)}if(r.initialized&&n!==p){if(!r.allowSlideNext&&wr.translate&&w>r.maxTranslate()&&(p||0)!==n)return!1}let b;if(n!==(c||0)&&s&&r.emit("beforeSlideChangeStart"),r.updateProgress(w),b=n>p?"next":n0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{h[e?"scrollLeft":"scrollTop"]=s}))):h[e?"scrollLeft":"scrollTop"]=s,t&&requestAnimationFrame((()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1}))}else{if(!r.support.smoothScroll)return m({swiper:r,targetPosition:s,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}return r.setTransition(t),r.setTranslate(w),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(s,b),0===t?r.transitionEnd(s,b):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,b))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,s,a){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===s&&(s=!0),"string"==typeof e){e=parseInt(e,10)}const i=this;let r=e;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?r+=i.virtual.slidesBefore:r=i.getSlideIndexByData(r)),i.slideTo(r,t,s,a)},slideNext:function(e,t,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const a=this,{enabled:i,params:r,animating:n}=a;if(!i)return a;let l=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(l=Math.max(a.slidesPerViewDynamic("current",!0),1));const o=a.activeIndexp(e)));let h=r[m.indexOf(u)-1];if(void 0===h&&i.cssMode){let e;r.forEach(((t,s)=>{u>=t&&(e=s)})),void 0!==e&&(h=r[e>0?e-1:e])}let f=0;if(void 0!==h&&(f=n.indexOf(h),f<0&&(f=a.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(f=f-a.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),i.rewind&&a.isBeginning){const i=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(i,e,t,s)}return a.slideTo(f,e,t,s)},slideReset:function(e,t,s){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,s)},slideToClosest:function(e,t,s,a){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===a&&(a=.5);const i=this;let r=i.activeIndex;const n=Math.min(i.params.slidesPerGroupSkip,r),l=n+Math.floor((r-n)/i.params.slidesPerGroup),o=i.rtlTranslate?i.translate:-i.translate;if(o>=i.snapGrid[l]){const e=i.snapGrid[l];o-e>(i.snapGrid[l+1]-e)*a&&(r+=i.params.slidesPerGroup)}else{const e=i.snapGrid[l-1];o-e<=(i.snapGrid[l]-e)*a&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,e,t,s)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:s}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,r=e.clickedIndex;const l=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;i=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?re.slides.length-e.loopedSlides+a/2?(e.loopFix(),r=e.getSlideIndex(f(s,`${l}[data-swiper-slide-index="${i}"]`)[0]),n((()=>{e.slideTo(r)}))):e.slideTo(r):r>e.slides.length-a?(e.loopFix(),r=e.getSlideIndex(f(s,`${l}[data-swiper-slide-index="${i}"]`)[0]),n((()=>{e.slideTo(r)}))):e.slideTo(r)}else e.slideTo(r)}};var H={loopCreate:function(e){const t=this,{params:s,slidesEl:a}=t;if(!s.loop||t.virtual&&t.params.virtual.enabled)return;f(a,`.${s.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:s.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:s=!0,direction:a,setTranslate:i,activeSlideIndex:r,byController:n,byMousewheel:l}=void 0===e?{}:e;const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:d,allowSlidePrev:c,allowSlideNext:p,slidesEl:u,params:m}=o;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&m.virtual.enabled)return s&&(m.centeredSlides||0!==o.snapIndex?m.centeredSlides&&o.snapIndexe.classList.contains(m.slideActiveClass)))[0]):w=r;const b="next"===a||!a,y="prev"===a||!a;let E=0,x=0;if(ro.slides.length-2*f){x=Math.max(r-(o.slides.length-2*f),m.slidesPerGroup);for(let e=0;e{o.slides[e].swiperLoopMoveDOM=!0,u.prepend(o.slides[e]),o.slides[e].swiperLoopMoveDOM=!1})),b&&v.forEach((e=>{o.slides[e].swiperLoopMoveDOM=!0,u.append(o.slides[e]),o.slides[e].swiperLoopMoveDOM=!1})),o.recalcSlides(),"auto"===m.slidesPerView&&o.updateSlides(),m.watchSlidesProgress&&o.updateSlidesOffset(),s)if(g.length>0&&y)if(void 0===t){const e=o.slidesGrid[w],t=o.slidesGrid[w+E]-e;l?o.setTranslate(o.translate-t):(o.slideTo(w+E,0,!1,!0),i&&(o.touches[o.isHorizontal()?"startX":"startY"]+=t))}else i&&o.slideToLoop(t,0,!1,!0);else if(v.length>0&&b)if(void 0===t){const e=o.slidesGrid[w],t=o.slidesGrid[w-x]-e;l?o.setTranslate(o.translate-t):(o.slideTo(w-x,0,!1,!0),i&&(o.touches[o.isHorizontal()?"startX":"startY"]+=t))}else o.slideToLoop(t,0,!1,!0);if(o.allowSlidePrev=c,o.allowSlideNext=p,o.controller&&o.controller.control&&!n){const e={slideRealIndex:t,slideTo:!1,direction:a,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix(e)})):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix(e)}o.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const a=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;a[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),a.forEach((e=>{s.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function X(e){const t=this,s=a(),i=r(),n=t.touchEventsData;n.evCache.push(e);const{params:o,touches:d,enabled:c}=t;if(!c)return;if(!o.simulateTouch&&"mouse"===e.pointerType)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let p=e;p.originalEvent&&(p=p.originalEvent);let u=p.target;if("wrapper"===o.touchEventsTarget&&!t.wrapperEl.contains(u))return;if("which"in p&&3===p.which)return;if("button"in p&&p.button>0)return;if(n.isTouched&&n.isMoved)return;const m=!!o.noSwipingClass&&""!==o.noSwipingClass,h=e.composedPath?e.composedPath():e.path;m&&p.target&&p.target.shadowRoot&&h&&(u=h[0]);const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,g=!(!p.target||!p.target.shadowRoot);if(o.noSwiping&&(g?function(e,t){return void 0===t&&(t=this),function t(s){if(!s||s===a()||s===r())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(e);return i||s.getRootNode?i||t(s.getRootNode().host):null}(t)}(f,u):u.closest(f)))return void(t.allowClick=!0);if(o.swipeHandler&&!u.closest(o.swipeHandler))return;d.currentX=p.pageX,d.currentY=p.pageY;const v=d.currentX,w=d.currentY,b=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,y=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(b&&(v<=y||v>=i.innerWidth-y)){if("prevent"!==b)return;e.preventDefault()}Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=v,d.startY=w,n.touchStartTime=l(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(n.allowThresholdMove=!1);let E=!0;u.matches(n.focusableElements)&&(E=!1,"SELECT"===u.nodeName&&(n.isTouched=!1)),s.activeElement&&s.activeElement.matches(n.focusableElements)&&s.activeElement!==u&&s.activeElement.blur();const x=E&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!x||u.isContentEditable||p.preventDefault(),t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",p)}function Y(e){const t=a(),s=this,i=s.touchEventsData,{params:r,touches:n,rtlTranslate:o,enabled:d}=s;if(!d)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",c));const p=i.evCache.findIndex((e=>e.pointerId===c.pointerId));p>=0&&(i.evCache[p]=c);const u=i.evCache.length>1?i.evCache[0]:c,m=u.pageX,h=u.pageY;if(c.preventedByNestedSwiper)return n.startX=m,void(n.startY=h);if(!s.allowTouchMove)return c.target.matches(i.focusableElements)||(s.allowClick=!1),void(i.isTouched&&(Object.assign(n,{startX:m,startY:h,prevX:s.touches.currentX,prevY:s.touches.currentY,currentX:m,currentY:h}),i.touchStartTime=l()));if(r.touchReleaseOnEdges&&!r.loop)if(s.isVertical()){if(hn.startY&&s.translate>=s.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(mn.startX&&s.translate>=s.minTranslate())return;if(t.activeElement&&c.target===t.activeElement&&c.target.matches(i.focusableElements))return i.isMoved=!0,void(s.allowClick=!1);if(i.allowTouchCallbacks&&s.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;n.currentX=m,n.currentY=h;const f=n.currentX-n.startX,g=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(f**2+g**2)=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(f))/Math.PI,i.isScrolling=s.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",c),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling||s.zoom&&s.params.zoom&&s.params.zoom.enabled&&i.evCache.length>1)return void(i.isTouched=!1);if(!i.startMoving)return;s.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let v=s.isHorizontal()?f:g,w=s.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;r.oneWayMovement&&(v=Math.abs(v)*(o?1:-1),w=Math.abs(w)*(o?1:-1)),n.diff=v,v*=r.touchRatio,o&&(v=-v,w=-w);const b=s.touchesDirection;s.swipeDirection=v>0?"prev":"next",s.touchesDirection=w>0?"prev":"next";const y=s.params.loop&&!r.cssMode;if(!i.isMoved){if(y&&s.loopFix({direction:s.swipeDirection}),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,!r.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}let E;i.isMoved&&b!==s.touchesDirection&&y&&Math.abs(v)>=1&&(s.loopFix({direction:s.swipeDirection,setTranslate:!0}),E=!0),s.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=v+i.startTranslate;let x=!0,S=r.resistanceRatio;if(r.touchReleaseOnEdges&&(S=0),v>0?(y&&!E&&i.currentTranslate>(r.centeredSlides?s.minTranslate()-s.size/2:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>s.minTranslate()&&(x=!1,r.resistance&&(i.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+i.startTranslate+v)**S))):v<0&&(y&&!E&&i.currentTranslate<(r.centeredSlides?s.maxTranslate()+s.size/2:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===r.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslatei.startTranslate&&(i.currentTranslate=i.startTranslate),s.allowSlidePrev||s.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(v)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function B(e){const t=this,s=t.touchEventsData,a=s.evCache.findIndex((t=>t.pointerId===e.pointerId));if(a>=0&&s.evCache.splice(a,1),["pointercancel","pointerout","pointerleave"].includes(e.type)){if(!("pointercancel"===e.type&&(t.browser.isSafari||t.browser.isWebView)))return}const{params:i,touches:r,rtlTranslate:o,slidesGrid:d,enabled:c}=t;if(!c)return;if(!i.simulateTouch&&"mouse"===e.pointerType)return;let p=e;if(p.originalEvent&&(p=p.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",p),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&i.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);i.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=l(),m=u-s.touchStartTime;if(t.allowClick){const e=p.path||p.composedPath&&p.composedPath();t.updateClickedSlide(e&&e[0]||p.target),t.emit("tap click",p),m<300&&u-s.lastClickTime<300&&t.emit("doubleTap doubleClick",p)}if(s.lastClickTime=l(),n((()=>{t.destroyed||(t.allowClick=!0)})),!s.isTouched||!s.isMoved||!t.swipeDirection||0===r.diff||s.currentTranslate===s.startTranslate)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let h;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,h=i.followFinger?o?t.translate:-t.translate:-s.currentTranslate,i.cssMode)return;if(t.params.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});let f=0,g=t.slidesSizesGrid[0];for(let e=0;e=d[e]&&h=d[e]&&(f=e,g=d[d.length-1]-d[d.length-2])}let v=null,w=null;i.rewind&&(t.isBeginning?w=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const b=(h-d[f])/g,y=fi.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=i.longSwipesRatio?t.slideTo(i.rewind&&t.isEnd?v:f+y):t.slideTo(f)),"prev"===t.swipeDirection&&(b>1-i.longSwipesRatio?t.slideTo(f+y):null!==w&&b<0&&Math.abs(b)>i.longSwipesRatio?t.slideTo(w):t.slideTo(f))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(p.target===t.navigation.nextEl||p.target===t.navigation.prevEl)?p.target===t.navigation.nextEl?t.slideTo(f+y):t.slideTo(f):("next"===t.swipeDirection&&t.slideTo(null!==v?v:f+y),"prev"===t.swipeDirection&&t.slideTo(null!==w?w:f))}}function N(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:r}=e,n=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=n&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||l?e.params.loop&&!n?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=i,e.allowSlideNext=a,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function q(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function R(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:a}=e;if(!a)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();i=0===r?0:(e.translate-e.minTranslate())/r,i!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function F(e){const t=this;A(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}let _=!1;function V(){}const j=(e,t)=>{const s=a(),{params:i,el:r,wrapperEl:n,device:l}=e,o=!!i.nested,d="on"===t?"addEventListener":"removeEventListener",c=t;r[d]("pointerdown",e.onTouchStart,{passive:!1}),s[d]("pointermove",e.onTouchMove,{passive:!1,capture:o}),s[d]("pointerup",e.onTouchEnd,{passive:!0}),s[d]("pointercancel",e.onTouchEnd,{passive:!0}),s[d]("pointerout",e.onTouchEnd,{passive:!0}),s[d]("pointerleave",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[d]("click",e.onClick,!0),i.cssMode&&n[d]("scroll",e.onScroll),i.updateOnWindowResize?e[c](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",N,!0):e[c]("observerUpdate",N,!0),r[d]("load",e.onLoad,{capture:!0})};const W=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var U={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function K(e,t){return function(s){void 0===s&&(s={});const a=Object.keys(s)[0],i=s[a];"object"==typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===e[a]&&(e[a]={auto:!0}),a in e&&"enabled"in i?(!0===e[a]&&(e[a]={enabled:!0}),"object"!=typeof e[a]||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),p(t,s)):p(t,s)):p(t,s)}}const Z={eventsEmitter:z,update:k,translate:O,transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`),s.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const s=this,{params:a}=s;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),D({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const s=this,{params:a}=s;s.animating=!1,a.cssMode||(s.setTransition(0),D({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:G,loop:H,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,t=a(),{params:s}=e;e.onTouchStart=X.bind(e),e.onTouchMove=Y.bind(e),e.onTouchEnd=B.bind(e),s.cssMode&&(e.onScroll=R.bind(e)),e.onClick=q.bind(e),e.onLoad=F.bind(e),_||(t.addEventListener("touchstart",V),_=!0),j(e,"on")},detachEvents:function(){j(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:a,el:i}=e,r=a.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const n=e.getBreakpoint(r,e.params.breakpointsBase,e.el);if(!n||e.currentBreakpoint===n)return;const l=(n in r?r[n]:void 0)||e.originalParams,o=W(e,a),d=W(e,l),c=a.enabled;o&&!d?(i.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),e.emitContainerClasses()):!o&&d&&(i.classList.add(`${a.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===a.grid.fill)&&i.classList.add(`${a.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const s=a[t]&&a[t].enabled,i=l[t]&&l[t].enabled;s&&!i&&e[t].disable(),!s&&i&&e[t].enable()}));const u=l.direction&&l.direction!==a.direction,m=a.loop&&(l.slidesPerView!==a.slidesPerView||u);u&&s&&e.changeDirection(),p(e.params,l);const h=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),c&&!h?e.disable():!c&&h&&e.enable(),e.currentBreakpoint=n,e.emit("_beforeBreakpoint",l),m&&s&&(e.loopDestroy(),e.loopCreate(t),e.updateSlides()),e.emit("breakpoint",l)},getBreakpoint:function(e,t,s){if(void 0===t&&(t="window"),!e||"container"===t&&!s)return;let a=!1;const i=r(),n="window"===t?i.innerHeight:s.clientHeight,l=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}}));l.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;es}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:a,el:i,device:r}=e,n=function(e,t){const s=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((a=>{e[a]&&s.push(t+a)})):"string"==typeof e&&s.push(t+e)})),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:a},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...n),i.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}}},Q={};class J{constructor(){let e,t;for(var s=arguments.length,i=new Array(s),r=0;r1){const e=[];return n.querySelectorAll(t.el).forEach((s=>{const a=p({},t,{el:s});e.push(new J(a))})),e}const l=this;l.__swiper__=!0,l.support=C(),l.device=P({userAgent:t.userAgent}),l.browser=L(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const o={};l.modules.forEach((e=>{e({params:t,swiper:l,extendParams:K(t,o),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})}));const d=p({},U,o);return l.params=p({},d,Q,t),l.originalParams=p({},l.params),l.passedParams=p({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach((e=>{l.on(e,l.params.on[e])})),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===l.params.direction,isVertical:()=>"vertical"===l.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getSlideIndex(e){const{slidesEl:t,params:s}=this,a=b(f(t,`.${s.slideClass}, swiper-slide`)[0]);return b(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=f(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const a=s.minTranslate(),i=(s.maxTranslate()-a)*e+a;s.translateTo(i,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((s=>{const a=e.getSlideClasses(s);t.push({slideEl:s,classNames:a}),e.emit("_slideClass",s,a)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:s,slides:a,slidesGrid:i,slidesSizesGrid:r,size:n,activeIndex:l}=this;let o=1;if(s.centeredSlides){let e,t=a[l].swiperSlideSize;for(let s=l+1;sn&&(e=!0));for(let s=l-1;s>=0;s-=1)a[s]&&!e&&(t+=a[s].swiperSlideSize,o+=1,t>n&&(e=!0))}else if("current"===e)for(let e=l+1;e=0;e-=1){i[l]-i[e]{t.complete&&A(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled)a(),e.params.autoHeight&&e.updateAutoHeight();else{if(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides){const t=e.virtual&&e.params.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(t.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||a()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const s=this,a=s.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${a}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.shadowEl&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(s&&s.shadowRoot&&s.shadowRoot.querySelector){return s.shadowRoot.querySelector(a())}return f(s,a())[0]})();return!i&&t.params.createElements&&(i=g("div",t.params.wrapperClass),s.append(i),f(s,`.${t.params.slideClass}`).forEach((e=>{i.append(e)}))),Object.assign(t,{el:s,wrapperEl:i,slidesEl:t.isElement?s:i,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===w(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===w(s,"direction")),wrongRTL:"-webkit-box"===w(i,"display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach((e=>{e.complete?A(t,e):e.addEventListener("load",(e=>{A(t,e.target)}))})),I(t),t.initialized=!0,I(t),t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const s=this,{params:a,el:i,wrapperEl:r,slides:n}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),t&&(s.removeClasses(),i.removeAttribute("style"),r.removeAttribute("style"),n&&n.length&&n.forEach((e=>{e.classList.remove(a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),s.emit("destroy"),Object.keys(s.eventsListeners).forEach((e=>{s.off(e)})),!1!==e&&(s.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(s)),s.destroyed=!0),null}static extendDefaults(e){p(Q,e)}static get extendedDefaults(){return Q}static get defaults(){return U}static installModule(e){J.prototype.__modules__||(J.prototype.__modules__=[]);const t=J.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>J.installModule(e))),J):(J.installModule(e),J)}}function ee(e,t,s,a){return e.params.createElements&&Object.keys(a).forEach((i=>{if(!s[i]&&!0===s.auto){let r=f(e.el,`.${a[i]}`)[0];r||(r=g("div",a[i]),r.className=a[i],e.el.append(r)),s[i]=r,t[i]=r}})),s}function te(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function se(e){const t=this,{params:s,slidesEl:a}=t;s.loop&&t.loopDestroy();const i=e=>{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,a.append(t.children[0]),t.innerHTML=""}else a.append(e)};if("object"==typeof e&&"length"in e)for(let t=0;t{if("string"==typeof e){const t=document.createElement("div");t.innerHTML=e,i.prepend(t.children[0]),t.innerHTML=""}else i.prepend(e)};if("object"==typeof e&&"length"in e){for(let t=0;t=l)return void s.appendSlide(t);let o=n>e?n+1:n;const d=[];for(let t=l-1;t>=e;t-=1){const e=s.slides[t];e.remove(),d.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;ee?n+t.length:n}else r.append(t);for(let e=0;e{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),l&&l()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=n?n():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)})),a("setTranslate",(()=>{s.params.effect===t&&i()})),a("setTransition",((e,a)=>{s.params.effect===t&&r(a)})),a("transitionEnd",(()=>{if(s.params.effect===t&&o){if(!d||!d().slideShadows)return;s.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),o()}})),a("virtualUpdate",(()=>{s.params.effect===t&&(s.slides.length||(c=!0),requestAnimationFrame((()=>{c&&s.slides&&s.slides.length&&(i(),c=!1)})))}))}function oe(e,t){const s=h(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function de(e){let{swiper:t,duration:s,transformElements:a,allSlides:i}=e;const{activeIndex:r}=t;if(t.params.virtualTranslate&&0!==s){let e,s=!1;e=i?a:a.filter((e=>{const s=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return t.slides.filter((t=>t.shadowEl&&t.shadowEl===e.parentNode))[0];return e.parentElement})(e):e;return t.getSlideIndex(s)===r})),e.forEach((e=>{E(e,(()=>{if(s)return;if(!t||t.destroyed)return;s=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function ce(e,t,s){const a="swiper-slide-shadow"+(s?`-${s}`:""),i=h(t);let r=i.querySelector(`.${a}`);return r||(r=g("div","swiper-slide-shadow"+(s?`-${s}`:"")),i.append(r)),r}Object.keys(Z).forEach((e=>{Object.keys(Z[e]).forEach((t=>{J.prototype[t]=Z[e][t]}))})),J.use([function(e){let{swiper:t,on:s,emit:a}=e;const i=r();let n=null,l=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(a("beforeResize"),a("resize"))},d=()=>{t&&!t.destroyed&&t.initialized&&a("orientationchange")};s("init",(()=>{t.params.resizeObserver&&void 0!==i.ResizeObserver?t&&!t.destroyed&&t.initialized&&(n=new ResizeObserver((e=>{l=i.requestAnimationFrame((()=>{const{width:s,height:a}=t;let i=s,r=a;e.forEach((e=>{let{contentBoxSize:s,contentRect:a,target:n}=e;n&&n!==t.el||(i=a?a.width:(s[0]||s).inlineSize,r=a?a.height:(s[0]||s).blockSize)})),i===s&&r===a||o()}))})),n.observe(t.el)):(i.addEventListener("resize",o),i.addEventListener("orientationchange",d))})),s("destroy",(()=>{l&&i.cancelAnimationFrame(l),n&&n.unobserve&&t.el&&(n.unobserve(t.el),n=null),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",d)}))},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const n=[],l=r(),o=function(e,s){void 0===s&&(s={});const a=new(l.MutationObserver||l.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void i("observerUpdate",e[0]);const s=function(){i("observerUpdate",e[0])};l.requestAnimationFrame?l.requestAnimationFrame(s):l.setTimeout(s,0)}));a.observe(e,{attributes:void 0===s.attributes||s.attributes,childList:void 0===s.childList||s.childList,characterData:void 0===s.characterData||s.characterData}),n.push(a)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=y(t.el);for(let t=0;t{n.forEach((e=>{e.disconnect()})),n.splice(0,n.length)}))}]);const pe=[function(e){let t,{swiper:s,extendParams:i,on:r,emit:n}=e;i({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const l=a();s.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const o=l.createElement("div");function d(e,t){const a=s.params.virtual;if(a.cache&&s.virtual.cache[t])return s.virtual.cache[t];let i;return a.renderSlide?(i=a.renderSlide.call(s,e,t),"string"==typeof i&&(o.innerHTML=i,i=o.children[0])):i=s.isElement?g("swiper-slide"):g("div",s.params.slideClass),i.setAttribute("data-swiper-slide-index",t),a.renderSlide||(i.innerHTML=e),a.cache&&(s.virtual.cache[t]=i),i}function c(e){const{slidesPerView:t,slidesPerGroup:a,centeredSlides:i,loop:r}=s.params,{addSlidesBefore:l,addSlidesAfter:o}=s.params.virtual,{from:c,to:p,slides:u,slidesGrid:m,offset:h}=s.virtual;s.params.cssMode||s.updateActiveIndex();const g=s.activeIndex||0;let v,w,b;v=s.rtlTranslate?"right":s.isHorizontal()?"left":"top",i?(w=Math.floor(t/2)+a+o,b=Math.floor(t/2)+a+l):(w=t+(a-1)+o,b=(r?t:a)+l);let y=g-b,E=g+w;r||(y=Math.max(y,0),E=Math.min(E,u.length-1));let x=(s.slidesGrid[y]||0)-(s.slidesGrid[0]||0);function S(){s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),n("virtualUpdate")}if(r&&g>=b?(y-=b,i||(x+=s.slidesGrid[0])):r&&g{e.style[v]=x-Math.abs(s.cssOverflowAdjustment())+"px"})),s.updateProgress(),void n("virtualUpdate");if(s.params.virtual.renderExternal)return s.params.virtual.renderExternal.call(s,{offset:x,from:y,to:E,slides:function(){const e=[];for(let t=y;t<=E;t+=1)e.push(u[t]);return e}()}),void(s.params.virtual.renderExternalUpdate?S():n("virtualUpdate"));const T=[],M=[],C=e=>{let t=e;return e<0?t=u.length+e:t>=u.length&&(t-=u.length),t};if(e)s.slidesEl.querySelectorAll(`.${s.params.slideClass}, swiper-slide`).forEach((e=>{e.remove()}));else for(let e=c;e<=p;e+=1)if(eE){const t=C(e);s.slidesEl.querySelectorAll(`.${s.params.slideClass}[data-swiper-slide-index="${t}"], swiper-slide[data-swiper-slide-index="${t}"]`).forEach((e=>{e.remove()}))}const P=r?-u.length:0,L=r?2*u.length:u.length;for(let t=P;t=y&&t<=E){const s=C(t);void 0===p||e?M.push(s):(t>p&&M.push(s),t{s.slidesEl.append(d(u[e],e))})),r)for(let e=T.length-1;e>=0;e-=1){const t=T[e];s.slidesEl.prepend(d(u[t],t))}else T.sort(((e,t)=>t-e)),T.forEach((e=>{s.slidesEl.prepend(d(u[e],e))}));f(s.slidesEl,".swiper-slide, swiper-slide").forEach((e=>{e.style[v]=x-Math.abs(s.cssOverflowAdjustment())+"px"})),S()}r("beforeInit",(()=>{if(!s.params.virtual.enabled)return;let e;if(void 0===s.passedParams.virtual.slides){const t=[...s.slidesEl.children].filter((e=>e.matches(`.${s.params.slideClass}, swiper-slide`)));t&&t.length&&(s.virtual.slides=[...t],e=!0,t.forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t),s.virtual.cache[t]=e,e.remove()})))}e||(s.virtual.slides=s.params.virtual.slides),s.classNames.push(`${s.params.containerModifierClass}virtual`),s.params.watchSlidesProgress=!0,s.originalParams.watchSlidesProgress=!0,s.params.initialSlide||c()})),r("setTranslate",(()=>{s.params.virtual.enabled&&(s.params.cssMode&&!s._immediateVirtual?(clearTimeout(t),t=setTimeout((()=>{c()}),100)):c())})),r("init update resize",(()=>{s.params.virtual.enabled&&s.params.cssMode&&u(s.wrapperEl,"--swiper-virtual-size",`${s.virtualSize}px`)})),Object.assign(s.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let t=0;t{const a=e[s],r=a.getAttribute("data-swiper-slide-index");r&&a.setAttribute("data-swiper-slide-index",parseInt(r,10)+i),t[parseInt(s,10)+i]=a})),s.virtual.cache=t}c(!0),s.slideTo(a,0)},removeSlide:function(e){if(null==e)return;let t=s.activeIndex;if(Array.isArray(e))for(let a=e.length-1;a>=0;a-=1)s.virtual.slides.splice(e[a],1),s.params.virtual.cache&&delete s.virtual.cache[e[a]],e[a]0&&0===y(t.el,`.${t.params.slideActiveClass}`).length)return;const a=t.el,i=a.clientWidth,r=a.clientHeight,n=o.innerWidth,l=o.innerHeight,d=v(a);s&&(d.left-=a.scrollLeft);const c=[[d.left,d.top],[d.left+i,d.top],[d.left,d.top+r],[d.left+i,d.top+r]];for(let t=0;t=0&&s[0]<=n&&s[1]>=0&&s[1]<=l){if(0===s[0]&&0===s[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((d||c||p||u)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((c||u)&&!s||(d||p)&&s)&&t.slideNext(),((d||p)&&!s||(c||u)&&s)&&t.slidePrev()):((d||c||m||h)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(c||h)&&t.slideNext(),(d||m)&&t.slidePrev()),n("keyPress",i)}}function c(){t.keyboard.enabled||(l.addEventListener("keydown",d),t.keyboard.enabled=!0)}function p(){t.keyboard.enabled&&(l.removeEventListener("keydown",d),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},s({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",(()=>{t.params.keyboard.enabled&&c()})),i("destroy",(()=>{t.keyboard.enabled&&p()})),Object.assign(t.keyboard,{enable:c,disable:p})},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const o=r();let d;s({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let c,p=l();const u=[];function m(){t.enabled&&(t.mouseEntered=!0)}function h(){t.enabled&&(t.mouseEntered=!1)}function f(e){return!(t.params.mousewheel.thresholdDelta&&e.delta=6&&l()-p<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),i("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),i("scroll",e.raw)),p=(new o.Date).getTime(),!1)))}function g(e){let s=e,a=!0;if(!t.enabled)return;if(e.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const r=t.params.mousewheel;t.params.cssMode&&s.preventDefault();let o=t.el;"container"!==t.params.mousewheel.eventsTarget&&(o=document.querySelector(t.params.mousewheel.eventsTarget));const p=o&&o.contains(s.target);if(!t.mouseEntered&&!p&&!r.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);let m=0;const h=t.rtlTranslate?-1:1,g=function(e){let t=0,s=0,a=0,i=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),a=10*t,i=10*s,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=i,i=0),(a||i)&&e.deltaMode&&(1===e.deltaMode?(a*=40,i*=40):(a*=800,i*=800)),a&&!t&&(t=a<1?-1:1),i&&!s&&(s=i<1?-1:1),{spinX:t,spinY:s,pixelX:a,pixelY:i}}(s);if(r.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;m=-g.pixelX*h}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;m=-g.pixelY}else m=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*h:-g.pixelY;if(0===m)return!0;r.invert&&(m=-m);let v=t.getTranslate()+m*r.sensitivity;if(v>=t.minTranslate()&&(v=t.minTranslate()),v<=t.maxTranslate()&&(v=t.maxTranslate()),a=!!t.params.loop||!(v===t.minTranslate()||v===t.maxTranslate()),a&&t.params.nested&&s.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:l(),delta:Math.abs(m),direction:Math.sign(m)},a=c&&e.time=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!o&&t.isBeginning||!p&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:e.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(d),d=void 0,u.length>=15&&u.shift();const s=u.length?u[u.length-1]:void 0,a=u[0];if(u.push(e),s&&(e.delta>s.delta||e.direction!==s.direction))u.splice(0);else if(u.length>=15&&e.time-a.time<500&&a.delta-e.delta>=1&&e.delta<=6){const s=m>0?.8:.2;c=e,u.splice(0),d=n((()=>{t.slideToClosest(t.params.speed,!0,void 0,s)}),0)}d||(d=n((()=>{c=e,u.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(a||i("scroll",s),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),l===t.minTranslate()||l===t.maxTranslate())return!0}}else{const s={time:l(),delta:Math.abs(m),direction:Math.sign(m),raw:e};u.length>=2&&u.shift();const a=u.length?u[u.length-1]:void 0;if(u.push(s),a?(s.direction!==a.direction||s.delta>a.delta||s.time>a.time+150)&&f(s):f(s),function(e){const s=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&s.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&s.releaseOnEdges)return!0;return!1}(s))return!0}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1}function v(e){let s=t.el;"container"!==t.params.mousewheel.eventsTarget&&(s=document.querySelector(t.params.mousewheel.eventsTarget)),s[e]("mouseenter",m),s[e]("mouseleave",h),s[e]("wheel",g)}function w(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",g),!0):!t.mousewheel.enabled&&(v("addEventListener"),t.mousewheel.enabled=!0,!0)}function b(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,g),!0):!!t.mousewheel.enabled&&(v("removeEventListener"),t.mousewheel.enabled=!1,!0)}a("init",(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&b(),t.params.mousewheel.enabled&&w()})),a("destroy",(()=>{t.params.cssMode&&w(),t.mousewheel.enabled&&b()})),Object.assign(t.mousewheel,{enable:w,disable:b})},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const r=e=>(Array.isArray(e)||(e=[e].filter((e=>!!e))),e);function n(e){let s;return e&&"string"==typeof e&&t.isElement&&(s=t.el.shadowRoot.querySelector(e),s)?s:(e&&("string"==typeof e&&(s=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&s.length>1&&1===t.el.querySelectorAll(e).length&&(s=t.el.querySelector(e))),e&&!s?e:s)}function l(e,s){const a=t.params.navigation;(e=r(e)).forEach((e=>{e&&(e.classList[s?"add":"remove"](...a.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=s),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](a.lockClass))}))}function o(){const{nextEl:e,prevEl:s}=t.navigation;if(t.params.loop)return l(s,!1),void l(e,!1);l(s,t.isBeginning&&!t.params.rewind),l(e,t.isEnd&&!t.params.rewind)}function d(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const e=t.params.navigation;if(t.params.navigation=ee(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let s=n(e.nextEl),a=n(e.prevEl);Object.assign(t.navigation,{nextEl:s,prevEl:a}),s=r(s),a=r(a);const i=(s,a)=>{s&&s.addEventListener("click","next"===a?c:d),!t.enabled&&s&&s.classList.add(...e.lockClass.split(" "))};s.forEach((e=>i(e,"next"))),a.forEach((e=>i(e,"prev")))}function u(){let{nextEl:e,prevEl:s}=t.navigation;e=r(e),s=r(s);const a=(e,s)=>{e.removeEventListener("click","next"===s?c:d),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>a(e,"next"))),s.forEach((e=>a(e,"prev")))}a("init",(()=>{!1===t.params.navigation.enabled?m():(p(),o())})),a("toEdge fromEdge lock unlock",(()=>{o()})),a("destroy",(()=>{u()})),a("enable disable",(()=>{let{nextEl:e,prevEl:s}=t.navigation;e=r(e),s=r(s),[...e,...s].filter((e=>!!e)).forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.navigation.lockClass)))})),a("click",((e,s)=>{let{nextEl:a,prevEl:n}=t.navigation;a=r(a),n=r(n);const l=s.target;if(t.params.navigation.hideOnClick&&!n.includes(l)&&!a.includes(l)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===l||t.pagination.el.contains(l)))return;let e;a.length?e=a[0].classList.contains(t.params.navigation.hiddenClass):n.length&&(e=n[0].classList.contains(t.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...a,...n].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const m=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),o()},disable:m,update:o,init:p,destroy:u})},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const r="swiper-pagination";let n;s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let l=0;const o=e=>(Array.isArray(e)||(e=[e].filter((e=>!!e))),e);function d(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,s){const{bulletActiveClass:a}=t.params.pagination;e&&(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${a}-${s}`),(e=e[("prev"===s?"previous":"next")+"ElementSibling"])&&e.classList.add(`${a}-${s}-${s}`))}function p(e){const s=e.target.closest(te(t.params.pagination.bulletClass));if(!s)return;e.preventDefault();const a=b(s)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===a)return;const e=t.getSlideIndexByData(a),s=t.getSlideIndexByData(t.realIndex);e>t.slides.length-t.loopedSlides&&t.loopFix({direction:e>s?"next":"prev",activeSlideIndex:e,slideTo:!1}),t.slideToLoop(a)}else t.slideTo(a)}function u(){const e=t.rtl,s=t.params.pagination;if(d())return;let a,r,p=t.pagination.el;p=o(p);const u=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,m=t.params.loop?Math.ceil(u/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(r=t.previousRealIndex||0,a=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(a=t.snapIndex,r=t.previousSnapIndex):(r=t.previousIndex||0,a=t.activeIndex||0),"bullets"===s.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const i=t.pagination.bullets;let o,d,u;if(s.dynamicBullets&&(n=x(i[0],t.isHorizontal()?"width":"height",!0),p.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=n*(s.dynamicMainBullets+4)+"px"})),s.dynamicMainBullets>1&&void 0!==r&&(l+=a-(r||0),l>s.dynamicMainBullets-1?l=s.dynamicMainBullets-1:l<0&&(l=0)),o=Math.max(a-l,0),d=o+(Math.min(i.length,s.dynamicMainBullets)-1),u=(d+o)/2),i.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${s.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),p.length>1)i.forEach((e=>{const t=b(e);t===a&&e.classList.add(...s.bulletActiveClass.split(" ")),s.dynamicBullets&&(t>=o&&t<=d&&e.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),t===o&&c(e,"prev"),t===d&&c(e,"next"))}));else{const e=i[a];if(e&&e.classList.add(...s.bulletActiveClass.split(" ")),s.dynamicBullets){const e=i[o],t=i[d];for(let e=o;e<=d;e+=1)i[e]&&i[e].classList.add(...`${s.bulletActiveClass}-main`.split(" "));c(e,"prev"),c(t,"next")}}if(s.dynamicBullets){const a=Math.min(i.length,s.dynamicMainBullets+4),r=(n*a-n)/2-u*n,l=e?"right":"left";i.forEach((e=>{e.style[t.isHorizontal()?l:"top"]=`${r}px`}))}}p.forEach(((e,r)=>{if("fraction"===s.type&&(e.querySelectorAll(te(s.currentClass)).forEach((e=>{e.textContent=s.formatFractionCurrent(a+1)})),e.querySelectorAll(te(s.totalClass)).forEach((e=>{e.textContent=s.formatFractionTotal(m)}))),"progressbar"===s.type){let i;i=s.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(a+1)/m;let n=1,l=1;"horizontal"===i?n=r:l=r,e.querySelectorAll(te(s.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${n}) scaleY(${l})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===s.type&&s.renderCustom?(e.innerHTML=s.renderCustom(t,a+1,m),0===r&&i("paginationRender",e)):(0===r&&i("paginationRender",e),i("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](s.lockClass)}))}function m(){const e=t.params.pagination;if(d())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;let a=t.pagination.el;a=o(a);let r="";if("bullets"===e.type){let a=t.params.loop?Math.ceil(s/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&a>s&&(a=s);for(let s=0;s`}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):` / `),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):``),t.pagination.bullets=[],a.forEach((s=>{"custom"!==e.type&&(s.innerHTML=r||""),"bullets"===e.type&&t.pagination.bullets.push(...s.querySelectorAll(te(e.bulletClass)))})),"custom"!==e.type&&i("paginationRender",a[0])}function h(){t.params.pagination=ee(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let s;"string"==typeof e.el&&t.isElement&&(s=t.el.shadowRoot.querySelector(e.el)),s||"string"!=typeof e.el||(s=[...document.querySelectorAll(e.el)]),s||(s=e.el),s&&0!==s.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(s)&&s.length>1&&(s=[...t.el.querySelectorAll(e.el)],s.length>1&&(s=s.filter((e=>y(e,".swiper")[0]===t.el))[0])),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(t.pagination,{el:s}),s=o(s),s.forEach((s=>{"bullets"===e.type&&e.clickable&&s.classList.add(e.clickableClass),s.classList.add(e.modifierClass+e.type),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(s.classList.add(`${e.modifierClass}${e.type}-dynamic`),l=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&s.classList.add(e.progressbarOppositeClass),e.clickable&&s.addEventListener("click",p),t.enabled||s.classList.add(e.lockClass)})))}function f(){const e=t.params.pagination;if(d())return;let s=t.pagination.el;s&&(s=o(s),s.forEach((s=>{s.classList.remove(e.hiddenClass),s.classList.remove(e.modifierClass+e.type),s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&s.removeEventListener("click",p)}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}a("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:s}=t.pagination;s=o(s),s.forEach((s=>{s.classList.remove(e.horizontalClass,e.verticalClass),s.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),a("init",(()=>{!1===t.params.pagination.enabled?g():(h(),m(),u())})),a("activeIndexChange",(()=>{void 0===t.snapIndex&&u()})),a("snapIndexChange",(()=>{u()})),a("snapGridLengthChange",(()=>{m(),u()})),a("destroy",(()=>{f()})),a("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=o(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),a("lock unlock",(()=>{u()})),a("click",((e,s)=>{const a=s.target;let{el:r}=t.pagination;if(Array.isArray(r)||(r=[r].filter((e=>!!e))),t.params.pagination.el&&t.params.pagination.hideOnClick&&r&&r.length>0&&!a.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&a===t.navigation.nextEl||t.navigation.prevEl&&a===t.navigation.prevEl))return;const e=r[0].classList.contains(t.params.pagination.hiddenClass);i(!0===e?"paginationShow":"paginationHide"),r.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const g=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=o(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),f()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=o(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),h(),m(),u()},disable:g,render:m,update:u,init:h,destroy:f})},function(e){let{swiper:t,extendParams:s,on:i,emit:r}=e;const l=a();let o,d,c,p,u=!1,m=null,h=null;function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:s}=t,{dragEl:a,el:i}=e,r=t.params.scrollbar,n=t.params.loop?t.progressLoop:t.progress;let l=d,o=(c-d)*n;s?(o=-o,o>0?(l=d-o,o=0):-o+d>c&&(l=c+o)):o<0?(l=d+o,o=0):o+d>c&&(l=c-o),t.isHorizontal()?(a.style.transform=`translate3d(${o}px, 0, 0)`,a.style.width=`${l}px`):(a.style.transform=`translate3d(0px, ${o}px, 0)`,a.style.height=`${l}px`),r.hide&&(clearTimeout(m),i.style.opacity=1,m=setTimeout((()=>{i.style.opacity=0,i.style.transitionDuration="400ms"}),1e3))}function w(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:s,el:a}=e;s.style.width="",s.style.height="",c=t.isHorizontal()?a.offsetWidth:a.offsetHeight,p=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),d="auto"===t.params.scrollbar.dragSize?c*p:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?s.style.width=`${d}px`:s.style.height=`${d}px`,a.style.display=p>=1?"none":"",t.params.scrollbar.hide&&(a.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function b(e){return t.isHorizontal()?e.clientX:e.clientY}function y(e){const{scrollbar:s,rtlTranslate:a}=t,{el:i}=s;let r;r=(b(e)-v(i)[t.isHorizontal()?"left":"top"]-(null!==o?o:d/2))/(c-d),r=Math.max(Math.min(r,1),0),a&&(r=1-r);const n=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*r;t.updateProgress(n),t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}function E(e){const s=t.params.scrollbar,{scrollbar:a,wrapperEl:i}=t,{el:n,dragEl:l}=a;u=!0,o=e.target===l?b(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),i.style.transitionDuration="100ms",l.style.transitionDuration="100ms",y(e),clearTimeout(h),n.style.transitionDuration="0ms",s.hide&&(n.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",e)}function x(e){const{scrollbar:s,wrapperEl:a}=t,{el:i,dragEl:n}=s;u&&(e.preventDefault?e.preventDefault():e.returnValue=!1,y(e),a.style.transitionDuration="0ms",i.style.transitionDuration="0ms",n.style.transitionDuration="0ms",r("scrollbarDragMove",e))}function S(e){const s=t.params.scrollbar,{scrollbar:a,wrapperEl:i}=t,{el:l}=a;u&&(u=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",i.style.transitionDuration=""),s.hide&&(clearTimeout(h),h=n((()=>{l.style.opacity=0,l.style.transitionDuration="400ms"}),1e3)),r("scrollbarDragEnd",e),s.snapOnRelease&&t.slideToClosest())}function T(e){const{scrollbar:s,params:a}=t,i=s.el;if(!i)return;const r=i,n=!!a.passiveListeners&&{passive:!1,capture:!1},o=!!a.passiveListeners&&{passive:!0,capture:!1};if(!r)return;const d="on"===e?"addEventListener":"removeEventListener";r[d]("pointerdown",E,n),l[d]("pointermove",x,n),l[d]("pointerup",S,o)}function M(){const{scrollbar:e,el:s}=t;t.params.scrollbar=ee(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const a=t.params.scrollbar;if(!a.el)return;let i,r;"string"==typeof a.el&&t.isElement&&(i=t.el.shadowRoot.querySelector(a.el)),i||"string"!=typeof a.el?i||(i=a.el):i=l.querySelectorAll(a.el),t.params.uniqueNavElements&&"string"==typeof a.el&&i.length>1&&1===s.querySelectorAll(a.el).length&&(i=s.querySelector(a.el)),i.length>0&&(i=i[0]),i.classList.add(t.isHorizontal()?a.horizontalClass:a.verticalClass),i&&(r=i.querySelector(`.${t.params.scrollbar.dragClass}`),r||(r=g("div",t.params.scrollbar.dragClass),i.append(r))),Object.assign(e,{el:i,dragEl:r}),a.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&T("on"),i&&i.classList[t.enabled?"remove":"add"](t.params.scrollbar.lockClass)}function C(){const e=t.params.scrollbar,s=t.scrollbar.el;s&&s.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.params.scrollbar.el&&t.scrollbar.el&&T("off")}s({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},i("init",(()=>{!1===t.params.scrollbar.enabled?P():(M(),w(),f())})),i("update resize observerUpdate lock unlock",(()=>{w()})),i("setTranslate",(()=>{f()})),i("setTransition",((e,s)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(s)})),i("enable disable",(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?"remove":"add"](t.params.scrollbar.lockClass)})),i("destroy",(()=>{C()}));const P=()=>{t.el.classList.add(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.el&&t.scrollbar.el.classList.add(t.params.scrollbar.scrollbarDisabledClass),C()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.el&&t.scrollbar.el.classList.remove(t.params.scrollbar.scrollbarDisabledClass),M(),w(),f()},disable:P,updateSize:w,setTranslate:f,init:M,destroy:C})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({parallax:{enabled:!1}});const i=(e,s)=>{const{rtl:a}=t,i=a?-1:1,r=e.getAttribute("data-swiper-parallax")||"0";let n=e.getAttribute("data-swiper-parallax-x"),l=e.getAttribute("data-swiper-parallax-y");const o=e.getAttribute("data-swiper-parallax-scale"),d=e.getAttribute("data-swiper-parallax-opacity"),c=e.getAttribute("data-swiper-parallax-rotate");if(n||l?(n=n||"0",l=l||"0"):t.isHorizontal()?(n=r,l="0"):(l=r,n="0"),n=n.indexOf("%")>=0?parseInt(n,10)*s*i+"%":n*s*i+"px",l=l.indexOf("%")>=0?parseInt(l,10)*s+"%":l*s+"px",null!=d){const t=d-(d-1)*(1-Math.abs(s));e.style.opacity=t}let p=`translate3d(${n}, ${l}, 0px)`;if(null!=o){p+=` scale(${o-(o-1)*(1-Math.abs(s))})`}if(c&&null!=c){p+=` rotate(${c*s*-1}deg)`}e.style.transform=p},r=()=>{const{el:e,slides:s,progress:a,snapGrid:r}=t;f(e,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").forEach((e=>{i(e,a)})),s.forEach(((e,s)=>{let n=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(n+=Math.ceil(s/2)-a*(r.length-1)),n=Math.min(Math.max(n,-1),1),e.querySelectorAll("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale], [data-swiper-parallax-rotate]").forEach((e=>{i(e,n)}))}))};a("beforeInit",(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),a("init",(()=>{t.params.parallax.enabled&&r()})),a("setTranslate",(()=>{t.params.parallax.enabled&&r()})),a("setTransition",((e,s)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{el:s}=t;s.querySelectorAll("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").forEach((t=>{let s=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),t.style.transitionDuration=`${s}ms`}))}(s)}))},function(e){let{swiper:t,extendParams:s,on:a,emit:i}=e;const n=r();s({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let l,d,c=1,p=!1;const u=[],m={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},g={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let w=1;function b(){if(u.length<2)return 1;const e=u[0].pageX,t=u[0].pageY,s=u[1].pageX,a=u[1].pageY;return Math.sqrt((s-e)**2+(a-t)**2)}function E(e){const s=t.isElement?"swiper-slide":`.${t.params.slideClass}`;return!!e.target.matches(s)||t.slides.filter((t=>t.contains(e.target))).length>0}function x(e){if("mouse"===e.pointerType&&u.splice(0,u.length),!E(e))return;const s=t.params.zoom;if(l=!1,d=!1,u.push(e),!(u.length<2)){if(l=!0,m.scaleStart=b(),!m.slideEl){m.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`),m.slideEl||(m.slideEl=t.slides[t.activeIndex]);let a=m.slideEl.querySelector(`.${s.containerClass}`);if(a&&(a=a.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=a,m.imageWrapEl=a?y(m.imageEl,`.${s.containerClass}`)[0]:void 0,!m.imageWrapEl)return void(m.imageEl=void 0);m.maxRatio=m.imageWrapEl.getAttribute("data-swiper-zoom")||s.maxRatio}if(m.imageEl){const[e,t]=function(){if(u.length<2)return{x:null,y:null};const e=m.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-e.x)/c,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-e.y)/c]}();m.originX=e,m.originY=t,m.imageEl.style.transitionDuration="0ms"}p=!0}}function S(e){if(!E(e))return;const s=t.params.zoom,a=t.zoom,i=u.findIndex((t=>t.pointerId===e.pointerId));i>=0&&(u[i]=e),u.length<2||(d=!0,m.scaleMove=b(),m.imageEl&&(a.scale=m.scaleMove/m.scaleStart*c,a.scale>m.maxRatio&&(a.scale=m.maxRatio-1+(a.scale-m.maxRatio+1)**.5),a.scalet.pointerId===e.pointerId));i>=0&&u.splice(i,1),l&&d&&(l=!1,d=!1,m.imageEl&&(a.scale=Math.max(Math.min(a.scale,m.maxRatio),s.minRatio),m.imageEl.style.transitionDuration=`${t.params.speed}ms`,m.imageEl.style.transform=`translate3d(0,0,0) scale(${a.scale})`,c=a.scale,p=!1,a.scale>1&&m.slideEl?m.slideEl.classList.add(`${s.zoomedSlideClass}`):a.scale<=1&&m.slideEl&&m.slideEl.classList.remove(`${s.zoomedSlideClass}`),1===a.scale&&(m.originX=0,m.originY=0,m.slideEl=void 0)))}function M(e){if(!E(e)||!function(e){const s=`.${t.params.zoom.containerClass}`;return!!e.target.matches(s)||[...t.el.querySelectorAll(s)].filter((t=>t.contains(e.target))).length>0}(e))return;const s=t.zoom;if(!m.imageEl)return;if(!h.isTouched||!m.slideEl)return;h.isMoved||(h.width=m.imageEl.offsetWidth,h.height=m.imageEl.offsetHeight,h.startX=o(m.imageWrapEl,"x")||0,h.startY=o(m.imageWrapEl,"y")||0,m.slideWidth=m.slideEl.offsetWidth,m.slideHeight=m.slideEl.offsetHeight,m.imageWrapEl.style.transitionDuration="0ms");const a=h.width*s.scale,i=h.height*s.scale;if(a0?u[0].pageX:e.pageX,h.touchesCurrent.y=u.length>0?u[0].pageY:e.pageY;if(Math.max(Math.abs(h.touchesCurrent.x-h.touchesStart.x),Math.abs(h.touchesCurrent.y-h.touchesStart.y))>5&&(t.allowClick=!1),!h.isMoved&&!p){if(t.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.xh.touchesStart.x))return void(h.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.yh.touchesStart.y))return void(h.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),h.isMoved=!0;const r=(s.scale-c)/(m.maxRatio-t.params.zoom.minRatio),{originX:n,originY:l}=m;h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX+r*(h.width-2*n),h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY+r*(h.height-2*l),h.currentXh.maxX&&(h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8),h.currentYh.maxY&&(h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8),g.prevPositionX||(g.prevPositionX=h.touchesCurrent.x),g.prevPositionY||(g.prevPositionY=h.touchesCurrent.y),g.prevTime||(g.prevTime=Date.now()),g.x=(h.touchesCurrent.x-g.prevPositionX)/(Date.now()-g.prevTime)/2,g.y=(h.touchesCurrent.y-g.prevPositionY)/(Date.now()-g.prevTime)/2,Math.abs(h.touchesCurrent.x-g.prevPositionX)<2&&(g.x=0),Math.abs(h.touchesCurrent.y-g.prevPositionY)<2&&(g.y=0),g.prevPositionX=h.touchesCurrent.x,g.prevPositionY=h.touchesCurrent.y,g.prevTime=Date.now(),m.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function C(){const e=t.zoom;m.slideEl&&t.activeIndex!==t.slides.indexOf(m.slideEl)&&(m.imageEl&&(m.imageEl.style.transform="translate3d(0,0,0) scale(1)"),m.imageWrapEl&&(m.imageWrapEl.style.transform="translate3d(0,0,0)"),m.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),e.scale=1,c=1,m.slideEl=void 0,m.imageEl=void 0,m.imageWrapEl=void 0,m.originX=0,m.originY=0)}function P(e){const s=t.zoom,a=t.params.zoom;if(!m.slideEl){e&&e.target&&(m.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`)),m.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?m.slideEl=f(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:m.slideEl=t.slides[t.activeIndex]);let s=m.slideEl.querySelector(`.${a.containerClass}`);s&&(s=s.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=s,m.imageWrapEl=s?y(m.imageEl,`.${a.containerClass}`)[0]:void 0}if(!m.imageEl||!m.imageWrapEl)return;let i,r,l,o,d,p,u,g,w,b,E,x,S,T,M,C,P,L;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),m.slideEl.classList.add(`${a.zoomedSlideClass}`),void 0===h.touchesStart.x&&e?(i=e.pageX,r=e.pageY):(i=h.touchesStart.x,r=h.touchesStart.y);const z="number"==typeof e?e:null;1===c&&z&&(i=void 0,r=void 0),s.scale=z||m.imageWrapEl.getAttribute("data-swiper-zoom")||a.maxRatio,c=z||m.imageWrapEl.getAttribute("data-swiper-zoom")||a.maxRatio,!e||1===c&&z?(u=0,g=0):(P=m.slideEl.offsetWidth,L=m.slideEl.offsetHeight,l=v(m.slideEl).left+n.scrollX,o=v(m.slideEl).top+n.scrollY,d=l+P/2-i,p=o+L/2-r,w=m.imageEl.offsetWidth,b=m.imageEl.offsetHeight,E=w*s.scale,x=b*s.scale,S=Math.min(P/2-E/2,0),T=Math.min(L/2-x/2,0),M=-S,C=-T,u=d*s.scale,g=p*s.scale,uM&&(u=M),gC&&(g=C)),z&&1===s.scale&&(m.originX=0,m.originY=0),m.imageWrapEl.style.transitionDuration="300ms",m.imageWrapEl.style.transform=`translate3d(${u}px, ${g}px,0)`,m.imageEl.style.transitionDuration="300ms",m.imageEl.style.transform=`translate3d(0,0,0) scale(${s.scale})`}function L(){const e=t.zoom,s=t.params.zoom;if(!m.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?m.slideEl=f(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:m.slideEl=t.slides[t.activeIndex];let e=m.slideEl.querySelector(`.${s.containerClass}`);e&&(e=e.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),m.imageEl=e,m.imageWrapEl=e?y(m.imageEl,`.${s.containerClass}`)[0]:void 0}m.imageEl&&m.imageWrapEl&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,c=1,m.imageWrapEl.style.transitionDuration="300ms",m.imageWrapEl.style.transform="translate3d(0,0,0)",m.imageEl.style.transitionDuration="300ms",m.imageEl.style.transform="translate3d(0,0,0) scale(1)",m.slideEl.classList.remove(`${s.zoomedSlideClass}`),m.slideEl=void 0,m.originX=0,m.originY=0)}function z(e){const s=t.zoom;s.scale&&1!==s.scale?L():P(e)}function A(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function $(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:s,activeListenerWithCapture:a}=A();t.wrapperEl.addEventListener("pointerdown",x,s),t.wrapperEl.addEventListener("pointermove",S,a),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.addEventListener(e,T,s)})),t.wrapperEl.addEventListener("pointermove",M,a)}function I(){const e=t.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:s,activeListenerWithCapture:a}=A();t.wrapperEl.removeEventListener("pointerdown",x,s),t.wrapperEl.removeEventListener("pointermove",S,a),["pointerup","pointercancel","pointerout"].forEach((e=>{t.wrapperEl.removeEventListener(e,T,s)})),t.wrapperEl.removeEventListener("pointermove",M,a)}Object.defineProperty(t.zoom,"scale",{get:()=>w,set(e){if(w!==e){const t=m.imageEl,s=m.slideEl;i("zoomChange",e,t,s)}w=e}}),a("init",(()=>{t.params.zoom.enabled&&$()})),a("destroy",(()=>{I()})),a("touchStart",((e,s)=>{t.zoom.enabled&&function(e){const s=t.device;if(!m.imageEl)return;if(h.isTouched)return;s.android&&e.cancelable&&e.preventDefault(),h.isTouched=!0;const a=u.length>0?u[0]:e;h.touchesStart.x=a.pageX,h.touchesStart.y=a.pageY}(s)})),a("touchEnd",((e,s)=>{t.zoom.enabled&&function(){const e=t.zoom;if(!m.imageEl)return;if(!h.isTouched||!h.isMoved)return h.isTouched=!1,void(h.isMoved=!1);h.isTouched=!1,h.isMoved=!1;let s=300,a=300;const i=g.x*s,r=h.currentX+i,n=g.y*a,l=h.currentY+n;0!==g.x&&(s=Math.abs((r-h.currentX)/g.x)),0!==g.y&&(a=Math.abs((l-h.currentY)/g.y));const o=Math.max(s,a);h.currentX=r,h.currentY=l;const d=h.width*e.scale,c=h.height*e.scale;h.minX=Math.min(m.slideWidth/2-d/2,0),h.maxX=-h.minX,h.minY=Math.min(m.slideHeight/2-c/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),m.imageWrapEl.style.transitionDuration=`${o}ms`,m.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}()})),a("doubleTap",((e,s)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&z(s)})),a("transitionEnd",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&C()})),a("slideChange",(()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&C()})),Object.assign(t.zoom,{enable:$,disable:I,in:P,out:L,toggle:z})},function(e){let{swiper:t,extendParams:s,on:a}=e;function i(e,t){const s=function(){let e,t,s;return(a,i)=>{for(t=-1,e=a.length;e-t>1;)s=e+t>>1,a[s]<=i?t=s:e=s;return e}}();let a,i;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=s(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0},this}function r(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}s({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},a("beforeInit",(()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const e=document.querySelector(t.params.controller.control);if(e&&e.swiper)t.controller.control=e.swiper;else if(e){const s=a=>{t.controller.control=a.detail[0],t.update(),e.removeEventListener("init",s)};e.addEventListener("init",s)}}else t.controller.control=t.params.controller.control})),a("update",(()=>{r()})),a("resize",(()=>{r()})),a("observerUpdate",(()=>{r()})),a("setTranslate",((e,s,a)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(s,a)})),a("setTransition",((e,s,a)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(s,a)})),Object.assign(t.controller,{setTranslate:function(e,s){const a=t.controller.control;let r,n;const l=t.constructor;function o(e){if(e.destroyed)return;const s=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(!function(e){t.controller.spline=t.params.loop?new i(t.slidesGrid,e.slidesGrid):new i(t.snapGrid,e.snapGrid)}(e),n=-t.controller.spline.interpolate(-s)),n&&"container"!==t.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),n=(s-t.minTranslate())*r+e.minTranslate()),t.params.controller.inverse&&(n=e.maxTranslate()-n),e.updateProgress(n),e.setTranslate(n,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(let e=0;e{s.updateAutoHeight()})),E(s.wrapperEl,(()=>{i&&s.transitionEnd()}))))}if(Array.isArray(i))for(r=0;r(Array.isArray(e)||(e=[e].filter((e=>!!e))),e);function l(e){(e=n(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function o(e){(e=n(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function d(e,t){(e=n(e)).forEach((e=>{e.setAttribute("role",t)}))}function c(e,t){(e=n(e)).forEach((e=>{e.setAttribute("aria-roledescription",t)}))}function p(e,t){(e=n(e)).forEach((e=>{e.setAttribute("aria-label",t)}))}function u(e){(e=n(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function m(e){(e=n(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function h(e){if(13!==e.keyCode&&32!==e.keyCode)return;const s=t.params.a11y,a=e.target;t.pagination&&t.pagination.el&&(a===t.pagination.el||t.pagination.el.contains(e.target))&&!e.target.matches(te(t.params.pagination.bulletClass))||(t.navigation&&t.navigation.nextEl&&a===t.navigation.nextEl&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?r(s.lastSlideMessage):r(s.nextSlideMessage)),t.navigation&&t.navigation.prevEl&&a===t.navigation.prevEl&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?r(s.firstSlideMessage):r(s.prevSlideMessage)),t.pagination&&a.matches(te(t.params.pagination.bulletClass))&&a.click())}function f(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function v(){return f()&&t.params.pagination.clickable}const w=(e,t,s)=>{l(e),"BUTTON"!==e.tagName&&(d(e,"button"),e.addEventListener("keydown",h)),p(e,s),function(e,t){(e=n(e)).forEach((e=>{e.setAttribute("aria-controls",t)}))}(e,t)},y=()=>{t.a11y.clicked=!0},E=()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},x=e=>{if(t.a11y.clicked)return;const s=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!s||!t.slides.includes(s))return;const a=t.slides.indexOf(s)===t.activeIndex,i=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(s);a||i||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(s),0))},S=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&c(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&d(t.slides,e.slideRole);const s=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((a,i)=>{const r=t.params.loop?parseInt(a.getAttribute("data-swiper-slide-index"),10):i;p(a,e.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,s))}))},T=()=>{const e=t.params.a11y;t.isElement?t.el.shadowEl.append(i):t.el.append(i);const s=t.el;e.containerRoleDescriptionMessage&&c(s,e.containerRoleDescriptionMessage),e.containerMessage&&p(s,e.containerMessage);const a=t.wrapperEl,r=e.id||a.getAttribute("id")||`swiper-wrapper-${l=16,void 0===l&&(l=16),"x".repeat(l).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var l;const o=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var d;d=r,n(a).forEach((e=>{e.setAttribute("id",d)})),function(e,t){(e=n(e)).forEach((e=>{e.setAttribute("aria-live",t)}))}(a,o),S();let{nextEl:u,prevEl:m}=t.navigation?t.navigation:{};if(u=n(u),m=n(m),u&&u.forEach((t=>w(t,r,e.nextSlideMessage))),m&&m.forEach((t=>w(t,r,e.prevSlideMessage))),v()){(Array.isArray(t.pagination.el)?t.pagination.el:[t.pagination.el]).forEach((e=>{e.addEventListener("keydown",h)}))}t.el.addEventListener("focus",x,!0),t.el.addEventListener("pointerdown",y,!0),t.el.addEventListener("pointerup",E,!0)};a("beforeInit",(()=>{i=g("span",t.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")})),a("afterInit",(()=>{t.params.a11y.enabled&&T()})),a("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{t.params.a11y.enabled&&S()})),a("fromEdge toEdge afterInit lock unlock",(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:s}=t.navigation;s&&(t.isBeginning?(u(s),o(s)):(m(s),l(s))),e&&(t.isEnd?(u(e),o(e)):(m(e),l(e)))}()})),a("paginationUpdate",(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;f()&&t.pagination.bullets.forEach((s=>{t.params.pagination.clickable&&(l(s),t.params.pagination.renderBullet||(d(s,"button"),p(s,e.paginationBulletMessage.replace(/\{\{index\}\}/,b(s)+1)))),s.matches(te(t.params.pagination.bulletActiveClass))?s.setAttribute("aria-current","true"):s.removeAttribute("aria-current")}))}()})),a("destroy",(()=>{t.params.a11y.enabled&&function(){i&&i.remove();let{nextEl:e,prevEl:s}=t.navigation?t.navigation:{};e=n(e),s=n(s),e&&e.forEach((e=>e.removeEventListener("keydown",h))),s&&s.forEach((e=>e.removeEventListener("keydown",h))),v()&&(Array.isArray(t.pagination.el)?t.pagination.el:[t.pagination.el]).forEach((e=>{e.removeEventListener("keydown",h)}));t.el.removeEventListener("focus",x,!0),t.el.removeEventListener("pointerdown",y,!0),t.el.removeEventListener("pointerup",E,!0)}()}))},function(e){let{swiper:t,extendParams:s,on:a}=e;s({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let i=!1,n={};const l=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),o=e=>{const t=r();let s;s=e?new URL(e):t.location;const a=s.pathname.slice(1).split("/").filter((e=>""!==e)),i=a.length;return{key:a[i-2],value:a[i-1]}},d=(e,s)=>{const a=r();if(!i||!t.params.history.enabled)return;let n;n=t.params.url?new URL(t.params.url):a.location;const o=t.slides[s];let d=l(o.getAttribute("data-history"));if(t.params.history.root.length>0){let s=t.params.history.root;"/"===s[s.length-1]&&(s=s.slice(0,s.length-1)),d=`${s}/${e?`${e}/`:""}${d}`}else n.pathname.includes(e)||(d=`${e?`${e}/`:""}${d}`);t.params.history.keepQuery&&(d+=n.search);const c=a.history.state;c&&c.value===d||(t.params.history.replaceState?a.history.replaceState({value:d},null,d):a.history.pushState({value:d},null,d))},c=(e,s,a)=>{if(s)for(let i=0,r=t.slides.length;i{n=o(t.params.url),c(t.params.speed,n.value,!1)};a("init",(()=>{t.params.history.enabled&&(()=>{const e=r();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);i=!0,n=o(t.params.url),n.key||n.value?(c(0,n.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",p)):t.params.history.replaceState||e.addEventListener("popstate",p)}})()})),a("destroy",(()=>{t.params.history.enabled&&(()=>{const e=r();t.params.history.replaceState||e.removeEventListener("popstate",p)})()})),a("transitionEnd _freeModeNoMomentumRelease",(()=>{i&&d(t.params.history.key,t.activeIndex)})),a("slideChange",(()=>{i&&t.params.cssMode&&d(t.params.history.key,t.activeIndex)}))},function(e){let{swiper:t,extendParams:s,emit:i,on:n}=e,l=!1;const o=a(),d=r();s({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,s){if(t.virtual&&t.params.virtual.enabled){const e=t.slides.filter((e=>e.getAttribute("data-hash")===s))[0];if(!e)return 0;return parseInt(e.getAttribute("data-swiper-slide-index"),10)}return t.getSlideIndex(f(t.slidesEl,`.${t.params.slideClass}[data-hash="${s}"], swiper-slide[data-hash="${s}"]`)[0])}}});const c=()=>{i("hashChange");const e=o.location.hash.replace("#",""),s=t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`);if(e!==(s?s.getAttribute("data-hash"):"")){const s=t.params.hashNavigation.getSlideIndex(t,e);if(void 0===s||Number.isNaN(s))return;t.slideTo(s)}},p=()=>{if(!l||!t.params.hashNavigation.enabled)return;const e=t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`),s=e?e.getAttribute("data-hash")||e.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&d.history&&d.history.replaceState?(d.history.replaceState(null,null,`#${s}`||""),i("hashSet")):(o.location.hash=s||"",i("hashSet"))};n("init",(()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;l=!0;const e=o.location.hash.replace("#","");if(e){const s=0,a=t.params.hashNavigation.getSlideIndex(t,e);t.slideTo(a||0,s,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&d.addEventListener("hashchange",c)})()})),n("destroy",(()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&d.removeEventListener("hashchange",c)})),n("transitionEnd _freeModeNoMomentumRelease",(()=>{l&&p()})),n("slideChange",(()=>{l&&t.params.cssMode&&p()}))},function(e){let t,s,{swiper:i,extendParams:r,on:n,emit:l,params:o}=e;i.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let d,c,p,u,m,h,f,g=o&&o.autoplay?o.autoplay.delay:3e3,v=o&&o.autoplay?o.autoplay.delay:3e3,w=(new Date).getTime;function b(e){i&&!i.destroyed&&i.wrapperEl&&e.target===i.wrapperEl&&(i.wrapperEl.removeEventListener("transitionend",b),M())}const y=()=>{if(i.destroyed||!i.autoplay.running)return;i.autoplay.paused?c=!0:c&&(v=d,c=!1);const e=i.autoplay.paused?d:w+v-(new Date).getTime();i.autoplay.timeLeft=e,l("autoplayTimeLeft",e,e/g),s=requestAnimationFrame((()=>{y()}))},E=e=>{if(i.destroyed||!i.autoplay.running)return;cancelAnimationFrame(s),y();let a=void 0===e?i.params.autoplay.delay:e;g=i.params.autoplay.delay,v=i.params.autoplay.delay;const r=(()=>{let e;if(e=i.virtual&&i.params.virtual.enabled?i.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:i.slides[i.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(r)&&r>0&&void 0===e&&(a=r,g=r,v=r),d=a;const n=i.params.speed,o=()=>{i&&!i.destroyed&&(i.params.autoplay.reverseDirection?!i.isBeginning||i.params.loop||i.params.rewind?(i.slidePrev(n,!0,!0),l("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(i.slides.length-1,n,!0,!0),l("autoplay")):!i.isEnd||i.params.loop||i.params.rewind?(i.slideNext(n,!0,!0),l("autoplay")):i.params.autoplay.stopOnLastSlide||(i.slideTo(0,n,!0,!0),l("autoplay")),i.params.cssMode&&(w=(new Date).getTime(),requestAnimationFrame((()=>{E()}))))};return a>0?(clearTimeout(t),t=setTimeout((()=>{o()}),a)):requestAnimationFrame((()=>{o()})),a},x=()=>{i.autoplay.running=!0,E(),l("autoplayStart")},S=()=>{i.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(s),l("autoplayStop")},T=(e,s)=>{if(i.destroyed||!i.autoplay.running)return;clearTimeout(t),e||(f=!0);const a=()=>{l("autoplayPause"),i.params.autoplay.waitForTransition?i.wrapperEl.addEventListener("transitionend",b):M()};if(i.autoplay.paused=!0,s)return h&&(d=i.params.autoplay.delay),h=!1,void a();const r=d||i.params.autoplay.delay;d=r-((new Date).getTime()-w),i.isEnd&&d<0&&!i.params.loop||(d<0&&(d=0),a())},M=()=>{i.isEnd&&d<0&&!i.params.loop||i.destroyed||!i.autoplay.running||(w=(new Date).getTime(),f?(f=!1,E(d)):E(),i.autoplay.paused=!1,l("autoplayResume"))},C=()=>{if(i.destroyed||!i.autoplay.running)return;const e=a();"hidden"===e.visibilityState&&(f=!0,T(!0)),"visible"===e.visibilityState&&M()},P=e=>{"mouse"===e.pointerType&&(f=!0,T(!0))},L=e=>{"mouse"===e.pointerType&&i.autoplay.paused&&M()};n("init",(()=>{i.params.autoplay.enabled&&(i.params.autoplay.pauseOnMouseEnter&&(i.el.addEventListener("pointerenter",P),i.el.addEventListener("pointerleave",L)),a().addEventListener("visibilitychange",C),w=(new Date).getTime(),x())})),n("destroy",(()=>{i.el.removeEventListener("pointerenter",P),i.el.removeEventListener("pointerleave",L),a().removeEventListener("visibilitychange",C),i.autoplay.running&&S()})),n("beforeTransitionStart",((e,t,s)=>{!i.destroyed&&i.autoplay.running&&(s||!i.params.autoplay.disableOnInteraction?T(!0,!0):S())})),n("sliderFirstMove",(()=>{!i.destroyed&&i.autoplay.running&&(i.params.autoplay.disableOnInteraction?S():(p=!0,u=!1,f=!1,m=setTimeout((()=>{f=!0,u=!0,T(!0)}),200)))})),n("touchEnd",(()=>{if(!i.destroyed&&i.autoplay.running&&p){if(clearTimeout(m),clearTimeout(t),i.params.autoplay.disableOnInteraction)return u=!1,void(p=!1);u&&i.params.cssMode&&M(),u=!1,p=!1}})),n("slideChange",(()=>{!i.destroyed&&i.autoplay.running&&(h=!0)})),Object.assign(i.autoplay,{start:x,stop:S,pause:T,resume:M})},function(e){let{swiper:t,extendParams:s,on:i}=e;s({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,n=!1;function l(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const s=e.clickedIndex,a=e.clickedSlide;if(a&&a.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==s)return;let i;i=e.params.loop?parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10):s,t.params.loop?t.slideToLoop(i):t.slideTo(i)}function o(){const{thumbs:e}=t.params;if(r)return!1;r=!0;const s=t.constructor;if(e.swiper instanceof s)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(d(e.swiper)){const a=Object.assign({},e.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new s(a),n=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",l),!0}function c(e){const s=t.thumbs.swiper;if(!s||s.destroyed)return;const a="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView;let i=1;const r=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(i=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(i=1),i=Math.floor(i),s.slides.forEach((e=>e.classList.remove(r))),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let e=0;e{e.classList.add(r)}));else for(let e=0;ee.getAttribute("data-swiper-slide-index")===`${t.realIndex}`))[0];r=s.slides.indexOf(e),o=t.activeIndex>t.previousIndex?"next":"prev"}else r=t.realIndex,o=r>t.previousIndex?"next":"prev";l&&(r+="next"===o?n:-1*n),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(r)<0&&(s.params.centeredSlides?r=r>i?r-Math.floor(a/2)+1:r+Math.floor(a/2)-1:r>i&&s.params.slidesPerGroup,s.slideTo(r,e?0:void 0))}}t.thumbs={swiper:null},i("beforeInit",(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if("string"==typeof e.swiper||e.swiper instanceof HTMLElement){const s=a(),i=()=>{const a="string"==typeof e.swiper?s.querySelector(e.swiper):e.swiper;if(a&&a.swiper)e.swiper=a.swiper,o(),c(!0);else if(a){const s=i=>{e.swiper=i.detail[0],a.removeEventListener("init",s),o(),c(!0),e.swiper.update(),t.update()};a.addEventListener("init",s)}return a},r=()=>{if(t.destroyed)return;i()||requestAnimationFrame(r)};requestAnimationFrame(r)}else o(),c(!0)})),i("slideChange update resize observerUpdate",(()=>{c()})),i("setTransition",((e,s)=>{const a=t.thumbs.swiper;a&&!a.destroyed&&a.setTransition(s)})),i("beforeDestroy",(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&n&&e.destroy()})),Object.assign(t.thumbs,{init:o,update:c})},function(e){let{swiper:t,extendParams:s,emit:a,once:i}=e;s({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){const{touchEventsData:e,touches:s}=t;0===e.velocities.length&&e.velocities.push({position:s[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:s[t.isHorizontal()?"currentX":"currentY"],time:l()})},onTouchEnd:function(e){let{currentPos:s}=e;const{params:r,wrapperEl:n,rtlTranslate:o,snapGrid:d,touchEventsData:c}=t,p=l()-c.touchStartTime;if(s<-t.minTranslate())t.slideTo(t.activeIndex);else if(s>-t.maxTranslate())t.slides.length1){const e=c.velocities.pop(),s=c.velocities.pop(),a=e.position-s.position,i=e.time-s.time;t.velocity=a/i,t.velocity/=2,Math.abs(t.velocity)150||l()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeMode.momentumVelocityRatio,c.velocities.length=0;let e=1e3*r.freeMode.momentumRatio;const s=t.velocity*e;let p=t.translate+s;o&&(p=-p);let u,m=!1;const h=20*Math.abs(t.velocity)*r.freeMode.momentumBounceRatio;let f;if(pt.minTranslate())r.freeMode.momentumBounce?(p-t.minTranslate()>h&&(p=t.minTranslate()+h),u=t.minTranslate(),m=!0,c.allowMomentumBounce=!0):p=t.minTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(r.freeMode.sticky){let e;for(let t=0;t-p){e=t;break}p=Math.abs(d[e]-p){t.loopFix()})),0!==t.velocity){if(e=o?Math.abs((-p-t.translate)/t.velocity):Math.abs((p-t.translate)/t.velocity),r.freeMode.sticky){const s=Math.abs((o?-p:p)-t.translate),a=t.slidesSizesGrid[t.activeIndex];e=s{t&&!t.destroyed&&c.allowMomentumBounce&&(a("momentumBounce"),t.setTransition(r.speed),setTimeout((()=>{t.setTranslate(u),E(n,(()=>{t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(a("_freeModeNoMomentumRelease"),t.updateProgress(p),t.setTransition(e),t.setTranslate(p),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,E(n,(()=>{t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(p),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode&&a("_freeModeNoMomentumRelease")}(!r.freeMode.momentum||p>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(e){let t,s,a,{swiper:i,extendParams:r}=e;r({grid:{rows:1,fill:"column"}});const n=()=>{let e=i.params.spaceBetween;return"string"==typeof e&&e.indexOf("%")>=0?e=parseFloat(e.replace("%",""))/100*i.size:"string"==typeof e&&(e=parseFloat(e)),e};i.grid={initSlides:e=>{const{slidesPerView:r}=i.params,{rows:n,fill:l}=i.params.grid;s=t/n,a=Math.floor(e/n),t=Math.floor(e/n)===e/n?e:Math.ceil(e/n)*n,"auto"!==r&&"row"===l&&(t=Math.max(t,r*n))},updateSlide:(e,r,l,o)=>{const{slidesPerGroup:d}=i.params,c=n(),{rows:p,fill:u}=i.params.grid;let m,h,f;if("row"===u&&d>1){const s=Math.floor(e/(d*p)),a=e-p*d*s,i=0===s?d:Math.min(Math.ceil((l-s*p*d)/p),d);f=Math.floor(a/i),h=a-f*i+s*d,m=h+f*t/p,r.style.order=m}else"column"===u?(h=Math.floor(e/p),f=e-h*p,(h>a||h===a&&f===p-1)&&(f+=1,f>=p&&(f=0,h+=1))):(f=Math.floor(e/s),h=e-f*s);r.style[o("margin-top")]=0!==f?c&&`${c}px`:""},updateWrapperSize:(e,s,a)=>{const{centeredSlides:r,roundLengths:l}=i.params,o=n(),{rows:d}=i.params.grid;if(i.virtualSize=(e+o)*t,i.virtualSize=Math.ceil(i.virtualSize/d)-o,i.wrapperEl.style[a("width")]=`${i.virtualSize+o}px`,r){const e=[];for(let t=0;t{const{slides:e}=t;t.params.fadeEffect;for(let s=0;s{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`})),de({swiper:t,duration:e,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const i=(e,t,s)=>{let a=s?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),i=s?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");a||(a=g("div","swiper-slide-shadow-"+(s?"left":"top")),e.append(a)),i||(i=g("div","swiper-slide-shadow-"+(s?"right":"bottom")),e.append(i)),a&&(a.style.opacity=Math.max(-t,0)),i&&(i.style.opacity=Math.max(t,0))};le({effect:"cube",swiper:t,on:a,setTranslate:()=>{const{el:e,wrapperEl:s,slides:a,width:r,height:n,rtlTranslate:l,size:o,browser:d}=t,c=t.params.cubeEffect,p=t.isHorizontal(),u=t.virtual&&t.params.virtual.enabled;let m,h=0;c.shadow&&(p?(m=t.slidesEl.querySelector(".swiper-cube-shadow"),m||(m=g("div","swiper-cube-shadow"),t.slidesEl.append(m)),m.style.height=`${r}px`):(m=e.querySelector(".swiper-cube-shadow"),m||(m=g("div","swiper-cube-shadow"),e.append(m))));for(let e=0;e-1&&(h=90*s+90*d,l&&(h=90*-s-90*d)),t.style.transform=v,c.slideShadows&&i(t,d,p)}if(s.style.transformOrigin=`50% 50% -${o/2}px`,s.style["-webkit-transform-origin"]=`50% 50% -${o/2}px`,c.shadow)if(p)m.style.transform=`translate3d(0px, ${r/2+c.shadowOffset}px, ${-r/2}px) rotateX(90deg) rotateZ(0deg) scale(${c.shadowScale})`;else{const e=Math.abs(h)-90*Math.floor(Math.abs(h)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),s=c.shadowScale,a=c.shadowScale/t,i=c.shadowOffset;m.style.transform=`scale3d(${s}, 1, ${a}) translate3d(0px, ${n/2+i}px, ${-n/2/a}px) rotateX(-90deg)`}const f=(d.isSafari||d.isWebView)&&d.needPerspectiveFix?-o/2:0;s.style.transform=`translate3d(0px,0,${f}px) rotateX(${t.isHorizontal()?0:h}deg) rotateY(${t.isHorizontal()?-h:0}deg)`,s.style.setProperty("--swiper-cube-translate-z",`${f}px`)},setTransition:e=>{const{el:s,slides:a}=t;if(a.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=s.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const s=Math.max(Math.min(t.progress,1),-1);i(t,s,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({flipEffect:{slideShadows:!0,limitRotation:!0}});const i=(e,s,a)=>{let i=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),r=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");i||(i=ce(0,e,t.isHorizontal()?"left":"top")),r||(r=ce(0,e,t.isHorizontal()?"right":"bottom")),i&&(i.style.opacity=Math.max(-s,0)),r&&(r.style.opacity=Math.max(s,0))};le({effect:"flip",swiper:t,on:a,setTranslate:()=>{const{slides:e,rtlTranslate:s}=t,a=t.params.flipEffect;for(let r=0;r{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),de({swiper:t,duration:e,transformElements:s})},recreateShadows:()=>{t.params.flipEffect;t.slides.forEach((e=>{let s=e.progress;t.params.flipEffect.limitRotation&&(s=Math.max(Math.min(e.progress,1),-1)),i(e,s)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),le({effect:"coverflow",swiper:t,on:a,setTranslate:()=>{const{width:e,height:s,slides:a,slidesSizesGrid:i}=t,r=t.params.coverflowEffect,n=t.isHorizontal(),l=t.translate,o=n?e/2-l:s/2-l,d=n?r.rotate:-r.rotate,c=r.depth;for(let e=0,t=a.length;e0?p:0),s&&(s.style.opacity=-p>0?-p:0)}}},setTransition:e=>{t.slides.map((e=>h(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const i=e=>"string"==typeof e?e:`${e}px`;le({effect:"creative",swiper:t,on:a,setTranslate:()=>{const{slides:e,wrapperEl:s,slidesSizesGrid:a}=t,r=t.params.creativeEffect,{progressMultiplier:n}=r,l=t.params.centeredSlides;if(l){const e=a[0]/2-t.params.slidesOffsetBefore||0;s.style.transform=`translateX(calc(50% - ${e}px))`}for(let s=0;s0&&(f=r.prev,h=!0),u.forEach(((e,t)=>{u[t]=`calc(${e}px + (${i(f.translate[t])} * ${Math.abs(d*n)}))`})),m.forEach(((e,t)=>{m[t]=f.rotate[t]*Math.abs(d*n)})),a.style.zIndex=-Math.abs(Math.round(o))+e.length;const g=u.join(", "),v=`rotateX(${m[0]}deg) rotateY(${m[1]}deg) rotateZ(${m[2]}deg)`,w=c<0?`scale(${1+(1-f.scale)*c*n})`:`scale(${1-(1-f.scale)*c*n})`,b=c<0?1+(1-f.opacity)*c*n:1-(1-f.opacity)*c*n,y=`translate3d(${g}) ${v} ${w}`;if(h&&f.shadow||!h){let e=a.querySelector(".swiper-slide-shadow");if(!e&&f.shadow&&(e=ce(0,a)),e){const t=r.shadowPerProgress?d*(1/r.limitProgress):d;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const E=oe(0,a);E.style.transform=y,E.style.opacity=b,f.origin&&(E.style.transformOrigin=f.origin)}},setTransition:e=>{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),de({swiper:t,duration:e,transformElements:s,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:s,on:a}=e;s({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),le({effect:"cards",swiper:t,on:a,setTranslate:()=>{const{slides:e,activeIndex:s}=t,a=t.params.cardsEffect,{startTranslate:i,isTouched:r}=t.touchEventsData,n=t.translate;for(let l=0;l0&&c<1&&(r||t.params.cssMode)&&n-1&&(r||t.params.cssMode)&&n>i;if(b||y){const e=(1-Math.abs((Math.abs(c)-.5)/.5))**.5;g+=-28*c*e,f+=-.5*e,v+=96*e,m=-25*e*Math.abs(c)+"%"}if(u=c<0?`calc(${u}px + (${v*Math.abs(c)}%))`:c>0?`calc(${u}px + (-${v*Math.abs(c)}%))`:`${u}px`,!t.isHorizontal()){const e=m;m=u,u=e}const E=c<0?""+(1+(1-f)*c):""+(1-(1-f)*c),x=`\n translate3d(${u}, ${m}, ${h}px)\n rotateZ(${a.rotate?g:0}deg)\n scale(${E})\n `;if(a.slideShadows){let e=o.querySelector(".swiper-slide-shadow");e||(e=ce(0,o)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(c)-.5)/.5,0),1))}o.style.zIndex=-Math.abs(Math.round(d))+e.length;oe(0,o).style.transform=x}},setTransition:e=>{const s=t.slides.map((e=>h(e)));s.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),de({swiper:t,duration:e,transformElements:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];return J.use(pe),J})); # FILE: ./ignore/tol.py import secrets # Generate a 32-byte random secret key secret_key = secrets.token_hex(32) print(secret_key) # FILE: ./ignore/scripts.js (function($){"use strict";gsap.registerPlugin(DrawSVGPlugin,ScrollTrigger,CSSRulePlugin,ScrollToPlugin,MorphSVGPlugin,CustomEase,InertiaPlugin,ScrollSmoother,TextPlugin,Flip);var buttonStyle='underlined';var html=document.querySelector('html'),body=document.querySelector('body');var mobileQuery=window.matchMedia('(max-width: 500px)'),siteHeader=$('.site-header'),matchMedia=gsap.matchMedia(),isPhone='(max-width: 450px)',isTablet='(min-width: 450px) and (max-width: 900px)',isDesktop='(min-width: 900px)';var keys={37:1,38:1,39:1,40:1};function preventDefault(e){e.preventDefault();} function preventDefaultForScrollKeys(e){if(keys[e.keyCode]){preventDefault(e);return false;}} var supportsPassive=false;try{window.addEventListener("test",null,Object.defineProperty({},'passive',{get:function(){supportsPassive=true;}}));}catch(e){} var wheelOpt=supportsPassive?{passive:false}:false;var wheelEvent='onwheel'in document.createElement('div')?'wheel':'mousewheel';function disableScroll(){if(ScrollSmoother.get()){let leksaSmoother=ScrollSmoother.get();leksaSmoother.paused(true);}else{window.addEventListener('DOMMouseScroll',preventDefault,false);window.addEventListener(wheelEvent,preventDefault,wheelOpt);window.addEventListener('touchmove',preventDefault,wheelOpt);window.addEventListener('keydown',preventDefaultForScrollKeys,false);}} function enableScroll(){if(ScrollSmoother.get()){let leksaSmoother=ScrollSmoother.get();leksaSmoother.paused(false);}else{window.removeEventListener('DOMMouseScroll',preventDefault,false);window.removeEventListener(wheelEvent,preventDefault,wheelOpt);window.removeEventListener('touchmove',preventDefault,wheelOpt);window.removeEventListener('keydown',preventDefaultForScrollKeys,false);}} function parents(element,selector){const parentsArray=[];let currentElement=element.parentElement;while(currentElement!==null){if(currentElement.matches(selector)){parentsArray.push(currentElement);} currentElement=currentElement.parentElement;} return parentsArray;} function clearProps(target){gsap.set(target,{clearProps:'all'})} function leksa_ProductPage(){var productPage=$('.product-page'),head=productPage.find('.leksa-product-head'),gallery=productPage.find('.product-gallery'),info=productPage.find('.product-info'),endo=gallery.outerHeight()-info.outerHeight();if(gallery.length&&!head.hasClass('gal-static')){var galleryScroll=ScrollTrigger.create({trigger:gallery,pin:info,start:'top top',end:endo,id:'pGalleryScroll'})} if(head.hasClass('img-masonry')){var msnry=$('.product-gallery-wrap').masonry({itemSelector:'.product-gallery-image',columnWidth:'.grid-sizer',percentPosition:true,gutter:'.grid-gutter'}) matchMedia.add({isMobile:"(max-width: 450px)"},(context)=>{let{isMobile}=context.conditions;msnry.masonry('destroy') return()=>{}});} function productDetailTabs(){let tabs=$('.tab-titles-wrap'),titles=tabs.find('.tab-title'),contents=$('.product-detail-tabs').find('.tab-content');titles.first().addClass('active') contents.first().addClass('active') titles.on('click',function(){let $this=$(this),findContent='.tab_'+$this.attr('data-tab');$('.tab-content').removeClass('active');$('.tab-title').removeClass('active');$(findContent).addClass('active') $this.addClass('active')})} productDetailTabs() function leksa_UpdateCart(){var quantity=$('.product-add-to-cart, .leksa_add_to_cart');quantity.find('.single_add_to_cart_button').on('mouseenter',function(){quantity.addClass('hovered')}) quantity.find('.single_add_to_cart_button').on('mouseleave',function(){quantity.removeClass('hovered')}) quantity.each(function(){let $this=$(this),input=$this.find('.qty'),incrs=$this.find('.incrs'),dcrs=$this.find('.dcrs');let clicks=0;incrs.on('click',function(){$('.update_cart').removeAttr('disabled');clicks++ if(clicks<1){clicks=1} var currentVal=parseInt(input.val());if(!isNaN(currentVal)){input.val(clicks);}});dcrs.on('click',function(){clicks-- if(clicks<1){clicks=1} $('.update_cart').removeAttr('disabled');var currentVal=parseInt(input.val());if(!isNaN(currentVal)&¤tVal>0){input.val(clicks);}});})} leksa_UpdateCart() matchMedia.add({isMobile:"(max-width: 450px)"},(context)=>{let{isMobile}=context.conditions;let galScroll=ScrollTrigger.getById('pGalleryScroll') if(galScroll!=null){galScroll.kill()} var max=$('.product-gallery-wrap').outerWidth()-375;var galeryDrag=Draggable.create(gallery.find('.product-gallery-wrap'),{type:'x',bounds:{minX:0,maxX:max*-1,},lockAxis:true,dragResistance:0.5,inertia:true,zIndexBoost:false,});return()=>{}});} function leksa_ArchiveProducts(){var archive=document.querySelector('.archive-products-section');if(archive){var filterWrap=archive.querySelector('.np-filters'),wrapRect=filterWrap.getBoundingClientRect(),filters=archive.querySelectorAll('.leksa-products-filtering li'),grid=archive.querySelector('.leksa-products-grid'),products=grid.querySelectorAll('.leksa-single-product'),layoutSwitch=archive.querySelector('.npg-switch');filters.forEach(function(filter){let rect=filter.getBoundingClientRect();if(filter.classList.contains('all')){gsap.set(filterWrap,{'--left':(rect.left-wrapRect.left)+'px','--width':rect.width+'px'})} filter.addEventListener('click',function(){gsap.set(filterWrap,{'--left':(rect.left-wrapRect.left)+'px','--width':rect.width+'px'}) if(!filter.classList.contains('all')){var findCat='.product_cat-'+filter.dataset.cat;filters.forEach(function(f){f.classList.remove('active');});filter.classList.add('active');var state=Flip.getState(Array.from(products));grid.classList.add('filtered');products.forEach(function(p){p.style.display='none';});grid.querySelectorAll(findCat).forEach(function(p){p.style.display='block';});Flip.from(state,{duration:1,scale:false,ease:'power3.out',stagger:0,absolute:true,absoluteOnLeave:true,onEnter:function(elements){gsap.fromTo(elements,{clipPath:'inset(100%)'},{opacity:1,clipPath:'inset(0%)',duration:1,ease:'power3.out',stagger:0.1});},onLeave:function(elements){gsap.to(elements,{clipPath:'inset(100%)',duration:1,ease:'power3.out',stagger:0.1});}});}});});archive.querySelector('.all').addEventListener('click',function(){var state=Flip.getState(Array.from(products));filters.forEach(function(f){f.classList.remove('active');});this.classList.add('active');grid.classList.remove('filtered');products.forEach(function(p){p.style.display='block';});Flip.from(state,{duration:1,scale:false,ease:"expo.out",stagger:0,absolute:true,absoluteOnLeave:true,onEnter:function(elements){gsap.fromTo(elements,{clipPath:'inset(100%)'},{opacity:1,clipPath:'inset(0%)',duration:1,ease:'power3.out',stagger:0.1});},onLeave:function(elements){gsap.to(elements,{clipPath:'inset(100%)',duration:1,ease:'power3.out',stagger:0.1});}});});if(layoutSwitch){var swDefault=layoutSwitch.querySelector('.switch-def'),sw2=layoutSwitch.querySelector('.switch-2'),defRect=swDefault.getBoundingClientRect();gsap.set(layoutSwitch,{'--left':defRect.left-layoutSwitch.getBoundingClientRect().left+'px','--width':defRect.width+'px'}) grid.classList.add('grid-default');sw2.addEventListener('click',function(){if(grid.classList.contains('grid-default')){swDefault.classList.remove('active');sw2.classList.add('active');gsap.set(layoutSwitch,{'--left':sw2.getBoundingClientRect().left-layoutSwitch.getBoundingClientRect().left+'px','--width':sw2.getBoundingClientRect().width+'px'}) var state=Flip.getState(Array.from(products));grid.classList.remove('grid-default');grid.classList.add('grid-2');Flip.from(state,{duration:1,scale:false,ease:'power3.out',stagger:0,absolute:true,absoluteOnLeave:true,});}});swDefault.addEventListener('click',function(){swDefault.classList.add('active');sw2.classList.remove('active');if(grid.classList.contains('grid-2')){var state=Flip.getState(Array.from(products));grid.classList.remove('grid-2');grid.classList.add('grid-default');gsap.set(layoutSwitch,{'--left':swDefault.getBoundingClientRect().left-layoutSwitch.getBoundingClientRect().left+'px','--width':swDefault.getBoundingClientRect().width+'px'}) Flip.from(state,{duration:1,scale:false,ease:'power3.out',stagger:0,absolute:true,absoluteOnLeave:true,});}});}}} function leksa_CartPage(){function quanto(){let quantity=$('.leksa-cart-section').find('.product-quantity');quantity.each(function(){let $this=$(this),input=$this.find('.qty'),incrs=$this.find('.incrs'),dcrs=$this.find('.dcrs');let clicks=0;incrs.on('click',function(){$('.update_cart').removeAttr('disabled');clicks++ var currentVal=parseInt(input.val());if(!isNaN(currentVal)){input.val(currentVal+1);}});dcrs.on('click',function(){clicks-- $('.update_cart').removeAttr('disabled') var currentVal=parseInt(input.val());if(!isNaN(currentVal)&¤tVal>0){input.val(currentVal-1);}});})} quanto();$(document).on('click','button[name="update_cart"]',function(){var totalQuantity=0;var cartItems=$('.cart_item');cartItems.each(function(){var quantityInput=$(this).find('.quantity input');var quanto=parseInt(quantityInput.val());totalQuantity+=quanto;});$('.cart-count > span').html(totalQuantity);setTimeout(function(){quanto();},2000)});} function shopScripts(){leksa_ProductPage() leksa_ArchiveProducts() leksa_CartPage();$(document).on('click','.product-acts a.button',function(e){var $thisbutton=$(this);if(!$thisbutton.parents('.product-type-variable').length){e.preventDefault();let $form=$thisbutton.closest('form.cart'),id=$(this).data('product-id'),product_qty=1,product_id=$(this).data('product-id'),variation_id=$(this).data('product-id');var data={action:'woocommerce_ajax_add_to_cart',product_id:product_id,product_sku:'',quantity:product_qty,};$(document.body).trigger('adding_to_cart',[$thisbutton,data]);$.ajax({type:'post',url:wc_add_to_cart_params.ajax_url,data:data,beforeSend:function(response){$thisbutton.removeClass('added').addClass('loading');},complete:function(response){$thisbutton.addClass('added').removeClass('loading');let curr=$('.cart-count > span').html(),rs=parseInt(curr);$('.cart-count > span').html(rs+1);},success:function(response){if(response.error&&response.product_url){return;}else{$(document.body).trigger('added_to_cart',[response.fragments,response.cart_hash,$thisbutton]);}},});}});$(document).on('click','.single_add_to_cart_button',function(e){e.preventDefault();var $thisbutton=$(this),$form=$thisbutton.closest('form.cart'),id=$thisbutton.val(),product_qty=$form.find('input[name=quantity]').val()||1,product_id=$form.find('input[name=product_id]').val()||id,variation_id=$form.find('input[name=variation_id]').val()||0;var data={action:'woocommerce_ajax_add_to_cart',product_id:product_id,product_sku:'',quantity:product_qty,variation_id:variation_id,};$(document.body).trigger('adding_to_cart',[$thisbutton,data]);$.ajax({type:'post',url:wc_add_to_cart_params.ajax_url,data:data,beforeSend:function(response){$thisbutton.removeClass('added').addClass('loading');},complete:function(response){$thisbutton.addClass('added').removeClass('loading');let curr=$('.cart-count > span').html(),rs=parseInt(curr),qty=parseInt(product_qty);$('.cart-count > span').html(rs+qty);},success:function(response){if(response.error&&response.product_url){window.location=response.product_url;return;}else{$(document.body).trigger('added_to_cart',[response.fragments,response.cart_hash,$thisbutton]);}},});return false;});} function leksaPageLoader(){var container=document.body,imgLoad=imagesLoaded(container),totalImages=imgLoad.images.length,loadedCount=0,pageLoader=document.querySelector('.pe--page--loader'),numbersWrap=pageLoader.querySelector('.numbers--wrap'),numbers=pageLoader.querySelectorAll('.number'),logo=pageLoader.querySelector('.page--loader--logo'),duration=parseInt(pageLoader.dataset.duration)/1000,type=pageLoader.dataset.type;numbers.forEach(number=>{let digits=number.querySelectorAll('span');digits.forEach((digit,i)=>{digit.classList.add('digit_'+i);digit.setAttribute('data-top',digit.getBoundingClientRect().top-numbersWrap.getBoundingClientRect().top)})}) var tl=gsap.timeline({id:'pageLoader',paused:true,onStart:()=>{pageLoader.classList.add('running');html.classList.add('loading');if(type==='slide'){gsap.set('.site-header',{yPercent:-100})}},});if(logo){tl.to('.op',{clipPath:'inset(0% 0% 0% 0%)',duration:duration,ease:'expo.inOut',},0)} tl.to('.number__1',{y:-200,duration:duration,ease:'expo.inOut',},.5) tl.to('.number__2',{y:-2000,duration:duration,ease:'expo.inOut'},0) tl.to('.number__3',{y:-2000,duration:duration,ease:'expo.inOut'},.25) imgLoad.on('progress',function(instance,image){loadedCount++;var percent=(loadedCount/totalImages)*100;if(!pageLoader.classList.contains('running')){tl.play()} let tlProg=tl.progress()*100;if(percent{ gsap.set('.site-header', { visibility: 'visible', }) } , ease: 'power3.out' }) gsap.to('main', { y: 0, x: 0, duration: 1, ease: 'expo.inOut', delay: .1, id: 'loaderOut', onUpdate: ()=>{ ScrollTrigger.refresh(); } , onComplete: ()=>{ document.querySelector('.pe--page--loader').remove(); clearProps('main') if (ScrollSmoother.get()) { clearProps('#smooth-content') } html.classList.remove('loading'); html.classList.remove('first--load'); ScrollTrigger.update(true) ScrollTrigger.refresh(true) } }) } if (behavior === 'fade') { let tl = gsap.timeline({}) tl.to('.page--loader--ov', { opacity: 1, duration: .4, ease: 'expo.out' }) tl.to(loader, { opacity: 0, duration: .4, ease: 'expo.out', onStart: ()=>{ html.classList.remove('loading') html.classList.remove('first--load'); ScrollTrigger.update(true) ScrollTrigger.refresh(true) } , onComplete: ()=>{ document.querySelector('.pe--page--loader').remove(); } }) } if (behavior === 'overlay') { gsap.to(loader, { height: direction === 'up' ? 0 : direction === 'down' ? 0 : '100vh', width: direction === 'left' ? 0 : direction === 'right' ? 0 : '100vw', duration: 1, ease: 'expo.inOut', onComplete: ()=>{ document.querySelector('.pe--page--loader').remove(); html.classList.remove('loading') html.classList.remove('first--load'); ScrollTrigger.update(true) ScrollTrigger.refresh(true) } }) } } function leksamouseCursor(){var mouseCursor=document.getElementById('mouseCursor');if(mouseCursor){gsap.set(mouseCursor,{xPercent:-50,yPercent:-50});let xTo=gsap.quickTo(mouseCursor,"x",{duration:0.6,ease:"power3"}),yTo=gsap.quickTo(mouseCursor,"y",{duration:0.6,ease:"power3"});function icko(e){xTo(e.clientX);yTo(e.clientY);} window.addEventListener('mousemove',(e)=>{icko(e);});}} var cursor=document.getElementById('mouseCursor')?document.getElementById('mouseCursor'):false,cursorText=cursor?cursor.querySelector('.cursor-text'):false,cursorIcon=cursor?cursor.querySelector('.cursor-icon'):false;function resetCursor(){cursor.classList.remove('cursor--default') cursor.classList.remove('cursor--text');cursor.classList.remove('cursor--icon');cursor.classList.remove('dragging--right');cursor.classList.remove('dragging--left');cursorText.innerHTML='';cursorIcon.innerHTML='';} function leksaHeader(){var header=document.querySelector('.site-header'),headerHeight=header.getBoundingClientRect().height,headerElements=header.querySelectorAll('[data-element_type="widget"]'),start=0;setTimeout(function(){let scrolltriggers=ScrollTrigger.getAll();scrolltriggers.forEach(function(st){if((st.pin!=null)&&(st.start<=window.innerHeight)){start=st.end;}}) function animateElements(play){var state=Flip.getState(headerElements,{props:'opacity , display'});play?header.classList.add('header--move'):header.classList.remove('header--move');Flip.from(state,{duration:1,ease:"power3.inOut",simple:false,absolute:false,nested:true,prune:true,absoluteOnLeave:false,onEnter:elements=>gsap.fromTo(elements,{opacity:0,y:-30,},{opacity:1,stagger:0.02,y:0,}),onLeave:elements=>gsap.fromTo(elements,{opacity:1,y:0},{opacity:0,stagger:0.02,y:-30,}),})} function fixedHeader(){let sc=ScrollTrigger.create({trigger:'body',start:'top+='+start+' top',id:'fixedHeader',end:'bottom bottom',onEnter:()=>{animateElements(true)},onLeaveBack:()=>{animateElements(false);}})} barba.hooks.after(()=>{setTimeout(()=>{let scrolltriggers=ScrollTrigger.getAll(),newStart;scrolltriggers.forEach(function(st){if((st.pin!=null)&&(st.start<=window.innerHeight)){newStart=st.end;}}) let fixedHeader=ScrollTrigger.getById('fixedHeader');if(fixedHeader){fixedHeader.kill();let sc=ScrollTrigger.create({trigger:'body',start:'top+='+newStart+' top',id:'fixedHeader',end:'bottom bottom',onEnter:()=>{animateElements(true)},onLeaveBack:()=>{animateElements(false);}})}})},100);header.classList.contains('header--fixed')?fixedHeader():header.classList.contains('header--sticky')?fixedHeader():'';},5) function leksaFullscreenSubmenu(){let submenus=document.querySelectorAll('.leksa-sub-menu-wrap'),menuItem=document.querySelectorAll('.menu-item'),transformY=0;menuItem.forEach(function(item,i){if(parents(item,'.menu--horizontal').length){item.addEventListener('mouseenter',function(){if(item.classList.contains('leksa-has-children')){let classList=item.className.split(' '),subIDClass=classList.find(cls=>cls.startsWith('sub_id')),id=subIDClass?subIDClass.substring("sub_id'".length):'' disableScroll();document.querySelector('.sub_'+id).classList.add('active') transformY=0 gsap.to(document.querySelector('.sub_'+id),{y:'0',duration:1.25,ease:'expo.out'})}else{gsap.to(document.querySelectorAll('.leksa-sub-menu-wrap'),{y:'-100%',duration:1.5,ease:'expo.out'})}})}}) submenus.forEach(function(submenu,i){submenu.addEventListener('mouseleave',function(){enableScroll();gsap.to(submenu,{y:'-120%',duration:1.1,ease:'expo.out',onComplete:()=>{submenu.classList.remove('active')}})})});} matchMedia.add({isDesktop:"(min-width: 450px)"},(context)=>{let{isDesktop}=context.conditions;leksaFullscreenSubmenu();});} function leksaFooter(){var footer=document.querySelector('.site-footer'),height=footer.offsetHeight;if(footer.classList.contains('footer--fixed')){gsap.to(footer,{yPercent:0,y:0,'--opacity':0,ease:'none',scrollTrigger:{trigger:footer,scrub:true,start:'bottom bottom',end:'bottom+='+(height+5)+' top'}})}} function leksaArchivePosts(){var archiveGrid=document.querySelector('.pe-archive-grid');if(archiveGrid){var items=[...archiveGrid.querySelectorAll('.pe-archive-post')],msnry=new Masonry(archiveGrid,{itemSelector:'.pe-archive-post',columnWidth:'.pe-archive-grid-sizer',gutter:'.pe-archive-grid-gutter',});function archivePostsNavigation(){let postsNav=document.querySelector('.pe-theme-posts-nav'),pages=postsNav.getAttribute('data-max-pages');postsNav.querySelector('a').classList.add(buttonStyle);if(postsNav!==null){if(postsNav.classList.contains('type_button')){var button=postsNav.querySelector('.pe_load_more > a');button.addEventListener("click",function(e){e.preventDefault();let targetUrl=button.getAttribute('href');$.ajax({type:'GET',url:targetUrl,beforeSend:function(){html.classList.add('loading');postsNav.classList.add('ajax_loading');},success:function(response){setTimeout(function(){var newPosts=$(response).find('.pe-archive-post'),newLink=$(response).find('.pe_load_more > a').attr('href'),paged=$(response).find('.pe-theme-posts-nav').data('paged');newPosts.appendTo(archiveGrid);msnry.appended(newPosts);postsNav.setAttribute('data-paged',paged) button.setAttribute('href',newLink);if(paged==pages){postsNav.classList.add('op-hidden')} html.classList.remove('loading');postsNav.classList.remove('ajax_loading');},1000)},error:function(error){html.classList.remove('loading');postsNav.classList.remove('ajax_loading');}});},false);}}} document.querySelector('.pe-theme-posts-nav')?archivePostsNavigation():'';}} function leksaSinglePostPage(){var singlePostPage=document.querySelector('.single-post');if(singlePostPage){var metas=singlePostPage.querySelector('.entry-meta'),content=singlePostPage.querySelector('.entry-content'),cats=metas.querySelectorAll('.post-cats a');for(var i=0;i{gsap.set(overlay,{top:direction==='up'?0:'unset',bottom:direction==='up'?'unset':0,})},onComplete:()=>{transitions.classList.remove('running') gsap.set(overlay,{clearProps:'all'})}})}} if(type==='slide'){if(document.querySelector('.is-pinning')){gsap.set(document.querySelector('.is-pinning'),{top:window.scrollY})} if(cycle==='leave'){tl.to('main',{duration:1,y:-300,ease:'expo.inOut'},0) tl.to('.slide--op',{duration:1,opacity:.6,visibility:'visible',ease:'expo.inOut',onComplete:()=>{clearProps(document.querySelector('.slide--op'))}},0) tl.to(wrapper,{y:0,duration:1,visibility:'visible',ease:'expo.inOut',borderRadius:0},0)} if(cycle==='beforeEnter'){tl.to('main',{duration:.1}) let mains=document.querySelectorAll('main');mains[0].remove();} if(cycle==='afterEnter'){gsap.set('main',{y:'100vh'}) tl.to(wrapper,{y:'-100%',duration:1.25,visibility:'visible',ease:'expo.inOut',borderRadius:50},0.1) tl.to('main',{y:0,duration:1.25,visibility:'visible',ease:'expo.inOut'},0.1) tl.to('.pt--overlay',{duration:1.25,opacity:.6,visibility:'visible',ease:'expo.inOut',onComplete:()=>{clearProps(['.slide--op','main',wrapper,'.pt--overlay'])}},0.1)}}} function elementHandle(element,tl){if(document.querySelector('.showcase-table')){tl.to(element,{rotate:0,duration:.75,ease:'expo.out'})} if(document.querySelector('.leksa-showcase-carousel')){tl.to(element[0].querySelector('img'),{x:0,width:'100%',duration:1.25,ease:'expo.inOut'},0) tl.to(element[0].querySelector('.parallax--wrap'),{x:0,y:0,scale:1,width:'100%',height:'100%',duration:1.25,ease:'expo.inOut'},0)} if(document.querySelector('.leksa-showcase-rotate')){tl.to(element[0],{duration:1.25,onStart:()=>{element[0].click();}},0)}} function leksaProjectTransitions(tl,image,behavior,target){let rect=image.getBoundingClientRect(),styles=window.getComputedStyle(image),transitionMedia=image.cloneNode(true);var handleScroll=0;if(ScrollSmoother.get()){let scrollSmoother=ScrollSmoother.get();handleScroll=scrollSmoother.scrollTop();} if(behavior==='beforeLeave'){if(parents(image,'.needs--handle').length){let element=parents(image,'.needs--handle');elementHandle(element,tl);}else{tl.to(image,{duration:.1})}} if(behavior==='leave'){for(var i=0;i{if(ScrollSmoother.get()){let scrollSmoother=ScrollSmoother.get();scrollSmoother.scrollTo(0,false);}else{window.scrollTo(0,0);} document.querySelector('main').remove();let transitionMedia=document.querySelector('.transition--media');if(transitionMedia.querySelector('.pe-video')){tl.to(transitionMedia,{clipPath:'inset(0% 0% 100% 0% round 35px)',duration:1,ease:'expo.inOut'}) tl.play();}else{let state=Flip.getState(transitionMedia,{props:'borderRadius',}),targetRect=target.getBoundingClientRect(),targetStyles=window.getComputedStyle(target);for(var i=0;i{resolve();}}) leksaPageTransitions(tl,'leave',trigger)})},beforeEnter(data){return new Promise(function(resolve,reject){let tl=gsap.timeline({onStart:()=>{resolve();},}) leksaPageTransitions(tl,'beforeEnter')})},afterEnter(data){return new Promise(function(resolve,reject){let tl=gsap.timeline({onStart:()=>{resolve();},onUpdate:()=>{ScrollTrigger.refresh();}}) leksaPageTransitions(tl,'afterEnter')})},},{name:'project-transition',from:{custom:({trigger})=>{return trigger.classList&&trigger.classList.contains('barba--trigger');},},beforeLeave(trigger){return new Promise(function(resolve,reject){let id=trigger.trigger.dataset.id,image=document.querySelector('.project__image__'+id),tl=gsap.timeline({onComplete:()=>{resolve();}}) leksaProjectTransitions(tl,image,'beforeLeave',false);})},leave(trigger){return new Promise(function(resolve,reject){let id=trigger.trigger.dataset.id,image=document.querySelector('.project__image__'+id),tl=gsap.timeline({onComplete:()=>{resolve();}}) leksaProjectTransitions(tl,image,'leave',false);})},enter(trigger){return new Promise(function(resolve,reject){let id=trigger.trigger.dataset.id,image=document.querySelector('.project__image__'+id),targetImage=document.querySelector('.featured__'+id),tl=gsap.timeline({paused:true,onComplete:()=>{resolve();document.querySelector('.transition--media').remove();gsap.set('main',{opacity:1})}});leksaProjectTransitions(tl,image,'enter',targetImage);})}},]}) function barbaPrevents(){var prevents=$('.pe-load-more, .elementor-image-gallery a, .lang-item, .lang-item a, .elementor-gallery__container a, .elementor-image-gallery, #wpadminbar, .elementor-editor-wp-page, .woocommerce-cart-form, .portfolio--pagination');prevents.attr('data-barba-prevent','all')} barbaPrevents();if(history.scrollRestoration){history.scrollRestoration="manual";} ScrollTrigger.clearScrollMemory('manual');barba.hooks.before((data)=>{html.classList.remove('ajax--first') document.documentElement.classList.add('loading');document.documentElement.classList.add('barba--running');disableScroll();}) barba.hooks.enter((data)=>{const parser=new DOMParser();const newDoc=parser.parseFromString(data.next.html,"text/html");const currentDoc=parser.parseFromString(data.current.html,"text/html");const bodyClasses=newDoc.querySelector('body').classList;const newBodyHasClass=newDoc.querySelector('body').classList.contains('layout--switched');const currentBodyHasClass=currentDoc.querySelector('body').classList.contains('layout--switched');if(newBodyHasClass!==currentBodyHasClass){if(document.querySelector('.pe-layout-switcher')){document.querySelector('.pe-layout-switcher').click();setTimeout(()=>{document.body.classList=bodyClasses;},1000);}}else{document.body.classList=bodyClasses;} const elementorTags=['link[id*="elementor"]','link[id*="eael"]','style[id*="elementor"]','style[id*="eael"]','style[id*="elementor-frontend-inline"]','style[id*="elementor-post"]','link[id*="elementor-post"]',].join(',');const headTags=['meta[name="keywords"]','meta[name="description"]','meta[property^="og"]','meta[name^="twitter"]','meta[itemprop]','link[itemprop]','link[rel="prev"]','link[rel="next"]','link[rel="canonical"]','link[rel="alternate"]','link[rel="shortlink"]','link[id*="google-fonts"]','style[id*="leksa_-body-styles"]'].join(',');const newElements=newDoc.querySelectorAll(`${elementorTags}, ${headTags}`);const currentElements=document.querySelectorAll(`${elementorTags}, ${headTags}`);const existsInCurrentDOM=(newElement)=>{return Array.from(currentElements).some(currentElement=>currentElement.tagName.toLowerCase()===newElement.tagName.toLowerCase()&¤tElement.id===newElement.id);};newElements.forEach(element=>{if(!existsInCurrentDOM(element)){document.head.appendChild(element.cloneNode(true));}});});barba.hooks.afterEnter(()=>{if(!html.classList.contains('ajax--first')){if(ScrollSmoother.get()){let scrollSmoother=ScrollSmoother.get();scrollSmoother.scrollTo(0,false);}else{window.scrollTo(0,0);} let scrolltriggers=ScrollTrigger.getAll();scrolltriggers.forEach(function(st){if(st.vars.id!=='fixedHeader'){st.kill();}}) if(typeof window.elementorFrontend!=='undefined'){window.elementorFrontend.init();} if(typeof pageScripts==='function'){pageScripts();}}});barba.hooks.after((data)=>{if(ScrollSmoother.get()){let scrollSmoother=ScrollSmoother.get();scrollSmoother.scrollTo(0,false);}else{window.scrollTo(0,0);} setTimeout(()=>{document.documentElement.classList.remove('loading');document.documentElement.classList.remove('barba--running');enableScroll();ScrollTrigger.update(true) ScrollTrigger.refresh(true)},100);});} if((!document.body.classList.contains('e-preview--show-hidden-elements'))&&document.querySelector('.pe--page--loader')){leksaPageLoader()} var loader=gsap.getById('pageLoader');if(loader){loader.eventCallback('onComplete',()=>{leksaLoaderOut(document.querySelector('.pe--page--loader').dataset.type);pageScripts();})}else{html.classList.remove('loading');html.classList.remove('first--load');window.addEventListener("load",function(){pageScripts();});} leksamouseCursor();function pageScripts(){leksaArchivePosts();leksaHeader();leksaFooter();shopScripts();} window.addEventListener("load",function(){ScrollTrigger.refresh();leksaSmoothscroll()});}(jQuery)); # FILE: ./ignore/jquery.js /*! jQuery Validation Plugin - v1.19.5 - 7/1/2022 * https://jqueryvalidation.org/ * Copyright (c) 2022 Jörn Zaefferer; Licensed MIT */ !function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.submitButton=b.currentTarget,a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(d=a("").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),!(c.settings.submitHandler&&!c.settings.debug)||(e=c.settings.submitHandler.call(c,c.currentForm,b),d&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b,b||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0],k="undefined"!=typeof this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=j&&(!j.form&&k&&(j.form=this.closest("form")[0],j.name=this.attr("name")),null!=j.form)){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(a,b){i[b]=f[b],delete f[b]}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g)),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}});var b=function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};a.extend(a.expr.pseudos||a.expr[":"],{blank:function(c){return!b(""+a(c).val())},filled:function(c){var d=a(c).val();return null!==d&&!!b(""+d)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||a.inArray(c.keyCode,d)!==-1||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c="undefined"!=typeof a(this).attr("contenteditable")&&"false"!==a(this).attr("contenteditable");if(!this.form&&c&&(this.form=a(this).closest("form")[0],this.name=a(this).attr("name")),d===this.form){var e=a.data(this.form,"validator"),f="on"+b.type.replace(/^validate/,""),g=e.settings;g[f]&&!a(this).is(g.ignore)&&g[f].call(e,this,b)}}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.currentForm,e=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){e[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))),e&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h))}),c=this.check(f)!==!1,h=h&&c,c?this.invalid[f.name]=!1:this.invalid[f.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)void 0!==a[b]&&null!==a[b]&&a[b]!==!1&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name"),e="undefined"!=typeof a(this).attr("contenteditable")&&"false"!==a(this).attr("contenteditable");return!d&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),e&&(this.form=a(this).closest("form")[0],this.name=d),this.form===b.currentForm&&(!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0))})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type,g="undefined"!=typeof e.attr("contenteditable")&&"false"!==e.attr("contenteditable");return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&"undefined"!=typeof b.validity?b.validity.badInput?"NaN":e.val():(c=g?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"),d>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c)):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f,g=a(b).rules(),h=a.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(b);"function"==typeof g.normalizer?f=g.normalizer:"function"==typeof this.settings.normalizer&&(f=this.settings.normalizer),f&&(j=f.call(b,j),delete g.normalizer);for(d in g){e={method:d,parameters:g[d]};try{if(c=a.validator.methods[d].call(this,j,b,e.parameters),"dependency-mismatch"===c&&1===h){i=!0;continue}if(i=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(k){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",k),k instanceof TypeError&&(k.message+=". Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),k}}if(!i)return this.objectLength(g)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;aWarning: No message defined for "+b.name+""),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),e=this.groups[b.name],e&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return void 0===a?"":a.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(a(this.currentForm).trigger("submit"),this.submitButton&&a("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a["date"===b?"dateISO":c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),""===d&&(d=!0),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(a,d){b[a]="function"==typeof d&&"normalizer"!==a?d(c):d}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var a;b[this]&&(Array.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(a=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(a[0]),Number(a[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:void 0!==b&&null!==b&&b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(a)},date:function(){var a=!1;return function(b,c){return a||(a=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(c)||!/Invalid|NaN/.test(new Date(b).toString())}}(),dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(a,b,c){var d=Array.isArray(a)?a.length:this.getLength(a,b);return this.optional(b)||d>=c},maxlength:function(a,b,c){var d=Array.isArray(a)?a.length:this.getLength(a,b);return this.optional(b)||d<=c},rangelength:function(a,b,c){var d=Array.isArray(a)?a.length:this.getLength(a,b);return this.optional(b)||d>=c[0]&&d<=c[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!==0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=a===!0||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var c,d={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,c){var e=a.port;"abort"===a.mode&&(d[e]&&d[e].abort(),d[e]=c)}):(c=a.ajax,a.ajax=function(b){var e=("mode"in b?b:a.ajaxSettings).mode,f=("port"in b?b:a.ajaxSettings).port;return"abort"===e?(d[f]&&d[f].abort(),d[f]=c.apply(this,arguments),d[f]):c.apply(this,arguments)}),a}); # FILE: ./extensions.py # extensions.py from flask_sqlalchemy import SQLAlchemy db = SQLAlchemy() # FILE: ./seed.py # seeder.py from app import db, process_tags import uuid import datetime from models import User, Shortcut, Tag, shortcut_tags import os from dotenv import load_dotenv load_dotenv() def clear_database(): """Function to clear all data from the database tables.""" with app.app_context(): try: # Drop all existing data from tables db.session.query(Shortcut).delete() db.session.query(Tag).delete() db.session.query(User).delete() db.session.commit() print("Database cleared successfully.") except Exception as e: db.session.rollback() print(f"Error clearing database: {e}") def seed_database(): # First clear the database clear_database() # Define the test user credentials test_username = 'test' test_email = 'test@test.com' test_password = 'test' with app.app_context(): # Check if the test user already exists test_user = User.query.filter_by(username=test_username).first() if not test_user: # Create the test user test_user = User(username=test_username, email=test_email) test_user.set_password(test_password) db.session.add(test_user) db.session.commit() print(f"Created test user: {test_username} with email: {test_email}") else: print(f"Test user '{test_username}' already exists.") # Original Sample Data shortcuts_data = [ { 'name': 'Google', 'link': 'https://www.google.com', 'tags': ['Search Engine', 'Tech > Internet'], 'emojis': '🔍', 'color_from': 'rgba(66, 133, 244, 1)', 'color_to': 'rgba(219, 68, 55, 1)', 'short_description': "The world's most popular search engine.", 'pinned': False, 'favorited': True, 'score': 9.5, 'date_added': datetime.datetime.utcnow(), 'date_updated': datetime.datetime.utcnow() }, { 'name': 'GitHub', 'link': 'https://github.com', 'tags': ['Development > Code Hosting', 'Tech'], 'emojis': '🐙', 'color_from': 'rgba(36, 41, 46, 1)', 'color_to': 'rgba(22, 27, 34, 1)', 'short_description': 'Where the world builds software.', 'pinned': True, 'favorited': False, 'score': 9.0, 'date_added': datetime.datetime.utcnow(), 'date_updated': datetime.datetime.utcnow() }, { 'name': 'Stack Overflow', 'link': 'https://stackoverflow.com', 'tags': ['Development > Q&A', 'Community'], 'emojis': '🖥️', 'color_from': 'rgba(244, 128, 36, 1)', 'color_to': 'rgba(244, 159, 10, 1)', 'short_description': 'A public platform for developers to learn and share knowledge.', 'pinned': False, 'favorited': True, 'score': 8.8, 'date_added': datetime.datetime.utcnow(), 'date_updated': datetime.datetime.utcnow() }, # Additional Items Provided by User { "id": "d6ebff0a-25b2-44c9-8898-aab122c1a4f9", "name": "xVault Toolkit - chat", "link": "https://chatgpt.com/share/6742cb4f-3404-8000-9ca4-d42c0acae0ed", "emojis": "👨🏻‍💻✍🏼", "color_from": "rgba(148, 71, 195, 1)", "color_to": "rgba(74, 28, 120, 1)", "short_description": "Has all dependencies information + improvement plan", "pinned": False, "favorited": True, "score": 8.2, "date_added": "2024-11-24T06:47:14.926698", "date_updated": "2024-11-24T06:47:14.926761", "tags": ["Development > Tools", "AI"] }, { "id": "ffda249b-3057-4129-a3d3-346433146a98", "name": "4k Image Generator", "link": "https://huggingface.co/spaces/charbel-malo/UltraPixel-demo", "emojis": "🌝🦋", "color_from": "rgba(251, 210, 31, 1)", "color_to": "rgba(252, 161, 3, 1)", "short_description": "UltraPixel Space - Needs GPU hardware switch", "pinned": False, "favorited": False, "score": 9.2, "date_added": "2024-11-24T07:07:20.366501", "date_updated": "2024-11-24T07:07:20.366560", "tags": ["Graphics", "AI"] }, { "id": "93aa19de-1a1b-4c67-bbb3-bdceeb4ebe02", "name": "Test", "link": "https://www.example.com", "emojis": "😎", "color_from": "rgba(255, 0, 0, 1)", "color_to": "rgba(0, 0, 0, 1)", "short_description": "asdda", "pinned": False, "favorited": True, "score": 3.0, "date_added": "2024-11-22T20:58:50.150567", "date_updated": "2024-11-22T20:58:50.150591", "tags": [] }, { "id": "71e4b458-f41f-4575-a7f7-c3afc3674467", "name": "GPT Links", "link": "https://chat.openai", "emojis": "😎😎", "color_from": "rgba(54, 98, 231, 1)", "color_to": "rgba(118, 140, 249, 1)", "short_description": "sadad", "pinned": False, "favorited": False, "score": 9.6, "date_added": "2024-11-22T20:59:48.141141", "date_updated": "2024-11-22T20:59:48.141168", "tags": [] }, { "id": "2c4056ae-9fd2-4c14-a900-85ac29e775f9", "name": "WEM Guidelines", "link": "https://example.com", "emojis": "🌈", "color_from": "rgba(102, 133, 204, 1)", "color_to": "rgba(32, 151, 46, 1)", "short_description": "Lorem", "pinned": False, "favorited": False, "score": 6.2, "date_added": "2024-11-22T23:17:54.152845", "date_updated": "2024-11-22T23:17:54.152870", "tags": [] }, { "id": "aafae719-9bdf-4c9d-ab1a-865cb220a99d", "name": "Realtime FLUX + Enhancer", "link": "https://huggingface.co/spaces/KingNish/Realtime-FLUX", "emojis": "🏎️💨", "color_from": "rgba(251, 210, 31, 1)", "color_to": "rgba(250, 156, 11, 1)", "short_description": "Very fast and enhancer seems useful", "pinned": False, "favorited": False, "score": 5.4, "date_added": "2024-11-23T00:28:32.457071", "date_updated": "2024-11-23T00:28:32.457128", "tags": [] }, { "id": "6c6985ab-5d89-4c0f-aa3a-91de0a6af2b4", "name": "UNPAUSE DimensionX", "link": "https://huggingface.co/spaces/charbel-malo/DimensionX/settings", "emojis": "🕷️", "color_from": "rgba(93, 39, 39, 1)", "color_to": "rgba(204, 133, 11, 1)", "short_description": "Fix gradio", "pinned": False, "favorited": False, "score": 8.8, "date_added": "2024-11-23T03:47:14.550457", "date_updated": "2024-11-23T03:47:14.550484", "tags": [] }, { "id": "1dfcbe50-650b-4f75-a993-70724b1ad706", "name": "UNPAUSE Pyramid Flow FLux", "link": "https://huggingface.co/spaces/charbel-malo/pyramid-vid/settings", "emojis": "🕷️", "color_from": "rgba(65, 26, 25, 1)", "color_to": "rgba(155, 99, 15, 1)", "short_description": "try stable diffusion xl", "pinned": False, "favorited": False, "score": 0.0, "date_added": "2024-11-23T03:48:40.349634", "date_updated": "2024-11-23T03:48:40.349690", "tags": [] }, { "id": "fff56715-cbb7-43ce-8bf4-60c46a9e8720", "name": "Serpentine Desire", "link": "https://www.youtube.com/watch?v=FKBMFxCfU7c&list=LL&index=10&t=1832s&ab_channel=AimToHeadMix", "emojis": "🔥🍆", "color_from": "rgba(252, 3, 3, 1)", "color_to": "rgba(255, 41, 198, 1)", "short_description": "Hottest playlist to ever exist", "pinned": False, "favorited": True, "score": 10.0, "date_added": "2024-11-23T22:11:30.032563", "date_updated": "2024-11-23T22:11:30.032607", "tags": [] }, { "id": "81b23b0a-83a5-4b9a-9326-47862bed7d5c", "name": "Updated App Chat", "link": "https://chatgpt.com/share/6742cb4f-3e50-8000-9e40-dd55849c16d8", "emojis": "🐥", "color_from": "rgba(255, 255, 255, 1)", "color_to": "rgba(255, 255, 255, 1)", "short_description": "lol", "pinned": False, "favorited": False, "score": 0.0, "date_added": "2024-11-24T11:39:04.719430", "date_updated": "2024-11-24T11:39:04.719435", "tags": [] } ] for data in shortcuts_data: # Process tags if any tags = process_tags(data['tags']) if 'tags' in data and data['tags'] else [] # Handle date fields if isinstance(data.get('date_added'), str): date_added = datetime.datetime.fromisoformat(data['date_added']) else: date_added = data.get('date_added', datetime.datetime.utcnow()) if isinstance(data.get('date_updated'), str): date_updated = datetime.datetime.fromisoformat(data['date_updated']) else: date_updated = data.get('date_updated', datetime.datetime.utcnow()) # Check if the shortcut already exists to prevent duplicates existing_shortcut = Shortcut.query.filter_by(id=data.get('id')).first() if existing_shortcut: print(f"Shortcut with ID {data.get('id')} already exists. Skipping.") continue # Create Shortcut instance shortcut = Shortcut( id=data.get('id', str(uuid.uuid4())), name=data['name'], link=data['link'], emojis=data.get('emojis', ''), color_from=data['color_from'], color_to=data['color_to'], short_description=data.get('short_description', ''), pinned=data.get('pinned', False), favorited=data.get('favorited', False), score=float(data.get('score', 0.0)), tags=tags, user_id=test_user.id, date_added=date_added, date_updated=date_updated ) db.session.add(shortcut) print(f"Added shortcut: {shortcut.name}") db.session.commit() print('Database seeded successfully.') if __name__ == '__main__': from app import app # Import the app instance with app.app_context(): seed_database() db.create_all() # Call the seeding function # Optionally, you can remove or comment out the following line # app.run(debug=True) # FILE: ./static/js/tailwind.config.js /** @type {import('tailwindcss').Config} */ module.exports = { darkMode: 'class', theme: { extend: { colors: { customBlue: '#6366F1', customGreen: '#ffffff', }, transitionDuration: { '300': '300ms', }, }, }, variants: { extend: { keyframes: { skeleton: { '0%': { backgroundPosition: '-200px 0' }, '100%': { backgroundPosition: 'calc(200px + 100%) 0' }, }, }, animation: { skeleton: 'skeleton 1.5s infinite linear', }, },}, plugins: [], }; # FILE: ./static/js/script.js document.addEventListener('DOMContentLoaded', () => { // Element references const searchInput = document.getElementById('searchInput'); const sortSelect = document.getElementById('sortSelect'); const selectedSort = document.getElementById('selectedSort'); const favoritedFirstCheckbox = document.getElementById('favoritedFirst'); const favFilterContainer = document.getElementById('favoritedFilterContainer'); const favoritedIcon = document.getElementById('favoritedIcon'); const favoritedText = document.getElementById('favoritedText'); const tagsToolbar = document.getElementById('tagsToolbar'); const linksGrid = document.getElementById('linksGrid'); const addLinkBtn = document.getElementById('addLinkBtn'); const linkModal = document.getElementById('linkModal'); const ContainerModal = document.getElementById('modal-container'); const closeModalBtn = document.getElementById('closeModal'); const linkForm = document.getElementById('linkForm'); let selectedTags = []; // Keep track of selected tags // Form fields const linkIdField = document.getElementById('linkId'); const linkNameField = document.getElementById('linkName'); const linkUrlField = document.getElementById('linkUrl'); const linkTagsField = document.getElementById('linkTags'); const linkEmojisField = document.getElementById('linkEmojis'); const colorFromField = document.getElementById('colorFrom'); const colorToField = document.getElementById('colorTo'); const shortDescriptionField = document.getElementById('shortDescription'); const scoreField = document.getElementById('score'); const pinnedField = document.getElementById('pinned'); const favoritedField = document.getElementById('favorited'); const saveLinkBtn = document.getElementById('saveLinkBtn'); let isCmdPressed = false; // Track if cmd/ctrl key is pressed // Sort dropdown functionality const sortButton = document.getElementById('sortButton'); const sortDropdown = document.getElementById('sortDropdown'); const sortsSelect = document.getElementById('sortSelect'); const linkTagsInput = document.getElementById('linkTags'); const tagsDropdown = document.getElementById('tagsDropdown'); // Event listener for linkTagsInput (Autocomplete) linkTagsInput.addEventListener('input', () => { const query = linkTagsInput.value.trim().split(/[,>]/).pop().trim(); if (query.length === 0) { tagsDropdown.classList.add('hidden'); return; } // Fetch existing tags from the server fetch(`/api/tags?search=${encodeURIComponent(query)}`) .then(response => response.json()) .then(tags => { renderTagsDropdown(tags); }); }); // Event listener to hide tagsDropdown when clicking outside document.addEventListener('click', (e) => { if (!linkTagsInput.contains(e.target) && !tagsDropdown.contains(e.target)) { tagsDropdown.classList.add('hidden'); } }); sortButton.addEventListener('click', (e) => { e.stopPropagation(); sortDropdown.classList.toggle('hidden'); }); document.querySelectorAll('.sort-option').forEach(option => { option.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); selectedSort.textContent = e.target.textContent; sortsSelect.value = e.target.dataset.value; sortDropdown.classList.add('hidden'); fetchShortcuts(); // Refresh the shortcuts based on new sort }); }); document.addEventListener('click', (e) => { if (!sortButton.contains(e.target) && !sortDropdown.contains(e.target)) { sortDropdown.classList.add('hidden'); } }); // Variables to keep track of active tags let activeTags = []; // Update fetchShortcuts to fetch tags with current filters function fetchShortcuts() { const searchQuery = searchInput.value.toLowerCase(); const selectedTags = activeTags.map(tag => tag.name); const searchParams = new URLSearchParams(); searchParams.set('search', searchQuery); searchParams.set('sort_by', sortSelect.value); searchParams.set('favorited_first', favoritedFirstCheckbox.checked); selectedTags.forEach(tag => searchParams.append('tags', tag)); fetch(`/api/shortcuts?${searchParams.toString()}`) .then(response => response.json()) .then(data => { displayShortcuts(data); // Fetch tags after fetching shortcuts fetchTags(searchParams); }); } // Modify fetchTags to accept searchParams function fetchTags(searchParams) { fetch(`/api/tags?${searchParams.toString()}`) .then(response => response.json()) .then(tags => { srenderTags(tags); }); } // Modify renderTags to implement hierarchical navigation function srenderTags(tagsData) { tagsToolbar.innerHTML = ''; function renderTagLevel(tags, level) { tags.forEach(tag => { const tagContainer = document.createElement('div'); tagContainer.classList.add('flex', 'flex-shrink-0'); const tagLabel = document.createElement('label'); tagLabel.classList.add('tag-label', 'cursor-pointer'); const tagSpan = document.createElement('span'); tagSpan.className = 'text-xs font-mono'; tagSpan.textContent = `${tag.name} (${tag.count})`; tagLabel.appendChild(tagSpan); tagContainer.appendChild(tagLabel); // Click event for the tag tagLabel.addEventListener('click', () => { if (activeTags[level] && activeTags[level].id === tag.id) { // Deselect current tag and remove deeper levels activeTags = activeTags.slice(0, level); } else { // Select new tag and update activeTags activeTags = activeTags.slice(0, level); activeTags[level] = tag; } fetchShortcuts(); srenderTags(tagsData); // Re-render tags }); tagsToolbar.appendChild(tagContainer); // If this tag is active, render children if (activeTags[level] && activeTags[level].id === tag.id) { // Add chevron const chevron = document.createElement('span'); chevron.textContent = ' > '; chevron.className = 'chevron'; tagsToolbar.appendChild(chevron); // Render child tags if (tag.children && tag.children.length > 0) { renderTagLevel(tag.children, level + 1); } } }); } // Start rendering from root level tags if (activeTags.length === 0) { renderTagLevel(tagsData, 0); } else { // Find the active path of tags let currentTags = tagsData; for (let i = 0; i < activeTags.length; i++) { const activeTag = activeTags[i]; renderTagLevel([activeTag], i); if (activeTag.children && activeTag.children.length > 0) { currentTags = activeTag.children; } else { currentTags = []; } } if (currentTags.length > 0) { renderTagLevel(currentTags, activeTags.length); } } } // Adjust event listeners to refetch tags when filters change searchInput.addEventListener('input', fetchShortcuts); // Display shortcuts in the grid function displayShortcuts(shortcuts) { // Clear the grid with a fade-out effect linksGrid.querySelectorAll('article').forEach(article => { article.classList.add('opacity-0', 'transition-all', 'duration-200'); setTimeout(() => { article.remove(); }, 200); }); // Delay adding new items to allow the fade-out to complete setTimeout(() => { shortcuts.forEach(shortcut => { // Create the
element const article = document.createElement('article'); const averageLuminance = calculateAverageLuminance(shortcut.color_from, shortcut.color_to); const textColor = 'text-white'; const overlayStrength = averageLuminance > 0.5 ? 'luminanceneg' : 'luminancepos' ; article.className = 'transition-all duration-200 opacity-1 '; // Create the link card container const linkCard = document.createElement('a'); linkCard.href = shortcut.link; linkCard.target = '_blank'; linkCard.setAttribute('aria-label', 'Visit ' + shortcut.name); linkCard.className = `link-card ${overlayStrength} relative h-48 z-0 mx-auto flex flex-col items-center justify-center bg-gradient-to-br p-4 filter overflow-hidden transition-all duration-200 h-40 rounded-lg`; linkCard.style.backgroundImage = `linear-gradient(to bottom right, ${shortcut.color_from}, ${shortcut.color_to})`; // Add gradient overlay const gradientOverlay = document.createElement('div'); gradientOverlay.className = averageLuminance < 0.9 ? 'absolute left-0 top-0 h-full w-full dark:highlight-white bg-gradient-to-br from-white/10 to-black/10' : 'absolute left-0 top-0 h-full w-full bg-gradient-to-b from-black/30 to-black/50'; linkCard.appendChild(gradientOverlay); // Status badge (e.g., "Shortcut") const statusBadgeContainer = document.createElement('div'); statusBadgeContainer.className = 'absolute hidden opacity-0 flex flex-wrap content-start gap-1 overflow-hidden top-3 text-xs transition-opacity duration-200'; const statusBadge = document.createElement('div'); statusBadge.className = `inline-flex cursor-pointer select-none items-center overflow-hidden font-mono rounded bg-white/30 leading-tight p-1 text-white opacity-100`; const statusBadgeContent = document.createElement('div'); // Get tags array and convert to hierarchy string const tags = shortcut.tags || []; const tagStrings = tags.map(tag => { const parts = tag.split('>').map(t => t.trim()); let result = ''; parts.forEach((part, index) => { if (index > 0) { result += ' > '; } result += part; }); return result; }); if(tags.length !== 0){ // Create span for each tag tagStrings.forEach(tag => { const tagSpan = document.createElement('span'); tagSpan.className = 'inline-flex items-center px-1 py-0'; tagSpan.textContent = tag; statusBadge.appendChild(tagSpan); // Add separator between tags if (tagStrings.indexOf(tag) < tagStrings.length - 1) { const separator = document.createElement('span'); separator.className = 'px-0.5'; separator.textContent = '•'; statusBadge.appendChild(separator); } }); statusBadgeContainer.appendChild(statusBadge); linkCard.appendChild(statusBadgeContainer); } const iconContainer = document.createElement('div'); iconContainer.className = 'absolute hidden opacity-0 flex px-1 items-center rounded-xl top-2.5 right-4 text-xs cursor-pointer select-none items-center overflow-hidden font-mono rounded bg-white/20 text-white transition-opacity duration-200'; // Icon and count container (e.g., score) if (shortcut.score !== undefined && shortcut.score !== null && shortcut.score !== 0) { const icon = document.createElement('i'); icon.className = 'fa fa-xs fa-star text-white mr-1'; iconContainer.appendChild(icon); const countSpan = document.createElement('span'); countSpan.className = 'text-white font-bold text-xs '; countSpan.textContent = shortcut.score; iconContainer.appendChild(countSpan); linkCard.appendChild(iconContainer); } // Emoji overlay container const emojiContainer = document.createElement('div'); emojiContainer.className = 'absolute text-center flex items-center justify-center -mt-1 opacity-50 transition-opacity duration-200'; emojiContainer.style.height = '60px'; emojiContainer.style.width = '-webkit-fill-available'; // Blurred emoji background const blurContainer = document.createElement('div'); blurContainer.style.position = 'absolute'; blurContainer.style.height = '0'; blurContainer.style.width = '0px'; const blurredEmoji = document.createElement('div'); blurredEmoji.className = 'emoji inline absolute opacity-100 blur-100 text-6xl mb-1 transition-transform duration-200'; blurredEmoji.style.mixBlendMode = 'normal'; blurredEmoji.style.filter = 'blur(35px)'; blurredEmoji.textContent = shortcut.emojis || '🔗'; blurContainer.appendChild(blurredEmoji); // Main emoji const emojiSpan = document.createElement('div'); emojiSpan.className = 'emoji inline absolute text-7xl mb-1 transition-transform duration-200'; emojiSpan.textContent = shortcut.emojis || '🔗'; // Assemble the structure emojiContainer.appendChild(blurredEmoji); emojiContainer.appendChild(emojiSpan); linkCard.appendChild(emojiContainer); // Card Title (name) const nameDiv = document.createElement('h4'); nameDiv.className = `card-title z-40 overflow-visible p-5 py-8 max-w-full truncate text-center font-bold ${textColor} text-2xl transition-transform duration-200`; nameDiv.style.textShadow = '0px 3px 40px rgba(0, 0, 0, 0.8)'; nameDiv.textContent = shortcut.name; linkCard.appendChild(nameDiv); const descriptionDiv = document.createElement('div'); const descriptionText = document.createElement('p'); const descriptionSpan = document.createElement('span'); // Short description (if present) if (shortcut.short_description) { const svgDecor = `Icon` descriptionDiv.innerHTML= svgDecor; descriptionText.className = `bg-black/15 transition-all duration-200 leading-tight `; descriptionSpan.className = `truncate break-words py-0.5 text-white/80 pr-2 text-[0.78rem] -ml-1 transition-opacity duration-200`; descriptionSpan.textContent = shortcut.short_description; descriptionText.appendChild(descriptionSpan); descriptionDiv.appendChild(descriptionText); descriptionDiv.className = 'absolute bottom-0 right-0 z-40 flex max-w-[83%] items-center'; linkCard.appendChild(descriptionDiv); } const iconsContainer = document.createElement('span'); iconsContainer.classList.add('shortcut-icons-container', 'flex', 'gap-2', 'absolute', 'top-2', 'left-2', 'opacity-100', 'transition-opacity', 'text-lg', 'duration-200'); if (shortcut.pinned) { const pinnedIcon = document.createElement('i'); pinnedIcon.className = 'favorited-icon fa fa-solid drop-shadow-md fa-bookmark text-white cursor-pointer hover:text-indigo-100 transition-opacity duration-200'; iconsContainer.appendChild(pinnedIcon); } if (!shortcut.pinned) { const pinnedIcon = document.createElement('i'); pinnedIcon.className = 'favorited-icon fa fa-solid drop-shadow-md opacity-0 absolute fa-bookmark-o text-white cursor-pointer hover:text-indigo-100 transition-opacity duration-200'; iconsContainer.appendChild(pinnedIcon); } if (shortcut.favorited) { const favoritedIcon = document.createElement('i'); favoritedIcon.className = 'favorited-icon fa fa-solid drop-shadow-md fa-heart text-white cursor-pointer hover:text-indigo-100 transition-opacity duration-200'; iconsContainer.appendChild(favoritedIcon); } if (!shortcut.favorited) { const favoritedIcon = document.createElement('i'); favoritedIcon.className = 'favorited-icon fa fa-solid drop-shadow-md opacity-0 absolute fa-heart-o text-white cursor-pointer hover:text-indigo-100 transition-opacity duration-200'; iconsContainer.appendChild(favoritedIcon); } // Trash icon for deletion const ActionIconsWR = document.createElement('span'); const trashIcon = document.createElement('i'); const editIcon = document.createElement('i'); ActionIconsWR.classList.add('action-items-container', 'absolute', 'bottom-2', 'left-2', 'opacity-0', 'transition-opacity', 'text-lg', 'duration-200'); trashIcon.className = 'trash-icon fa fa-solid drop-shadow-md fa-trash text-white/80 cursor-pointer hover:text-white/100 transition-opacity duration-200'; editIcon.className = 'ml-2 edit-icon fa fa-solid drop-shadow-md fa-pencil text-white/80 cursor-pointer hover:text-white/100 transition-opacity duration-200'; ActionIconsWR.appendChild(trashIcon); ActionIconsWR.appendChild(editIcon); linkCard.appendChild(iconsContainer); linkCard.appendChild(ActionIconsWR); // Event listener for hover linkCard.addEventListener('mouseenter', () => { if (isCmdPressed) { ActionIconsWR.classList.remove('opacity-0'); } statusBadgeContainer.classList.remove('hidden'); iconContainer.classList.remove('hidden'); iconContainer.classList.remove('opacity-0'); statusBadgeContainer.classList.remove('opacity-0'); descriptionSpan.classList.remove('text-white/80'); descriptionSpan.classList.add('text-white'); iconContainer.classList.add('opacity-80'); statusBadgeContainer.classList.add('opacity-100'); emojiContainer.classList.add('opacity-100'); emojiSpan.classList.remove('opacity-40'); emojiSpan.classList.add('opacity-100'); }); linkCard.addEventListener('mouseleave', () => { if (isCmdPressed) { trashIcon.classList.add('opacity-0'); } iconContainer.classList.add('opacity-0'); statusBadgeContainer.classList.add('opacity-0'); iconContainer.classList.remove('opacity-80'); statusBadgeContainer.classList.remove('opacity-100'); descriptionSpan.classList.add('text-white/80'); descriptionSpan.classList.remove('text-white'); emojiContainer.classList.remove('opacity-100'); setTimeout(() => { statusBadgeContainer.classList.add('hidden'); iconContainer.classList.add('hidden'); }, 200); }); // Update trash icon visibility on keydown and keyup window.addEventListener('keydown', (e) => { if (e.metaKey || e.ctrlKey) { isCmdPressed = true; if (linkCard.matches(':hover')) { trashIcon.classList.remove('opacity-0'); editIcon.classList.remove('opacity-0'); } } }); window.addEventListener('keyup', (e) => { if (!e.metaKey && !e.ctrlKey) { isCmdPressed = false; trashIcon.classList.add('opacity-0'); editIcon.classList.add('opacity-0'); } }); trashIcon.addEventListener('click', (e) => { // e.preventDefault(); deleteShortcut(shortcut.id); }); // Click event for emoji animation and navigation linkCard.addEventListener('click', (event) => { event.preventDefault(); // Prevent immediate navigation if (event.target.closest('.action-items-container')) return; if (event.target.closest('.shortcut-icons-container')) return; const emojis = linkCard.querySelectorAll('.emoji')[0].innerHTML; // console.log(emojis); // const emojiArray = emojis.split(''); // Split emojis into an array const splitEmoji = (string) => [...new Intl.Segmenter().segment(string)].map(x => x.segment) // console.log(splitEmoji(emojis)); const count = 8; for (let i = 0; i < count; i++) { const x = event.pageX; const y = event.pageY; createEmoji(x, y, splitEmoji(emojis)); } // Navigate to the link after a short delay setTimeout(() => { window.open(shortcut.link, '_blank'); }, 500); // Adjust delay as needed }); // Append the linkCard to the article article.appendChild(linkCard); // Card footer const footer = document.createElement('header'); footer.className = 'mt-1 flex items-center overflow-hidden'; // Extract domain from URL const domain = extractDomain(shortcut.link); // Domain display const domainLi = document.createElement('li'); domainLi.className = 'group relative flex items-center whitespace-nowrap'; const domainSpan = document.createElement('span'); domainSpan.className = 'flex items-center gap-1 text-indigo-900 dark:text-blue-50 text-xs font-mono mt-1'; const favIconWrapper = document.createElement('span'); favIconWrapper.className = ' rounded m-1'; // Create the favicon image // Create the favicon image const faviconImg = document.createElement('img'); faviconImg.classList.add( 'w-5', 'h-5', 'p-0.5', 'bg-gray-300', 'dark:bg-gray-700', 'rounded', 'skeleton-loading', // 'bg-[length:200px_100%]', // 'bg-left' ); // Handle image loading faviconImg.onload = () => { // Remove skeleton classes after image loads faviconImg.classList.remove( 'bg-gray-300', 'dark:bg-gray-700', 'skeleton-loading', // 'bg-gradient-to-r', // 'from-gray-300', // 'to-gray-400', // 'bg-[length:200px_100%]', // 'bg-left' ); }; // Determine theme preference const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches; const theme = isDarkMode ? 'dark' : 'light'; faviconImg.src = `/get_favicon?domain=${encodeURIComponent(domain)}&theme=${theme}`; // Create the domain text const domainText = document.createElement('span'); domainText.textContent = domain; // Append the favicon and text to the span favIconWrapper.appendChild(faviconImg); domainSpan.appendChild(favIconWrapper); domainSpan.appendChild(domainText); // Append the span to the list item domainLi.appendChild(domainSpan); footer.appendChild(domainLi); // Append the footer to the article article.appendChild(footer); // Append the article to the grid linksGrid.appendChild(article); // Trigger reflow to enable the transition void article.offsetWidth; // Remove opacity-0 to start fade-in effect article.classList.remove('opacity-0'); }); }, 200); // Match this delay with the duration of fade-out } // Helper function to extract domain from URL function extractDomain(url) { try { const hostname = new URL(url).hostname; return hostname.replace('www.', ''); } catch (e) { return url; } } function createEmoji(x, y, emojiArray) { const gravity = 0; const friction = 0.99; // Create multiple ripples with stagger for (let i = 0; i < 3; i++) { const ripple = document.createElement('div'); ripple.style.position = 'absolute'; ripple.style.left = x + 'px'; ripple.style.top = y + 'px'; ripple.style.width = '0px'; ripple.style.height = '0px'; ripple.style.opacity = '0'; ripple.style.border = '2px solid rgba(255,255,255,'+0.05*(i/3)+')'; ripple.style.borderRadius = '50%'; ripple.style.transform = 'translate(-50%, -50%)'; ripple.style.animation = `ripple 0.5s cubic-bezier(0.4, 0, 0.2, 1) ${i * 0.1}s`; document.body.appendChild(ripple); ripple.style.width = '50px'; ripple.style.height = '50px'; // Remove ripple after animation setTimeout(() => ripple.remove(), 500 + (i * 100)); } // Create emojis with stagger for (let i = 0; i < emojiArray.length; i++) { setTimeout(() => { const emojiElement = document.createElement('span'); emojiElement.innerText = emojiArray[i]; emojiElement.style.position = 'absolute'; emojiElement.style.fontSize = '48px'; emojiElement.style.transition = 'opacity 0.5s ease-out, transform 0.5s ease-out'; emojiElement.style.pointerEvents = 'none'; // document.body.appendChild(emojiElement); let scale = Math.random() * 0.7 + 0.3; let rotation = Math.random() * 360; let opacity = 1; let velX = (Math.random() - 0.5) * 40; let velY = (Math.random() - 0.5) * 40; function update() { velY += gravity; velX *= friction; velY *= friction; x += velX; y += velY; scale -= 0.03; rotation += 5; opacity -= 0.03; emojiElement.style.transform = `translate(${x}px, ${y}px) scale(${scale}) rotate(${rotation}deg)`; emojiElement.style.opacity = opacity; if (opacity > 0) { requestAnimationFrame(update); } else { emojiElement.remove(); } } update(); }, i * 10); // 10ms stagger between each emoji } // Add keyframe animation for ripple effect if (!document.querySelector('#rippleAnimation')) { const style = document.createElement('style'); style.id = 'rippleAnimation'; style.textContent = ` @keyframes ripple { 0% { transform: translate(-50%, -50%) scale(0); opacity: 0; } 5% { opacity: 1; } 100% { transform: translate(-50%, -50%) scale(3); opacity: 0; } } `; document.head.appendChild(style); } } function fetchTags() { fetch('/api/tags') .then(response => response.json()) .then(tags => { srenderTags(tags); }); } function renderTags(tagsData) { tagsToolbar.innerHTML = ''; tagsData.forEach(tag => { const tagContainer = document.createElement('div'); tagContainer.classList.add('flex', 'flex-shrink-0'); const tagLabel = document.createElement('label'); tagLabel.classList.add('flex', 'bg-gradient-to-br', 'hover:opacity-100', 'rounded-lg', 'from-gray-300', 'to-transparent', 'items-center', 'gap-1', 'px-2', 'py-2', 'cursor-pointer', 'transition-all', 'duration-200'); const checkbox = document.createElement('input'); checkbox.type = 'checkbox'; checkbox.classList.add('hidden'); checkbox.value = tag.name; checkbox.checked = selectedTags.includes(tag.name); checkbox.addEventListener('change', () => { if (checkbox.checked) { tagLabel.classList.remove('opacity-30'); selectedTags.push(tag.name); } else { selectedTags = selectedTags.filter(t => t !== tag.name); tagLabel.classList.add('opacity-30'); } fetchShortcuts(); srenderTags(tagsData); }); if (checkbox.checked) { tagLabel.classList.add('bg-gradient-to-br', 'from-blue-500', 'to-blue-900', 'text-white'); tagLabel.classList.remove('opacity-30'); } else { tagLabel.classList.add('dark:from-gray-800', 'dark:text-white'); } const tagSpan = document.createElement('span'); tagSpan.className = 'text-xs font-mono cursor-pointer'; tagSpan.textContent = `${tag.name} `; const tagCount = document.createElement('span'); tagCount.className = 'px-2 items-center rounded-xl text-xs text-gray-100 font-bold inline-flex cursor-pointer select-none items-center overflow-hidden font-mono rounded bg-white/10 leading-tight opacity-80 hover:opacity-30 transition-opacity duration-200'; tagCount.textContent = `${tag.count} `; tagLabel.appendChild(checkbox); tagLabel.appendChild(tagSpan); tagLabel.appendChild(tagCount); tagContainer.appendChild(tagLabel); tagsToolbar.appendChild(tagContainer); }); } function renderTagsDropdown(tags) { tagsDropdown.innerHTML = ''; if (tags.length === 0) { tagsDropdown.classList.add('hidden'); return; } tags.forEach(tag => { const tagOption = document.createElement('div'); tagOption.className = 'px-4 py-2 cursor-pointer hover:bg-gray-100'; tagOption.textContent = tag.name; tagOption.addEventListener('click', () => { let currentTags = linkTagsInput.value.split(/[,>]/).map(t => t.trim()); currentTags[currentTags.length - 1] = tag.name; linkTagsInput.value = currentTags.join(', '); tagsDropdown.classList.add('hidden'); linkTagsInput.focus(); }); tagsDropdown.appendChild(tagOption); }); tagsDropdown.classList.remove('hidden'); } // Event listener for cmd/ctrl key window.addEventListener('keydown', (e) => { if (e.metaKey || e.ctrlKey) { isCmdPressed = true; // Show trash icons on currently hovered cards document.querySelectorAll('.link-card:hover .actions-items-contaienr').forEach(icon => { icon.classList.remove('opacity-0'); }); } }); window.addEventListener('keyup', (e) => { if (!e.metaKey && !e.ctrlKey) { isCmdPressed = false; // Hide all trash icons document.querySelectorAll(' .actions-items-contaienr').forEach(icon => { icon.classList.add('opacity-0'); }); } }); // Toggle favorite status using the icon favFilterContainer.addEventListener('click', (e) => { e.preventDefault(); favoritedFirstCheckbox.checked = !favoritedFirstCheckbox.checked; if (favoritedFirstCheckbox.checked) { favoritedIcon.classList.remove('fa-heart-o', 'text-indigo-700'); favoritedIcon.classList.add('fa-heart', 'text-white'); favFilterContainer.classList.add('dark:from-red-600'); favFilterContainer.classList.add('dark:to-red-400'); favoritedText.classList.remove('dark:from-indigo-950'); // favFilterContainer.classList.remove('bg-gradient-to-br', 'from-red-100', 'to-white', 'dark:from-red-50', 'dark:to-red-100'); favoritedText.classList.remove('text-indigo-700'); favoritedText.classList.add('text-white'); } else { favoritedIcon.classList.remove('fa-heart', 'text-white'); favoritedIcon.classList.add('fa-heart-o', 'text-red-700'); favFilterContainer.classList.remove('bg-red-500'); // favFilterContainer.classList.add('bg-gradient-to-br', 'from-red-100', 'to-white', 'dark:from-red-50', 'dark:to-red-100'); favoritedText.classList.remove('text-white'); favoritedText.classList.add('text-red-700'); } fetchShortcuts(); }); // Open modal for adding/editing addLinkBtn.addEventListener('click', () => openModal('Add Link Shortcut')); // Close modal closeModalBtn.addEventListener('click', closeModal); window.addEventListener('click', (event) => { if (event.target === ContainerModal) { closeModal(); } }); linkForm.addEventListener('submit', (event) => { event.preventDefault(); const id = linkIdField.value; const shortcut = { name: linkNameField.value.trim(), link: linkUrlField.value.trim(), tags: linkTagsField.value.trim().split(',').map(tag => tag.trim()).filter(tag => tag), emojis: linkEmojisField.value.trim(), color_from: hexToRgba(colorFromField.value), color_to: hexToRgba(colorToField.value), short_description: shortDescriptionField.value.trim(), score: parseFloat(scoreField.value) || 0.0, pinned: pinnedField.checked, favorited: favoritedField.checked }; const url = id ? `/api/shortcuts/${id}` : '/api/shortcuts'; const method = id ? 'PUT' : 'POST'; fetch(url, { method, headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(shortcut) }) .then(response => { if (response.ok) { closeModal(); fetchShortcuts(); } else { console.error('Failed to save shortcut'); } }) .catch(error => console.error('Error saving shortcut:', error)); }); // Delete shortcut function deleteShortcut(id) { if (confirm('Are you sure you want to delete this link shortcut?')) { fetch(`/api/shortcuts/${id}`, { method: 'DELETE' }) .then(response => { if (response.ok) { fetchShortcuts(); } else { console.error('Failed to delete shortcut'); } }) .catch(error => console.error('Error deleting shortcut:', error)); } } function getImageLuminance(img) { const canvas = document.createElement('canvas'); const context = canvas.getContext('2d'); canvas.width = img.width; canvas.height = img.height; context.drawImage(img, 0, 0, img.width, img.height); const imageData = context.getImageData(0, 0, img.width, img.height).data; let totalLuminance = 0; let pixelCount = 0; for (let i = 0; i < imageData.length; i += 4) { const r = imageData[i]; const g = imageData[i + 1]; const b = imageData[i + 2]; const luminance = 0.299 * r + 0.587 * g + 0.114 * b; totalLuminance += luminance; pixelCount++; } return (totalLuminance / pixelCount) / 255; } // Convert HEX to RGBA function hexToRgba(hex) { const bigint = parseInt(hex.slice(1), 16); const r = (bigint >> 16) & 255; const g = (bigint >> 8) & 255; const b = bigint & 255; return `rgba(${r}, ${g}, ${b}, 1)`; } // Close modal function function closeModal() { ContainerModal.classList.add('hidden'); } // Open modal function function openModal(title, shortcut = null) { document.getElementById('modalTitle').textContent = title; linkForm.reset(); if (shortcut) { linkIdField.value = shortcut.id; linkNameField.value = shortcut.name; linkUrlField.value = shortcut.link; linkTagsField.value = shortcut.tags.join(', '); linkEmojisField.value = shortcut.emojis; colorFromField.value = rgbToHex(shortcut.color_from); colorToField.value = rgbToHex(shortcut.color_to); shortDescriptionField.value = shortcut.short_description; scoreField.value = shortcut.score; pinnedField.checked = shortcut.pinned; favoritedField.checked = shortcut.favorited; } else { linkIdField.value = ''; } ContainerModal.classList.remove('hidden'); } // Function to calculate average luminance of two colors function calculateAverageLuminance(color1, color2) { const luminance1 = getLuminance(color1); const luminance2 = getLuminance(color2); return (luminance1 + luminance2) / 2; } // Function to calculate luminance of a color function getLuminance(rgba) { const rgb = rgba.replace(/^rgba?\(|\s+|\)$/g, '').split(','); const r = parseInt(rgb[0]) / 255; const g = parseInt(rgb[1]) / 255; const b = parseInt(rgb[2]) / 255; // Use the luminance formula return 0.299 * r + 0.587 * g + 0.114 * b; } // Convert RGBA to HEX function rgbToHex(rgba) { const rgb = rgba.replace(/^rgba?\(|\s+|\)$/g, '').split(','); return `#${((1 << 24) + (parseInt(rgb[0]) << 16) + (parseInt(rgb[1]) << 8) + parseInt(rgb[2])).toString(16).slice(1)}`; } // Event listeners searchInput.addEventListener('input', fetchShortcuts); // selectedSort.addEventListener('click', fetchShortcuts); // Fetch initial data fetchShortcuts(); fetchTags(); // Enable dragging to scroll on tagsToolbar let isDragging = false; let startX; let scrollLeft; tagsToolbar.addEventListener('mousedown', (e) => { isDragging = true; tagsToolbar.classList.add('dragging'); startX = e.pageX - tagsToolbar.offsetLeft; scrollLeft = tagsToolbar.scrollLeft; }); tagsToolbar.addEventListener('mouseleave', () => { isDragging = false; tagsToolbar.classList.remove('dragging'); }); tagsToolbar.addEventListener('mouseup', () => { isDragging = false; tagsToolbar.classList.remove('dragging'); }); tagsToolbar.addEventListener('mousemove', (e) => { if (!isDragging) return; e.preventDefault(); const x = e.pageX - tagsToolbar.offsetLeft; const walk = (x - startX) * 1; // Adjust scroll speed tagsToolbar.scrollLeft = scrollLeft - walk; }); // Fetch and render tags fetch('/api/tags') .then(response => response.json()) .then(data => { srenderTags(data); }) .catch(error => { console.error('Error fetching tags:', error); }); }); # FILE: ./app.py from flask import Flask, render_template, request, jsonify, send_from_directory, send_file, redirect, url_for, flash from flask_cors import CORS from flask_sqlalchemy import SQLAlchemy from flask_login import LoginManager, login_required, current_user, login_user, logout_user from sqlalchemy import func from datetime import datetime import uuid import os import requests from extensions import db from io import BytesIO from dotenv import load_dotenv from flask_caching import Cache from models import User, Shortcut, Tag, shortcut_tag load_dotenv() app = Flask(__name__) CORS(app) app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///shortcuts.db' app.config["CACHE_DEFAULT_TIMEOUT"] = 300 app.secret_key = os.getenv('SECRET_KEY') if not app.secret_key: raise ValueError("No SECRET_KEY set for Flask application") db.init_app(app) app.config['CACHE_TYPE'] = 'simple' app.config['CACHE_DEFAULT_TIMEOUT'] = 86400 # Cache timeout in seconds (e.g., 1 day) cache = Cache(app) from models import User, Shortcut, Tag login_manager = LoginManager() login_manager.init_app(app) login_manager.login_view = 'login' @login_manager.user_loader def load_user(user_id): return User.query.get(int(user_id)) @app.route('/') @login_required def index(): return render_template('index.html') @app.route('/get_favicon') def get_favicon(): domain = request.args.get('domain') theme = request.args.get('theme', 'light') cache_key = f"favicon_{domain}_{theme}" cached_favicon = cache.get(cache_key) if cached_favicon: cached_content, cached_mimetype = cached_favicon return send_file(BytesIO(cached_content), mimetype=cached_mimetype) favicon_paths_dark = [ '/favicon-dark.svg', '/favicon-dark.ico', '/favicon-dark.png', '/favicons/favicon-dark.svg', '/favicons/favicon-dark.png', '/favicon.ico', '/s/desktop/ef2da63d/img/logos/favicon_96x96.png', ] favicon_paths_light = [ '/favicon.svg', '/favicon.ico', '/favicon.png', '/favicons/favicon.svg', '/favicons/favicon.png', '/favicon.ico', '/s/desktop/ef2da63d/img/logos/favicon_96x96.png', ] paths = favicon_paths_dark + favicon_paths_light if theme == 'dark' else favicon_paths_light for path in paths: url = f"https://{domain}{path}" try: response = requests.get(url, timeout=2) if response.status_code == 200: cache.set(cache_key, (response.content, response.headers.get('Content-Type', 'image/x-icon'))) return send_file(BytesIO(response.content), mimetype=response.headers.get('Content-Type', 'image/x-icon')) except requests.RequestException: continue #set cache as local asset 'static/default', 'favicon.png' with open(os.path.join('static', 'default', 'favicon.png'), 'rb') as f: cache.set(cache_key, (f.read(), 'image/png')) return send_from_directory('static/default', 'favicon.png') @app.route('/api/tags', methods=['GET']) @login_required def get_tags(): search_query = request.args.get('search', '').lower() active_tags = request.args.getlist('tags') # Start with the root tags if no active tags if not active_tags: tags = Tag.query.filter_by(parent=None).all() else: # Get the last active tag to fetch its children last_active_tag_name = active_tags[-1] last_active_tag = Tag.query.filter_by(name=last_active_tag_name).first() tags = last_active_tag.children.all() if last_active_tag else [] # Build tags data with counts tags_data = [] for tag in tags: count_query = db.session.query(func.count(Shortcut.id)).join(shortcut_tag).join(Tag).filter( Shortcut.user_id == current_user.id, Tag.id == tag.id ) # Apply search query if present if search_query: count_query = count_query.filter( (Shortcut.name.ilike(f'%{search_query}%')) | (Shortcut.link.ilike(f'%{search_query}%')) | (Shortcut.short_description.ilike(f'%{search_query}%')) ) count = count_query.scalar() tags_data.append({ 'id': tag.id, 'name': tag.name, 'count': count }) return jsonify(tags_data), 200 @app.route('/api/shortcuts', methods=['GET']) @login_required def get_shortcuts(): search_query = request.args.get('search', '').lower() sort_by = request.args.get('sort_by', 'date_added') filter_tags = request.args.getlist('tags') favorited_first = request.args.get('favorited_first', 'false').lower() == 'true' shortcuts_query = Shortcut.query.filter_by(user_id=current_user.id) if search_query: shortcuts_query = shortcuts_query.filter( (Shortcut.name.ilike(f'%{search_query}%')) | (Shortcut.link.ilike(f'%{search_query}%')) | (Shortcut.short_description.ilike(f'%{search_query}%')) ) if filter_tags: selected_tags = Tag.query.filter(Tag.name.in_(filter_tags)).all() tag_ids = set() def get_all_descendant_tag_ids(tag): tag_ids.add(tag.id) for child in tag.children: get_all_descendant_tag_ids(child) for tag in selected_tags: get_all_descendant_tag_ids(tag) shortcuts_query = shortcuts_query.join(Shortcut.tags).filter(Tag.id.in_(tag_ids)) if favorited_first: shortcuts_query = shortcuts_query.order_by(Shortcut.favorited.desc()) if sort_by == 'alphabetical': shortcuts_query = shortcuts_query.order_by(Shortcut.name) elif sort_by == 'date_updated': shortcuts_query = shortcuts_query.order_by(Shortcut.date_updated.desc()) elif sort_by == 'score': shortcuts_query = shortcuts_query.order_by(Shortcut.score.desc()) elif sort_by == 'date_added': shortcuts_query = shortcuts_query.order_by(Shortcut.date_added.desc()) else: shortcuts_query = shortcuts_query.order_by(Shortcut.date_added.desc()) shortcuts = shortcuts_query.all() pinned = [s for s in shortcuts if s.pinned] not_pinned = [s for s in shortcuts if not s.pinned] shortcuts = pinned + not_pinned shortcuts_list = [] for shortcut in shortcuts: shortcut_dict = { 'id': shortcut.id, 'name': shortcut.name, 'link': shortcut.link, 'emojis': shortcut.emojis, 'color_from': shortcut.color_from, 'color_to': shortcut.color_to, 'short_description': shortcut.short_description, 'pinned': shortcut.pinned, 'favorited': shortcut.favorited, 'score': shortcut.score, 'tags': [tag.name for tag in shortcut.tags], 'date_added': shortcut.date_added.isoformat() if shortcut.date_added else None, 'date_updated': shortcut.date_updated.isoformat() if shortcut.date_updated else None } shortcuts_list.append(shortcut_dict) return jsonify(shortcuts_list), 200 @app.route('/api/shortcuts/', methods=['PUT']) @login_required def update_shortcut(shortcut_id): data = request.get_json() shortcut = Shortcut.query.filter_by(id=shortcut_id, user_id=current_user.id).first() if not shortcut: return jsonify({'message': 'Shortcut not found.'}), 404 for key in ['name', 'link', 'emojis', 'color_from', 'color_to', 'short_description', 'pinned', 'favorited', 'score']: if key in data: setattr(shortcut, key, data[key]) if 'tags' in data: tags = process_tags(data['tags']) shortcut.tags = tags shortcut.date_updated = datetime.utcnow() db.session.commit() return jsonify({'message': 'Shortcut updated successfully.'}), 200 @app.route('/api/shortcuts/', methods=['DELETE']) @login_required def delete_shortcut(shortcut_id): shortcut = Shortcut.query.filter_by(id=shortcut_id, user_id=current_user.id).first() if not shortcut: return jsonify({'message': 'Shortcut not found.'}), 404 db.session.delete(shortcut) db.session.commit() return jsonify({'message': 'Shortcut deleted successfully.'}), 200 @app.route('/api/shortcuts', methods=['POST']) @login_required def add_shortcut(): data = request.get_json() required_fields = ['name', 'link', 'tags', 'emojis', 'color_from', 'color_to', 'short_description'] if not all(field in data and data[field] for field in required_fields): return jsonify({'message': 'Missing required fields.'}), 400 tags = process_tags(data['tags']) shortcut = Shortcut( id=str(uuid.uuid4()), name=data['name'], link=data['link'], emojis=data['emojis'], color_from=data['color_from'], color_to=data['color_to'], short_description=data['short_description'], pinned=data.get('pinned', False), favorited=data.get('favorited', False), score=float(data.get('score', 0.0)), user_id=current_user.id, tags=tags, date_added=datetime.utcnow(), date_updated=datetime.utcnow() ) db.session.add(shortcut) db.session.commit() return jsonify({'message': 'Shortcut added successfully.'}), 201 @app.route('/register', methods=['GET', 'POST']) def register(): if request.method == 'POST': username = request.form['username'] email = request.form['email'] password = request.form['password'] user = User(username=username, email=email) user.set_password(password) db.session.add(user) db.session.commit() return redirect(url_for('login')) return render_template('register.html') @app.route('/login', methods=['GET', 'POST']) def login(): if request.method == 'POST': email = request.form['email'] password = request.form['password'] user = User.query.filter_by(email=email).first() if user and user.check_password(password): login_user(user) return redirect(url_for('index')) else: flash('Invalid email or password') return render_template('login.html') @app.route('/logout') @login_required def logout(): logout_user() return redirect(url_for('login')) def process_tags(tag_strings): tags = [] for tag_string in tag_strings: hierarchy = [t.strip() for t in tag_string.split('>') if t.strip()] parent = None for tag_name in hierarchy: tag = Tag.query.filter_by(name=tag_name, parent=parent).first() if not tag: tag = Tag(name=tag_name, parent=parent) db.session.add(tag) db.session.flush() parent = tag tags.append(parent) return tags @app.route('/static/') def custom_static(filename): return send_from_directory('static', filename) if __name__ == '__main__': with app.app_context(): db.create_all() app.run(debug=True) # FILE: ./templates/index.html
Xvault Logo
Xvault Logo
LinkMaster XS
Manage Thousand of Website URLs the easy way!

Add New Link
or
Learn more about Spaces
# FILE: ./templates/register.html
Username
 
Email
 
Password
 Register
# FILE: ./templates/login.html
Email
 
Password
 Login
# FILE: ./exportdb.py import json from app import db, Shortcut, Tag from sqlalchemy.orm import joinedload def export_shortcuts_to_json(filename='shortcuts_export.json'): # Query all shortcuts with their associated tags shortcuts = Shortcut.query.options(joinedload(Shortcut.tags)).all() # Prepare data for JSON serialization data = [] for shortcut in shortcuts: shortcut_data = { 'id': shortcut.id, 'name': shortcut.name, 'link': shortcut.link, 'emojis': shortcut.emojis, 'color_from': shortcut.color_from, 'color_to': shortcut.color_to, 'short_description': shortcut.short_description, 'pinned': shortcut.pinned, 'favorited': shortcut.favorited, 'score': shortcut.score, 'date_added': shortcut.date_added.isoformat(), 'date_updated': shortcut.date_updated.isoformat(), 'tags': [tag.name for tag in shortcut.tags] } data.append(shortcut_data) # Write data to JSON file with open(filename, 'w', encoding='utf-8') as f: json.dump(data, f, ensure_ascii=False, indent=4) print(f'Data successfully exported to {filename}') if __name__ == '__main__': from app import app with app.app_context(): export_shortcuts_to_json()